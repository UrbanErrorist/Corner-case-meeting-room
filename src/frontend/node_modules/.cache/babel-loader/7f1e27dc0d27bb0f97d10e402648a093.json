{"ast":null,"code":"import _slicedToArray from\"/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import'./App.css';// noinspection ES6CheckImport\nimport{Route,Switch,useHistory,useLocation,withRouter}from\"react-router-dom\";import{reactLocalStorage}from'reactjs-localstorage';import SignupComponent from\"./components/signup/signup.component\";import Login from\"./components/login/login.component\";import MenuAppBar from\"./components/app-bar/app-bar.component\";import Dashboard from\"./components/room-manager/dashboard.components\";import CustomerDashboard from\"./components/customer/customer-dashboard.component\";import Book from\"./components/customer/book/book.component\";import ManageRooms from\"./components/room-manager/rooms/manage-rooms-page.components\";import HomeComponent from\"./components/home.component\";import ManageProfile from\"./components/profile/manage-profile-page.component.jsx\";import ApiDoc from\"./components/api-doc/api-doc\";function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),auth=_React$useState2[0],setAuth=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),role=_React$useState4[0],setRole=_React$useState4[1];var _React$useState5=React.useState('Room Slot Booking'),_React$useState6=_slicedToArray(_React$useState5,2),title=_React$useState6[0],setTitle=_React$useState6[1];var history=useHistory();var location=useLocation();useEffect(function(){if(reactLocalStorage.get('token'))setAuth(true);else setAuth(false);setRole(reactLocalStorage.get('role'));if(location.pathname==='/book'&&reactLocalStorage.get('token')===null)history.replace('/');if(location.pathname==='/rooms'&&reactLocalStorage.get('token')===null){console.log(reactLocalStorage.get('token'));history.replace('/');}if(location.pathname==='/admin')window.location.replace('/admin/');if(location.pathname==='/api')setTitle('API Documentation');else{if(role==='customer')setTitle('Customer Dashboard');else if(role==='roomManager')setTitle('Room Manager Dashboard');else setTitle('Room Slot Booking');}// eslint-disable-next-line\n},[auth,location.pathname,role]);return React.createElement(\"div\",null,React.createElement(MenuAppBar,{title:title,auth:auth,role:role,setAuth:setAuth,history:history}),React.createElement(Switch,null,React.createElement(Route,{path:\"/signup\"},React.createElement(SignupComponent,{history:history})),React.createElement(Route,{path:\"/profile\"},auth&&React.createElement(ManageProfile,{history:history,setAuth:setAuth}),!auth&&location.pathname==='/profile'&&history.replace('/')),React.createElement(Route,{path:\"/login\"},React.createElement(Login,{auth:auth,setAuth:setAuth,setRole:setRole,history:history})),React.createElement(Route,{path:\"/book\"},auth&&React.createElement(Book,{auth:auth,setAuth:setAuth,setRole:setRole,history:history})),React.createElement(Route,{path:\"/rooms\"},auth&&React.createElement(ManageRooms,{auth:auth,setAuth:setAuth,setRole:setRole,history:history})),React.createElement(Route,{path:\"/api\"},React.createElement(ApiDoc,null)),React.createElement(Route,{path:\"/\"},role===\"roomManager\"&&React.createElement(Dashboard,{history:history}),role===\"customer\"&&React.createElement(CustomerDashboard,{history:history}),!(role===\"roomManager\")&&!(role===\"customer\")&&React.createElement(HomeComponent,{history:history}))));}export default withRouter(App);","map":{"version":3,"sources":["/Users/blackhat/TV Shows/Meeting Room/src/frontend/src/App.js"],"names":["React","useEffect","Route","Switch","useHistory","useLocation","withRouter","reactLocalStorage","SignupComponent","Login","MenuAppBar","Dashboard","CustomerDashboard","Book","ManageRooms","HomeComponent","ManageProfile","ApiDoc","App","useState","auth","setAuth","role","setRole","title","setTitle","history","location","get","pathname","replace","console","log","window"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\nimport './App.css';\n// noinspection ES6CheckImport\nimport {Route, Switch, useHistory, useLocation, withRouter} from \"react-router-dom\";\nimport {reactLocalStorage} from 'reactjs-localstorage'\n\n\nimport SignupComponent from \"./components/signup/signup.component\";\nimport Login from \"./components/login/login.component\";\nimport MenuAppBar from \"./components/app-bar/app-bar.component\";\nimport Dashboard from \"./components/room-manager/dashboard.components\";\nimport CustomerDashboard from \"./components/customer/customer-dashboard.component\";\nimport Book from \"./components/customer/book/book.component\";\nimport ManageRooms from \"./components/room-manager/rooms/manage-rooms-page.components\";\nimport HomeComponent from \"./components/home.component\";\nimport ManageProfile from \"./components/profile/manage-profile-page.component.jsx\";\nimport ApiDoc from \"./components/api-doc/api-doc\";\n\n\nfunction App() {\n    const [auth, setAuth] = React.useState(false);\n    const [role, setRole] = React.useState();\n    const [title, setTitle] = React.useState('Room Slot Booking');\n    const history = useHistory();\n    const location = useLocation();\n\n\n    useEffect(() => {\n        if (reactLocalStorage.get('token'))\n            setAuth(true);\n        else\n            setAuth(false);\n\n        setRole(reactLocalStorage.get('role'));\n\n        if (location.pathname === '/book' && reactLocalStorage.get('token') === null)\n            history.replace('/');\n\n        if (location.pathname === '/rooms' && reactLocalStorage.get('token') === null) {\n            console.log(reactLocalStorage.get('token'));\n            history.replace('/');\n        }\n\n        if(location.pathname === '/admin')\n            window.location.replace('/admin/');\n\n        if (location.pathname === '/api')\n            setTitle('API Documentation');\n        else {\n            if (role === 'customer')\n                setTitle('Customer Dashboard');\n            else if (role === 'roomManager')\n                setTitle('Room Manager Dashboard');\n            else\n                setTitle('Room Slot Booking')\n        }\n        // eslint-disable-next-line\n    }, [auth, location.pathname, role]);\n\n    return (\n        <div>\n            <MenuAppBar title={title} auth={auth} role={role} setAuth={setAuth} history={history}/>\n            <Switch>\n                <Route path=\"/signup\">\n                    <SignupComponent history={history}/>\n                </Route>\n                <Route path=\"/profile\">\n                    {auth && <ManageProfile history={history} setAuth={setAuth}/>}\n                    {!auth && location.pathname === '/profile' && history.replace('/')}\n                </Route>\n                <Route path=\"/login\">\n                    <Login auth={auth} setAuth={setAuth} setRole={setRole} history={history}/>\n                </Route>\n                <Route path=\"/book\">\n                    {auth && <Book auth={auth} setAuth={setAuth} setRole={setRole} history={history}/>}\n                </Route>\n                <Route path=\"/rooms\">\n                    {auth && <ManageRooms auth={auth} setAuth={setAuth} setRole={setRole} history={history}/>}\n                </Route>\n                <Route path=\"/api\">\n                    <ApiDoc/>\n                </Route>\n                <Route path=\"/\">\n                    {(role === \"roomManager\") && <Dashboard history={history}/>}\n                    {(role === \"customer\") && <CustomerDashboard history={history}/>}\n                    {!(role === \"roomManager\") && !(role === \"customer\") &&\n                    <HomeComponent history={history}/>\n                    }\n                </Route>\n            </Switch>\n        </div>\n    );\n}\n\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}
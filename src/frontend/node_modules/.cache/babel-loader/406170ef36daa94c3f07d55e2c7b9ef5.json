{"ast":null,"code":"// Process footnote references ([^...])\n'use strict';\n\nmodule.exports = function footnote_ref(state, silent) {\n  var label,\n      pos,\n      footnoteId,\n      footnoteSubId,\n      max = state.posMax,\n      start = state.pos; // should be at least 4 chars - \"[^x]\"\n\n  if (start + 3 > max) {\n    return false;\n  }\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) {\n    return false;\n  }\n\n  if (state.src.charCodeAt(start) !== 0x5B\n  /* [ */\n  ) {\n      return false;\n    }\n\n  if (state.src.charCodeAt(start + 1) !== 0x5E\n  /* ^ */\n  ) {\n      return false;\n    }\n\n  if (state.level >= state.options.maxNesting) {\n    return false;\n  }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) {\n      return false;\n    }\n\n    if (state.src.charCodeAt(pos) === 0x0A) {\n      return false;\n    }\n\n    if (state.src.charCodeAt(pos) === 0x5D\n    /* ] */\n    ) {\n        break;\n      }\n  }\n\n  if (pos === start + 2) {\n    return false;\n  } // no empty footnote labels\n\n\n  if (pos >= max) {\n    return false;\n  }\n\n  pos++;\n  label = state.src.slice(start + 2, pos - 1);\n\n  if (typeof state.env.footnotes.refs[':' + label] === 'undefined') {\n    return false;\n  }\n\n  if (!silent) {\n    if (!state.env.footnotes.list) {\n      state.env.footnotes.list = [];\n    }\n\n    if (state.env.footnotes.refs[':' + label] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = {\n        label: label,\n        count: 0\n      };\n      state.env.footnotes.refs[':' + label] = footnoteId;\n    } else {\n      footnoteId = state.env.footnotes.refs[':' + label];\n    }\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count;\n    state.env.footnotes.list[footnoteId].count++;\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      subId: footnoteSubId,\n      level: state.level\n    });\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};","map":{"version":3,"sources":["/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/remarkable/lib/rules_inline/footnote_ref.js"],"names":["module","exports","footnote_ref","state","silent","label","pos","footnoteId","footnoteSubId","max","posMax","start","env","footnotes","refs","src","charCodeAt","level","options","maxNesting","slice","list","length","count","push","type","id","subId"],"mappings":"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","sourcesContent":["// Process footnote references ([^...])\n\n'use strict';\n\n\nmodule.exports = function footnote_ref(state, silent) {\n  var label,\n      pos,\n      footnoteId,\n      footnoteSubId,\n      max = state.posMax,\n      start = state.pos;\n\n  // should be at least 4 chars - \"[^x]\"\n  if (start + 3 > max) { return false; }\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x0A) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos >= max) { return false; }\n  pos++;\n\n  label = state.src.slice(start + 2, pos - 1);\n  if (typeof state.env.footnotes.refs[':' + label] === 'undefined') { return false; }\n\n  if (!silent) {\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n\n    if (state.env.footnotes.refs[':' + label] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = { label: label, count: 0 };\n      state.env.footnotes.refs[':' + label] = footnoteId;\n    } else {\n      footnoteId = state.env.footnotes.refs[':' + label];\n    }\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count;\n    state.env.footnotes.list[footnoteId].count++;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      subId: footnoteSubId,\n      level: state.level\n    });\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = '’'; // This function returns true if the character at `pos`\n// could be inside a word.\n\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) {\n    return false;\n  }\n\n  return !PUNCT_RE.test(str[pos]);\n}\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item, canOpen, canClose, j, isSingle, blkIdx, tokens, stack;\n\n  if (!state.options.typographer) {\n    return;\n  }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n    if (state.tokens[blkIdx].type !== 'inline') {\n      continue;\n    }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) {\n        continue;\n      }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) {\n          break;\n        }\n      }\n\n      stack.length = j + 1;\n      text = token.content;\n      pos = 0;\n      max = text.length;\n      /*eslint no-labels:0,block-scoped-var:0*/\n\n      OUTER: while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n\n        if (!t) {\n          break;\n        }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = t[0] === \"'\";\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n\n            if (stack[j].level < thisLevel) {\n              break;\n            }\n\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"sources":["/Users/blackhat/Desktop/testingRoom/src/frontend/node_modules/remarkable/lib/rules_core/smartquotes.js"],"names":["QUOTE_TEST_RE","QUOTE_RE","PUNCT_RE","APOSTROPHE","isLetter","str","pos","length","test","replaceAt","index","ch","substr","module","exports","smartquotes","state","i","token","text","t","max","thisLevel","lastSpace","nextSpace","item","canOpen","canClose","j","isSingle","blkIdx","tokens","stack","options","typographer","type","children","level","content","OUTER","lastIndex","exec","single","quotes","push"],"mappings":"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","sourcesContent":["// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = '’';\n\n// This function returns true if the character at `pos`\n// could be inside a word.\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) { return false; }\n  return !PUNCT_RE.test(str[pos]);\n}\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item,\n      canOpen, canClose, j, isSingle, blkIdx, tokens,\n      stack;\n\n  if (!state.options.typographer) { return; }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) { continue; }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) { break; }\n      }\n      stack.length = j + 1;\n\n      text = token.content;\n      pos = 0;\n      max = text.length;\n\n      /*eslint no-labels:0,block-scoped-var:0*/\n      OUTER:\n      while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n        if (!t) { break; }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = (t[0] === \"'\");\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n            if (stack[j].level < thisLevel) { break; }\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"script"}
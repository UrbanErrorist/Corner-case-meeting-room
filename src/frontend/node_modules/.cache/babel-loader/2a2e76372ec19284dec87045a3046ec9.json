{"ast":null,"code":"import _slicedToArray from\"/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import Title from'../../title.component';import List from\"@material-ui/core/List\";import ListItem from\"@material-ui/core/ListItem\";import{Input,ListItemText,Paper}from\"@material-ui/core\";import DeleteIcon from'@material-ui/icons/Delete';import EditIcon from'@material-ui/icons/Edit';import TextField from\"@material-ui/core/TextField\";import SaveIcon from'@material-ui/icons/Save';import axios from\"axios\";import{reactLocalStorage}from\"reactjs-localstorage\";import Typography from\"@material-ui/core/Typography\";import IconButton from\"@material-ui/core/IconButton\";import TimeSlotsModal from\"./timeslots/time-slots-modal.component\";var useStyles=makeStyles(function(theme){return{seeMore:{marginTop:theme.spacing(3)},listPaper:{width:'100%',padding:'0 2%'},roomTitle:{float:'left'},delRoom:{float:'right',margin:'33px 0px 0 ',transform:'translateY(-50%)',cursor:'pointer'},numDays:{float:'right',margin:'0px 10% 0 0',transform:'translateY(-10%)',textAlign:'center',cursor:'pointer'},numDaysH3:{marginBottom:'5px'}};});function RowComponent(props){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),edit=_React$useState2[0],setEdit=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),name=_React$useState4[0],setName=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),days=_React$useState6[0],setDays=_React$useState6[1];var _React$useState7=React.useState(props.room),_React$useState8=_slicedToArray(_React$useState7,2),room=_React$useState8[0],setRoom=_React$useState8[1];var handleEdit=function handleEdit(e){e.preventDefault();setEdit(true);};var handleSave=function handleSave(e){e.preventDefault();console.log(name.length);var data={};if(name.length)data.name=name;if(days.length)data.num_days_in_adv=days;axios.patch(baseUrl+'/rooms/'+room.id,data,{headers:{'Authorization':'token '+reactLocalStorage.get('token')}}).then(function(res){setRoom(res.data);});setEdit(false);};var handleNameChange=function handleNameChange(e){e.preventDefault();setName(e.target.value);};var handleDaysChange=function handleDaysChange(e){e.preventDefault();setDays(e.target.value);};var handleDel=function handleDel(e){e.preventDefault();axios.delete(baseUrl+'/rooms/'+room.id,{headers:{'Authorization':'token '+reactLocalStorage.get('token')}}).then(function(){props.setDel(!props.del);});};return React.createElement(ListItem,null,React.createElement(Paper,{className:classes.listPaper},React.createElement(ListItemText,{className:classes.roomTitle},!edit&&React.createElement(\"h3\",null,room.name),edit&&React.createElement(\"div\",null,React.createElement(TextField,{type:\"text\",placeholder:room.name,onChange:handleNameChange}),React.createElement(\"br\",null),React.createElement(\"br\",null))),React.createElement(IconButton,{className:classes.delRoom,onClick:handleDel},React.createElement(DeleteIcon,null)),!edit&&React.createElement(IconButton,{className:classes.delRoom,onClick:handleEdit},React.createElement(EditIcon,null)),edit&&React.createElement(IconButton,{className:classes.delRoom,onClick:handleSave},React.createElement(SaveIcon,null)),React.createElement(TimeSlotsModal,{roomId:room.id,roomName:room.name,setDel:props.setDel,del:props.del}),React.createElement(\"div\",{className:classes.numDays},!edit&&React.createElement(\"h3\",{className:classes.numDaysH3},room.num_days_in_adv),edit&&React.createElement(\"div\",null,React.createElement(Input,{type:\"number\",placeholder:room.num_days_in_adv.toString(),onChange:handleDaysChange}),React.createElement(\"br\",null)),\"days to book in advance\")));}var baseUrl=\"\".concat(process.env.REACT_APP_HOST_BASE_URL);export default function Rooms(props){var rows=props.rows;return React.createElement(React.Fragment,null,React.createElement(\"div\",{style:{textAlign:'left'}},React.createElement(Title,null,\"My Rooms\")),React.createElement(List,null,rows.map(function(row){return React.createElement(RowComponent,{key:row.id,room:row,setDel:props.setDel,del:props.del});}),!rows.length&&React.createElement(Typography,{color:\"textSecondary\",style:{textAlign:'center'}},\"No rooms to display!\")));}","map":{"version":3,"sources":["/Users/blackhat/TV Shows/Meeting Room/src/frontend/src/components/room-manager/rooms/rooms.component..jsx"],"names":["React","makeStyles","Title","List","ListItem","Input","ListItemText","Paper","DeleteIcon","EditIcon","TextField","SaveIcon","axios","reactLocalStorage","Typography","IconButton","TimeSlotsModal","useStyles","theme","seeMore","marginTop","spacing","listPaper","width","padding","roomTitle","float","delRoom","margin","transform","cursor","numDays","textAlign","numDaysH3","marginBottom","RowComponent","props","classes","useState","edit","setEdit","name","setName","days","setDays","room","setRoom","handleEdit","e","preventDefault","handleSave","console","log","length","data","num_days_in_adv","patch","baseUrl","id","headers","get","then","res","handleNameChange","target","value","handleDaysChange","handleDel","delete","setDel","del","toString","process","env","REACT_APP_HOST_BASE_URL","Rooms","rows","map","row"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Title from '../../title.component';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport {Input, ListItemText, Paper} from \"@material-ui/core\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport TextField from \"@material-ui/core/TextField\";\nimport SaveIcon from '@material-ui/icons/Save';\nimport axios from \"axios\";\nimport {reactLocalStorage} from \"reactjs-localstorage\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TimeSlotsModal from \"./timeslots/time-slots-modal.component\";\n\nconst useStyles = makeStyles(theme => ({\n    seeMore: {\n        marginTop: theme.spacing(3),\n    },\n    listPaper: {\n        width: '100%',\n        padding: '0 2%'\n    },\n    roomTitle: {\n        float: 'left',\n    },\n    delRoom: {\n        float: 'right',\n        margin: '33px 0px 0 ',\n        transform: 'translateY(-50%)',\n        cursor: 'pointer'\n    },\n    numDays: {\n        float: 'right',\n        margin: '0px 10% 0 0',\n        transform: 'translateY(-10%)',\n        textAlign: 'center',\n        cursor: 'pointer'\n    },\n    numDaysH3: {\n        marginBottom: '5px'\n    }\n}));\n\nfunction RowComponent(props) {\n    const classes = useStyles();\n    const [edit, setEdit] = React.useState(false);\n    const [name, setName] = React.useState('');\n    const [days, setDays] = React.useState('');\n    const [room, setRoom] = React.useState(props.room);\n\n    const handleEdit = (e) => {\n        e.preventDefault();\n        setEdit(true);\n    };\n\n    const handleSave = (e) => {\n        e.preventDefault();\n        console.log(name.length);\n        let data = {};\n        if (name.length)\n            data.name = name;\n        if (days.length)\n            data.num_days_in_adv = days;\n        axios.patch(baseUrl + '/rooms/' + room.id, data, {headers: {'Authorization': 'token ' + reactLocalStorage.get('token')}}).then((res) => {\n            setRoom(res.data);\n        });\n        setEdit(false);\n    };\n\n    const handleNameChange = (e) => {\n        e.preventDefault();\n        setName(e.target.value);\n    };\n\n    const handleDaysChange = (e) => {\n        e.preventDefault();\n        setDays(e.target.value);\n    };\n\n    const handleDel = (e) => {\n        e.preventDefault();\n        axios.delete(baseUrl + '/rooms/' + room.id, {headers: {'Authorization': 'token ' + reactLocalStorage.get('token')}}).then(() => {\n            props.setDel(!props.del);\n        })\n    };\n\n    return (\n        <ListItem>\n            <Paper className={classes.listPaper}>\n                <ListItemText className={classes.roomTitle}>\n                    {!edit && <h3>{room.name}</h3>}\n                    {edit &&\n                    <div><TextField type='text' placeholder={room.name} onChange={handleNameChange}/><br/><br/></div>}\n                </ListItemText>\n                <IconButton className={classes.delRoom} onClick={handleDel}>\n                    <DeleteIcon/>\n                </IconButton>\n                {!edit && <IconButton className={classes.delRoom} onClick={handleEdit}>\n                    <EditIcon/>\n                </IconButton>}\n                {edit && <IconButton className={classes.delRoom} onClick={handleSave}>\n                    <SaveIcon/>\n                </IconButton>}\n                <TimeSlotsModal roomId={room.id} roomName={room.name} setDel={props.setDel} del={props.del}/>\n                <div className={classes.numDays}>\n                    {!edit && <h3 className={classes.numDaysH3}>{room.num_days_in_adv}</h3>}\n                    {edit && <div><Input type='number' placeholder={room.num_days_in_adv.toString()}\n                                         onChange={handleDaysChange}/><br/></div>}\n                    days to book in advance\n                </div>\n            </Paper>\n        </ListItem>\n    )\n}\n\nconst baseUrl = `${process.env.REACT_APP_HOST_BASE_URL}`;\n\nexport default function Rooms(props) {\n    const rows = props.rows;\n    return (\n        <React.Fragment>\n            <div style={{textAlign: 'left'}}><Title>My Rooms</Title></div>\n\n            <List>\n                {rows.map(row => (\n                    <RowComponent key={row.id} room={row} setDel={props.setDel} del={props.del}/>\n                ))}\n                {!rows.length &&\n                <Typography color=\"textSecondary\" style={{textAlign: 'center'}}>No rooms to display!</Typography>}\n            </List>\n        </React.Fragment>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        enumerable: true,\n        get: getter\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // define __esModule on exports\n\n  /******/\n\n\n  __webpack_require__.r = function (exports) {\n    /******/\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n      /******/\n      Object.defineProperty(exports, Symbol.toStringTag, {\n        value: 'Module'\n      });\n      /******/\n    }\n    /******/\n\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n    /******/\n  };\n  /******/\n\n  /******/\n  // create a fake namespace object\n\n  /******/\n  // mode & 1: value is a module id, require it\n\n  /******/\n  // mode & 2: merge all properties of value into the ns\n\n  /******/\n  // mode & 4: return value when already ns object\n\n  /******/\n  // mode & 8|1: behave like require\n\n  /******/\n\n\n  __webpack_require__.t = function (value, mode) {\n    /******/\n    if (mode & 1) value = __webpack_require__(value);\n    /******/\n\n    if (mode & 8) return value;\n    /******/\n\n    if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n    /******/\n\n    var ns = Object.create(null);\n    /******/\n\n    __webpack_require__.r(ns);\n    /******/\n\n\n    Object.defineProperty(ns, 'default', {\n      enumerable: true,\n      value: value\n    });\n    /******/\n\n    if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n      return value[key];\n    }.bind(null, key));\n    /******/\n\n    return ns;\n    /******/\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = 45);\n  /******/\n}(\n/************************************************************************/\n\n/******/\n[\n/* 0 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/object/keys\");\n  /***/\n},\n/* 1 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/array/is-array\");\n  /***/\n},\n/* 2 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/helpers/typeof\");\n  /***/\n},\n/* 3 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/object/assign\");\n  /***/\n},\n/* 4 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/regenerator\");\n  /***/\n},\n/* 5 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\");\n  /***/\n},\n/* 6 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\");\n  /***/\n},\n/* 7 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\");\n  /***/\n},\n/* 8 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/helpers/defineProperty\");\n  /***/\n},\n/* 9 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n  /***/\n},\n/* 10 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/object/define-properties\");\n  /***/\n},\n/* 11 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/json/stringify\");\n  /***/\n},\n/* 12 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"url\");\n  /***/\n},\n/* 13 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/helpers/toConsumableArray\");\n  /***/\n},\n/* 14 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/promise\");\n  /***/\n},\n/* 15 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/assign\");\n  /***/\n},\n/* 16 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/get\");\n  /***/\n},\n/* 17 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/helpers/asyncToGenerator\");\n  /***/\n},\n/* 18 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"fast-json-patch\");\n  /***/\n},\n/* 19 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"btoa\");\n  /***/\n},\n/* 20 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/startsWith\");\n  /***/\n},\n/* 21 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/get-iterator\");\n  /***/\n},\n/* 22 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/helpers/slicedToArray\");\n  /***/\n},\n/* 23 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"js-yaml\");\n  /***/\n},\n/* 24 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/helpers/classCallCheck\");\n  /***/\n},\n/* 25 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/helpers/createClass\");\n  /***/\n},\n/* 26 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"qs\");\n  /***/\n},\n/* 27 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/object/create\");\n  /***/\n},\n/* 28 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"querystring-browser\");\n  /***/\n},\n/* 29 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/isObject\");\n  /***/\n},\n/* 30 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"buffer/\");\n  /***/\n},\n/* 31 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/isString\");\n  /***/\n},\n/* 32 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/find\");\n  /***/\n},\n/* 33 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"deep-extend\");\n  /***/\n},\n/* 34 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@kyleshockey/object-assign-deep\");\n  /***/\n},\n/* 35 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/core-js/weak-map\");\n  /***/\n},\n/* 36 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"cross-fetch\");\n  /***/\n},\n/* 37 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"traverse\");\n  /***/\n},\n/* 38 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/pick\");\n  /***/\n},\n/* 39 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime-corejs2/helpers/objectWithoutProperties\");\n  /***/\n},\n/* 40 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/isPlainObject\");\n  /***/\n},\n/* 41 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/isArray\");\n  /***/\n},\n/* 42 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"cookie\");\n  /***/\n},\n/* 43 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"utf8-bytes\");\n  /***/\n},\n/* 44 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"utfstring\");\n  /***/\n},\n/* 45 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  module.exports = __webpack_require__(50);\n  /***/\n},\n/* 46 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash/cloneDeep\");\n  /***/\n},\n/* 47 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"cross-fetch/polyfill\");\n  /***/\n},\n/* 48 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"isomorphic-form-data\");\n  /***/\n},\n/* 49 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"encode-3986\");\n  /***/\n},\n/* 50 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n\n  var oas3_parameter_builders_namespaceObject = {};\n\n  __webpack_require__.r(oas3_parameter_builders_namespaceObject);\n\n  __webpack_require__.d(oas3_parameter_builders_namespaceObject, \"path\", function () {\n    return parameter_builders_path;\n  });\n\n  __webpack_require__.d(oas3_parameter_builders_namespaceObject, \"query\", function () {\n    return parameter_builders_query;\n  });\n\n  __webpack_require__.d(oas3_parameter_builders_namespaceObject, \"header\", function () {\n    return parameter_builders_header;\n  });\n\n  __webpack_require__.d(oas3_parameter_builders_namespaceObject, \"cookie\", function () {\n    return cookie;\n  }); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/define-property\"\n\n\n  var define_property_ = __webpack_require__(9);\n\n  var define_property_default =\n  /*#__PURE__*/\n  __webpack_require__.n(define_property_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/define-properties\"\n\n\n  var define_properties_ = __webpack_require__(10);\n\n  var define_properties_default =\n  /*#__PURE__*/\n  __webpack_require__.n(define_properties_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\"\n\n\n  var get_own_property_descriptors_ = __webpack_require__(5);\n\n  var get_own_property_descriptors_default =\n  /*#__PURE__*/\n  __webpack_require__.n(get_own_property_descriptors_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\"\n\n\n  var get_own_property_descriptor_ = __webpack_require__(6);\n\n  var get_own_property_descriptor_default =\n  /*#__PURE__*/\n  __webpack_require__.n(get_own_property_descriptor_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\"\n\n\n  var get_own_property_symbols_ = __webpack_require__(7);\n\n  var get_own_property_symbols_default =\n  /*#__PURE__*/\n  __webpack_require__.n(get_own_property_symbols_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/keys\"\n\n\n  var keys_ = __webpack_require__(0);\n\n  var keys_default =\n  /*#__PURE__*/\n  __webpack_require__.n(keys_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/defineProperty\"\n\n\n  var defineProperty_ = __webpack_require__(8);\n\n  var defineProperty_default =\n  /*#__PURE__*/\n  __webpack_require__.n(defineProperty_); // EXTERNAL MODULE: external \"lodash/cloneDeep\"\n\n\n  var cloneDeep_ = __webpack_require__(46); // EXTERNAL MODULE: external \"lodash/assign\"\n\n\n  var assign_ = __webpack_require__(15);\n\n  var assign_default =\n  /*#__PURE__*/\n  __webpack_require__.n(assign_); // EXTERNAL MODULE: external \"lodash/startsWith\"\n\n\n  var startsWith_ = __webpack_require__(20);\n\n  var startsWith_default =\n  /*#__PURE__*/\n  __webpack_require__.n(startsWith_); // EXTERNAL MODULE: external \"url\"\n\n\n  var external_url_ = __webpack_require__(12);\n\n  var external_url_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_url_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/regenerator\"\n\n\n  var regenerator_ = __webpack_require__(4);\n\n  var regenerator_default =\n  /*#__PURE__*/\n  __webpack_require__.n(regenerator_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/slicedToArray\"\n\n\n  var slicedToArray_ = __webpack_require__(22);\n\n  var slicedToArray_default =\n  /*#__PURE__*/\n  __webpack_require__.n(slicedToArray_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/json/stringify\"\n\n\n  var stringify_ = __webpack_require__(11);\n\n  var stringify_default =\n  /*#__PURE__*/\n  __webpack_require__.n(stringify_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/typeof\"\n\n\n  var typeof_ = __webpack_require__(2);\n\n  var typeof_default =\n  /*#__PURE__*/\n  __webpack_require__.n(typeof_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/array/is-array\"\n\n\n  var is_array_ = __webpack_require__(1);\n\n  var is_array_default =\n  /*#__PURE__*/\n  __webpack_require__.n(is_array_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/asyncToGenerator\"\n\n\n  var asyncToGenerator_ = __webpack_require__(17);\n\n  var asyncToGenerator_default =\n  /*#__PURE__*/\n  __webpack_require__.n(asyncToGenerator_); // EXTERNAL MODULE: external \"cross-fetch/polyfill\"\n\n\n  var polyfill_ = __webpack_require__(47); // EXTERNAL MODULE: external \"qs\"\n\n\n  var external_qs_ = __webpack_require__(26);\n\n  var external_qs_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_qs_); // EXTERNAL MODULE: external \"js-yaml\"\n\n\n  var external_js_yaml_ = __webpack_require__(23);\n\n  var external_js_yaml_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_js_yaml_); // EXTERNAL MODULE: external \"lodash/isString\"\n\n\n  var isString_ = __webpack_require__(31);\n\n  var isString_default =\n  /*#__PURE__*/\n  __webpack_require__.n(isString_); // CONCATENATED MODULE: ./src/http.js\n\n  /* global fetch */\n  // For testing\n\n\n  var http_self = {\n    serializeRes: serializeRes,\n    mergeInQueryOrForm: mergeInQueryOrForm // Handles fetch-like syntax and the case where there is only one object passed-in\n    // (which will have the URL as a property). Also serilizes the response.\n\n  };\n\n  function http_http(_x) {\n    return _http.apply(this, arguments);\n  } // exported for testing\n\n\n  function _http() {\n    _http = asyncToGenerator_default()(\n    /*#__PURE__*/\n    regenerator_default.a.mark(function _callee(url) {\n      var request,\n          contentType,\n          res,\n          error,\n          _error,\n          _args = arguments;\n\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              request = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n\n              if (typeof_default()(url) === 'object') {\n                request = url;\n                url = request.url;\n              }\n\n              request.headers = request.headers || {}; // Serializes query, for convenience\n              // Should be the last thing we do, as its hard to mutate the URL with\n              // the search string, but much easier to manipulate the req.query object\n\n              http_self.mergeInQueryOrForm(request); // Newlines in header values cause weird error messages from `window.fetch`,\n              // so let's massage them out.\n              // Context: https://stackoverflow.com/a/50709178\n\n              if (request.headers) {\n                keys_default()(request.headers).forEach(function (headerName) {\n                  var value = request.headers[headerName];\n\n                  if (typeof value === 'string') {\n                    request.headers[headerName] = value.replace(/\\n+/g, ' ');\n                  }\n                });\n              } // Wait for the request interceptor, if it was provided\n              // WARNING: don't put anything between this and the request firing unless\n              // you have a good reason!\n\n\n              if (!request.requestInterceptor) {\n                _context.next = 12;\n                break;\n              }\n\n              _context.next = 8;\n              return request.requestInterceptor(request);\n\n            case 8:\n              _context.t0 = _context.sent;\n\n              if (_context.t0) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.t0 = request;\n\n            case 11:\n              request = _context.t0;\n\n            case 12:\n              // for content-type=multipart\\/form-data remove content-type from request before fetch\n              // so that correct one with `boundary` is set\n              contentType = request.headers['content-type'] || request.headers['Content-Type'];\n\n              if (/multipart\\/form-data/i.test(contentType)) {\n                delete request.headers['content-type'];\n                delete request.headers['Content-Type'];\n              } // eslint-disable-next-line no-undef\n\n\n              _context.prev = 14;\n              _context.next = 17;\n              return (request.userFetch || fetch)(request.url, request);\n\n            case 17:\n              res = _context.sent;\n              _context.next = 20;\n              return http_self.serializeRes(res, url, request);\n\n            case 20:\n              res = _context.sent;\n\n              if (!request.responseInterceptor) {\n                _context.next = 28;\n                break;\n              }\n\n              _context.next = 24;\n              return request.responseInterceptor(res);\n\n            case 24:\n              _context.t1 = _context.sent;\n\n              if (_context.t1) {\n                _context.next = 27;\n                break;\n              }\n\n              _context.t1 = res;\n\n            case 27:\n              res = _context.t1;\n\n            case 28:\n              _context.next = 38;\n              break;\n\n            case 30:\n              _context.prev = 30;\n              _context.t2 = _context[\"catch\"](14);\n\n              if (res) {\n                _context.next = 34;\n                break;\n              }\n\n              throw _context.t2;\n\n            case 34:\n              error = new Error(res.statusText);\n              error.statusCode = error.status = res.status;\n              error.responseError = _context.t2;\n              throw error;\n\n            case 38:\n              if (res.ok) {\n                _context.next = 43;\n                break;\n              }\n\n              _error = new Error(res.statusText);\n              _error.statusCode = _error.status = res.status;\n              _error.response = res;\n              throw _error;\n\n            case 43:\n              return _context.abrupt(\"return\", res);\n\n            case 44:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[14, 30]]);\n    }));\n    return _http.apply(this, arguments);\n  }\n\n  var shouldDownloadAsText = function shouldDownloadAsText() {\n    var contentType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    return /(json|xml|yaml|text)\\b/.test(contentType);\n  };\n\n  function parseBody(body, contentType) {\n    if (contentType && (contentType.indexOf('application/json') === 0 || contentType.indexOf('+json') > 0)) {\n      return JSON.parse(body);\n    }\n\n    return external_js_yaml_default.a.safeLoad(body);\n  } // Serialize the response, returns a promise with headers and the body part of the hash\n\n\n  function serializeRes(oriRes, url) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref$loadSpec = _ref.loadSpec,\n        loadSpec = _ref$loadSpec === void 0 ? false : _ref$loadSpec;\n\n    var res = {\n      ok: oriRes.ok,\n      url: oriRes.url || url,\n      status: oriRes.status,\n      statusText: oriRes.statusText,\n      headers: serializeHeaders(oriRes.headers)\n    };\n    var contentType = res.headers['content-type'];\n    var useText = loadSpec || shouldDownloadAsText(contentType); // Note: Response.blob not implemented in node-fetch 1.  Use buffer instead.\n\n    var getBody = useText ? oriRes.text : oriRes.blob || oriRes.buffer;\n    return getBody.call(oriRes).then(function (body) {\n      res.text = body;\n      res.data = body;\n\n      if (useText) {\n        try {\n          var obj = parseBody(body, contentType);\n          res.body = obj;\n          res.obj = obj;\n        } catch (e) {\n          res.parseError = e;\n        }\n      }\n\n      return res;\n    });\n  } // Serialize headers into a hash, where mutliple-headers result in an array.\n  //\n  // eg: Cookie: one\n  //     Cookie: two\n  //  =  { Cookie: [ \"one\", \"two\" ]\n\n\n  function serializeHeaders() {\n    var headers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var obj = {}; // Iterate over headers, making multiple-headers into an array\n\n    if (typeof headers.forEach === 'function') {\n      headers.forEach(function (headerValue, header) {\n        if (obj[header] !== undefined) {\n          obj[header] = is_array_default()(obj[header]) ? obj[header] : [obj[header]];\n          obj[header].push(headerValue);\n        } else {\n          obj[header] = headerValue;\n        }\n      });\n      return obj;\n    }\n\n    return obj;\n  }\n\n  function http_isFile(obj, navigatorObj) {\n    if (!navigatorObj && typeof navigator !== 'undefined') {\n      // eslint-disable-next-line no-undef\n      navigatorObj = navigator;\n    }\n\n    if (navigatorObj && navigatorObj.product === 'ReactNative') {\n      if (obj && typeof_default()(obj) === 'object' && typeof obj.uri === 'string') {\n        return true;\n      }\n\n      return false;\n    }\n\n    if (typeof File !== 'undefined') {\n      // eslint-disable-next-line no-undef\n      return obj instanceof File;\n    }\n\n    return obj !== null && typeof_default()(obj) === 'object' && typeof obj.pipe === 'function';\n  }\n\n  function formatValue(input, skipEncoding) {\n    var collectionFormat = input.collectionFormat,\n        allowEmptyValue = input.allowEmptyValue; // `input` can be string in OAS3 contexts\n\n    var value = typeof_default()(input) === 'object' ? input.value : input;\n    var SEPARATORS = {\n      csv: ',',\n      ssv: '%20',\n      tsv: '%09',\n      pipes: '|'\n    };\n\n    if (typeof value === 'undefined' && allowEmptyValue) {\n      return '';\n    }\n\n    if (http_isFile(value) || typeof value === 'boolean') {\n      return value;\n    }\n\n    var encodeFn = encodeURIComponent;\n\n    if (skipEncoding) {\n      if (isString_default()(value)) encodeFn = function encodeFn(str) {\n        return str;\n      };else encodeFn = function encodeFn(obj) {\n        return stringify_default()(obj);\n      };\n    }\n\n    if (typeof_default()(value) === 'object' && !is_array_default()(value)) {\n      return '';\n    }\n\n    if (!is_array_default()(value)) {\n      return encodeFn(value);\n    }\n\n    if (is_array_default()(value) && !collectionFormat) {\n      return value.map(encodeFn).join(',');\n    }\n\n    if (collectionFormat === 'multi') {\n      return value.map(encodeFn);\n    }\n\n    return value.map(encodeFn).join(SEPARATORS[collectionFormat]);\n  } // Encodes an object using appropriate serializer.\n\n\n  function encodeFormOrQuery(data) {\n    /**\n                                            * Encode parameter names and values\n                                            * @param {Object} result - parameter names and values\n                                            * @param {string} parameterName - Parameter name\n                                            * @return {object} encoded parameter names and values\n                                            */\n    var encodedQuery = keys_default()(data).reduce(function (result, parameterName) {\n      var isObject = function isObject(a) {\n        return a && typeof_default()(a) === 'object';\n      };\n\n      var paramValue = data[parameterName];\n      var skipEncoding = !!paramValue.skipEncoding;\n      var encodedParameterName = skipEncoding ? parameterName : encodeURIComponent(parameterName);\n      var notArray = isObject(paramValue) && !is_array_default()(paramValue);\n      result[encodedParameterName] = formatValue(notArray ? paramValue : {\n        value: paramValue\n      }, skipEncoding);\n      return result;\n    }, {});\n    return external_qs_default.a.stringify(encodedQuery, {\n      encode: false,\n      indices: false\n    }) || '';\n  } // If the request has a `query` object, merge it into the request.url, and delete the object\n\n\n  function mergeInQueryOrForm() {\n    var req = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _req$url = req.url,\n        url = _req$url === void 0 ? '' : _req$url,\n        query = req.query,\n        form = req.form;\n\n    var joinSearch = function joinSearch() {\n      for (var _len = arguments.length, strs = new Array(_len), _key = 0; _key < _len; _key++) {\n        strs[_key] = arguments[_key];\n      }\n\n      var search = strs.filter(function (a) {\n        return a;\n      }).join('&'); // Only truthy value\n\n      return search ? \"?\".concat(search) : ''; // Only add '?' if there is a str\n    };\n\n    if (form) {\n      var hasFile = keys_default()(form).some(function (key) {\n        return http_isFile(form[key].value);\n      });\n      var contentType = req.headers['content-type'] || req.headers['Content-Type'];\n\n      if (hasFile || /multipart\\/form-data/i.test(contentType)) {\n        var FormData = __webpack_require__(48); // eslint-disable-line global-require\n\n\n        req.body = new FormData();\n        keys_default()(form).forEach(function (key) {\n          req.body.append(key, formatValue(form[key], true));\n        });\n      } else {\n        req.body = encodeFormOrQuery(form);\n      }\n\n      delete req.form;\n    }\n\n    if (query) {\n      var _url$split = url.split('?'),\n          _url$split2 = slicedToArray_default()(_url$split, 2),\n          baseUrl = _url$split2[0],\n          oriSearch = _url$split2[1];\n\n      var newStr = '';\n\n      if (oriSearch) {\n        var oriQuery = external_qs_default.a.parse(oriSearch);\n        var keysToRemove = keys_default()(query);\n        keysToRemove.forEach(function (key) {\n          return delete oriQuery[key];\n        });\n        newStr = external_qs_default.a.stringify(oriQuery, {\n          encode: true\n        });\n      }\n\n      var finalStr = joinSearch(newStr, encodeFormOrQuery(query));\n      req.url = baseUrl + finalStr;\n      delete req.query;\n    }\n\n    return req;\n  } // Wrap a http function ( there are otherways to do this, conisder this deprecated )\n\n\n  function makeHttp(httpFn, preFetch, postFetch) {\n    postFetch = postFetch || function (a) {\n      return a;\n    };\n\n    preFetch = preFetch || function (a) {\n      return a;\n    };\n\n    return function (req) {\n      if (typeof req === 'string') {\n        req = {\n          url: req\n        };\n      }\n\n      http_self.mergeInQueryOrForm(req);\n      req = preFetch(req);\n      return postFetch(httpFn(req));\n    };\n  } // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/promise\"\n\n\n  var promise_ = __webpack_require__(14);\n\n  var promise_default =\n  /*#__PURE__*/\n  __webpack_require__.n(promise_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/get-iterator\"\n\n\n  var get_iterator_ = __webpack_require__(21);\n\n  var get_iterator_default =\n  /*#__PURE__*/\n  __webpack_require__.n(get_iterator_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/create\"\n\n\n  var create_ = __webpack_require__(27);\n\n  var create_default =\n  /*#__PURE__*/\n  __webpack_require__.n(create_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/assign\"\n\n\n  var object_assign_ = __webpack_require__(3);\n\n  var object_assign_default =\n  /*#__PURE__*/\n  __webpack_require__.n(object_assign_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/classCallCheck\"\n\n\n  var classCallCheck_ = __webpack_require__(24);\n\n  var classCallCheck_default =\n  /*#__PURE__*/\n  __webpack_require__.n(classCallCheck_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/createClass\"\n\n\n  var createClass_ = __webpack_require__(25);\n\n  var createClass_default =\n  /*#__PURE__*/\n  __webpack_require__.n(createClass_); // EXTERNAL MODULE: external \"lodash/find\"\n\n\n  var find_ = __webpack_require__(32);\n\n  var find_default =\n  /*#__PURE__*/\n  __webpack_require__.n(find_); // EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/toConsumableArray\"\n\n\n  var toConsumableArray_ = __webpack_require__(13);\n\n  var toConsumableArray_default =\n  /*#__PURE__*/\n  __webpack_require__.n(toConsumableArray_); // EXTERNAL MODULE: external \"fast-json-patch\"\n\n\n  var external_fast_json_patch_ = __webpack_require__(18);\n\n  var external_fast_json_patch_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_fast_json_patch_); // EXTERNAL MODULE: external \"deep-extend\"\n\n\n  var external_deep_extend_ = __webpack_require__(33);\n\n  var external_deep_extend_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_deep_extend_); // EXTERNAL MODULE: external \"@kyleshockey/object-assign-deep\"\n\n\n  var object_assign_deep_ = __webpack_require__(34);\n\n  var object_assign_deep_default =\n  /*#__PURE__*/\n  __webpack_require__.n(object_assign_deep_); // CONCATENATED MODULE: ./src/specmap/lib/index.js\n\n  /* harmony default export */\n\n\n  var lib = {\n    add: add,\n    replace: replace,\n    remove: remove,\n    merge: merge,\n    mergeDeep: mergeDeep,\n    context: context,\n    getIn: getIn,\n    applyPatch: applyPatch,\n    parentPathMatch: parentPathMatch,\n    flatten: flatten,\n    fullyNormalizeArray: fullyNormalizeArray,\n    normalizeArray: lib_normalizeArray,\n    isPromise: isPromise,\n    forEachNew: forEachNew,\n    forEachNewPrimitive: forEachNewPrimitive,\n    isJsonPatch: isJsonPatch,\n    isContextPatch: isContextPatch,\n    isPatch: isPatch,\n    isMutation: isMutation,\n    isAdditiveMutation: isAdditiveMutation,\n    isGenerator: isGenerator,\n    isFunction: isFunction,\n    isObject: lib_isObject,\n    isError: isError\n  };\n\n  function applyPatch(obj, patch, opts) {\n    opts = opts || {};\n    patch = object_assign_default()({}, patch, {\n      path: patch.path && normalizeJSONPath(patch.path)\n    });\n\n    if (patch.op === 'merge') {\n      var newValue = getInByJsonPath(obj, patch.path);\n      object_assign_default()(newValue, patch.value);\n      external_fast_json_patch_default.a.applyPatch(obj, [replace(patch.path, newValue)]);\n    } else if (patch.op === 'mergeDeep') {\n      var currentValue = getInByJsonPath(obj, patch.path); // Iterate the properties of the patch\n\n      for (var prop in patch.value) {\n        var propVal = patch.value[prop];\n        var isArray = is_array_default()(propVal);\n\n        if (isArray) {\n          // deepExtend doesn't merge arrays, so we will do it manually\n          var existing = currentValue[prop] || [];\n          currentValue[prop] = existing.concat(propVal);\n        } else if (lib_isObject(propVal) && !isArray) {\n          // If it's an object, iterate it's keys and merge\n          // if there are conflicting keys, merge deep, otherwise shallow merge\n          var currentObj = object_assign_default()({}, currentValue[prop]);\n\n          for (var key in propVal) {\n            if (Object.prototype.hasOwnProperty.call(currentObj, key)) {\n              // if there is a single conflicting key, just deepExtend the entire value\n              // and break from the loop (since all future keys are also merged)\n              // We do this because we can't deepExtend two primitives\n              // (currentObj[key] & propVal[key] may be primitives).\n              //\n              // we also deeply assign here, since we aren't in control of\n              // how deepExtend affects existing nested objects\n              currentObj = external_deep_extend_default()(object_assign_deep_default()({}, currentObj), propVal);\n              break;\n            } else {\n              object_assign_default()(currentObj, defineProperty_default()({}, key, propVal[key]));\n            }\n          }\n\n          currentValue[prop] = currentObj;\n        } else {\n          // It's a primitive, just replace existing\n          currentValue[prop] = propVal;\n        }\n      }\n    } else if (patch.op === 'add' && patch.path === '' && lib_isObject(patch.value)) {\n      // { op: 'add', path: '', value: { a: 1, b: 2 }}\n      // has no effect: json patch refuses to do anything.\n      // so let's break that patch down into a set of patches,\n      // one for each key in the intended root value.\n      var patches = keys_default()(patch.value).reduce(function (arr, key) {\n        arr.push({\n          op: 'add',\n          path: \"/\".concat(normalizeJSONPath(key)),\n          value: patch.value[key]\n        });\n        return arr;\n      }, []);\n      external_fast_json_patch_default.a.applyPatch(obj, patches);\n    } else if (patch.op === 'replace' && patch.path === '') {\n      var value = patch.value;\n\n      if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) && (is_array_default()(patch.value) || lib_isObject(patch.value))) {\n        value = object_assign_default()({}, value, patch.meta);\n      }\n\n      obj = value;\n    } else {\n      external_fast_json_patch_default.a.applyPatch(obj, [patch]); // Attach metadata to the resulting value.\n\n      if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) && (is_array_default()(patch.value) || lib_isObject(patch.value))) {\n        var _currentValue = getInByJsonPath(obj, patch.path);\n\n        var _newValue = object_assign_default()({}, _currentValue, patch.meta);\n\n        external_fast_json_patch_default.a.applyPatch(obj, [replace(patch.path, _newValue)]);\n      }\n    }\n\n    return obj;\n  }\n\n  function normalizeJSONPath(path) {\n    if (is_array_default()(path)) {\n      if (path.length < 1) {\n        return '';\n      }\n\n      return '/' + path.map(function (item) {\n        // eslint-disable-line prefer-template\n        return (item + '').replace(/~/g, '~0').replace(/\\//g, '~1'); // eslint-disable-line prefer-template\n      }).join('/');\n    }\n\n    return path;\n  } // =========================\n  // JSON-Patch Wrappers\n  // =========================\n\n\n  function add(path, value) {\n    return {\n      op: 'add',\n      path: path,\n      value: value\n    };\n  }\n\n  function lib_get(path) {\n    return {\n      op: '_get',\n      path: path\n    };\n  }\n\n  function replace(path, value, meta) {\n    return {\n      op: 'replace',\n      path: path,\n      value: value,\n      meta: meta\n    };\n  }\n\n  function remove(path, value) {\n    return {\n      op: 'remove',\n      path: path\n    };\n  } // Custom wrappers\n\n\n  function merge(path, value) {\n    return {\n      type: 'mutation',\n      op: 'merge',\n      path: path,\n      value: value\n    };\n  } // Custom wrappers\n\n\n  function mergeDeep(path, value) {\n    return {\n      type: 'mutation',\n      op: 'mergeDeep',\n      path: path,\n      value: value\n    };\n  }\n\n  function context(path, value) {\n    return {\n      type: 'context',\n      path: path,\n      value: value\n    };\n  } // =========================\n  // Iterators\n  // =========================\n\n\n  function forEachNew(mutations, fn) {\n    try {\n      return forEachNewPatch(mutations, forEach, fn);\n    } catch (e) {\n      return e;\n    }\n  }\n\n  function forEachNewPrimitive(mutations, fn) {\n    try {\n      return forEachNewPatch(mutations, forEachPrimitive, fn);\n    } catch (e) {\n      return e;\n    }\n  }\n\n  function forEachNewPatch(mutations, fn, callback) {\n    var res = mutations.filter(isAdditiveMutation).map(function (mutation) {\n      return fn(mutation.value, callback, mutation.path);\n    }) || [];\n    var flat = flatten(res);\n    var clean = cleanArray(flat);\n    return clean;\n  }\n\n  function forEachPrimitive(obj, fn, basePath) {\n    basePath = basePath || [];\n\n    if (is_array_default()(obj)) {\n      return obj.map(function (val, key) {\n        return forEachPrimitive(val, fn, basePath.concat(key));\n      });\n    }\n\n    if (lib_isObject(obj)) {\n      return keys_default()(obj).map(function (key) {\n        return forEachPrimitive(obj[key], fn, basePath.concat(key));\n      });\n    }\n\n    return fn(obj, basePath[basePath.length - 1], basePath);\n  }\n\n  function forEach(obj, fn, basePath) {\n    basePath = basePath || [];\n    var results = [];\n\n    if (basePath.length > 0) {\n      var newResults = fn(obj, basePath[basePath.length - 1], basePath);\n\n      if (newResults) {\n        results = results.concat(newResults);\n      }\n    }\n\n    if (is_array_default()(obj)) {\n      var arrayResults = obj.map(function (val, key) {\n        return forEach(val, fn, basePath.concat(key));\n      });\n\n      if (arrayResults) {\n        results = results.concat(arrayResults);\n      }\n    } else if (lib_isObject(obj)) {\n      var moreResults = keys_default()(obj).map(function (key) {\n        return forEach(obj[key], fn, basePath.concat(key));\n      });\n\n      if (moreResults) {\n        results = results.concat(moreResults);\n      }\n    }\n\n    results = flatten(results);\n    return results;\n  } // =========================\n  // Paths\n  // =========================\n\n\n  function parentPathMatch(path, arr) {\n    if (!is_array_default()(arr)) {\n      return false;\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      if (arr[i] !== path[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function getIn(obj, path) {\n    return path.reduce(function (val, token) {\n      if (typeof token !== 'undefined' && val) {\n        return val[token];\n      }\n\n      return val;\n    }, obj);\n  } // =========================\n  // Array\n  // =========================\n\n\n  function fullyNormalizeArray(arr) {\n    return cleanArray(flatten(lib_normalizeArray(arr)));\n  }\n\n  function lib_normalizeArray(arr) {\n    return is_array_default()(arr) ? arr : [arr];\n  }\n\n  function flatten(arr) {\n    var _ref;\n\n    return (_ref = []).concat.apply(_ref, toConsumableArray_default()(arr.map(function (val) {\n      return is_array_default()(val) ? flatten(val) : val;\n    })));\n  }\n\n  function cleanArray(arr) {\n    return arr.filter(function (elm) {\n      return typeof elm !== 'undefined';\n    });\n  } // =========================\n  // Is-Thing.\n  // =========================\n\n\n  function lib_isObject(val) {\n    return val && typeof_default()(val) === 'object';\n  }\n\n  function isPromise(val) {\n    return lib_isObject(val) && isFunction(val.then);\n  }\n\n  function isFunction(val) {\n    return val && typeof val === 'function';\n  }\n\n  function isError(patch) {\n    return patch instanceof Error;\n  }\n\n  function isJsonPatch(patch) {\n    if (isPatch(patch)) {\n      var op = patch.op;\n      return op === 'add' || op === 'remove' || op === 'replace';\n    }\n\n    return false;\n  }\n\n  function isGenerator(thing) {\n    return regenerator_default.a.isGeneratorFunction(thing);\n  }\n\n  function isMutation(patch) {\n    return isJsonPatch(patch) || isPatch(patch) && patch.type === 'mutation';\n  }\n\n  function isAdditiveMutation(patch) {\n    return isMutation(patch) && (patch.op === 'add' || patch.op === 'replace' || patch.op === 'merge' || patch.op === 'mergeDeep');\n  }\n\n  function isContextPatch(patch) {\n    return isPatch(patch) && patch.type === 'context';\n  }\n\n  function isPatch(patch) {\n    return patch && typeof_default()(patch) === 'object';\n  }\n\n  function getInByJsonPath(obj, jsonPath) {\n    try {\n      return external_fast_json_patch_default.a.getValueByPointer(obj, jsonPath);\n    } catch (e) {\n      console.error(e); // eslint-disable-line no-console\n\n      return {};\n    }\n  } // EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/weak-map\"\n\n\n  var weak_map_ = __webpack_require__(35);\n\n  var weak_map_default =\n  /*#__PURE__*/\n  __webpack_require__.n(weak_map_); // EXTERNAL MODULE: external \"cross-fetch\"\n\n\n  var external_cross_fetch_ = __webpack_require__(36); // EXTERNAL MODULE: external \"querystring-browser\"\n\n\n  var external_querystring_browser_ = __webpack_require__(28);\n\n  var external_querystring_browser_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_querystring_browser_); // CONCATENATED MODULE: ./src/specmap/lib/create-error.js\n\n\n  function createErrorType(name, init) {\n    function E() {\n      if (!Error.captureStackTrace) {\n        this.stack = new Error().stack;\n      } else {\n        Error.captureStackTrace(this, this.constructor);\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.message = args[0];\n      init && init.apply(this, args);\n    }\n\n    E.prototype = new Error();\n    E.prototype.name = name;\n    E.prototype.constructor = E;\n    return E;\n  } // EXTERNAL MODULE: external \"traverse\"\n\n\n  var external_traverse_ = __webpack_require__(37);\n\n  var external_traverse_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_traverse_); // CONCATENATED MODULE: ./src/specmap/helpers.js\n  // This will match if the direct parent's key exactly matches an item.\n\n\n  var freelyNamedKeyParents = ['properties']; // This will match if the grandparent's key exactly matches an item.\n  // NOTE that this is for finding non-free paths!\n\n  var nonFreelyNamedKeyGrandparents = ['properties']; // This will match if the joined parent path exactly matches an item.\n  //\n  // This is mostly useful for filtering out root-level reusable item names,\n  // for example `[\"definitions\", \"$ref\"]`\n\n  var freelyNamedPaths = [// Swagger 2.0\n  'definitions', 'parameters', 'responses', 'securityDefinitions', // OpenAPI 3.0\n  'components/schemas', 'components/responses', 'components/parameters', 'components/securitySchemes']; // This will match if any of these items are substrings of the joined\n  // parent path.\n  //\n  // Warning! These are powerful. Beware of edge cases.\n\n  var freelyNamedAncestors = ['schema/example', 'items/example'];\n\n  function isFreelyNamed(parentPath) {\n    var parentKey = parentPath[parentPath.length - 1];\n    var grandparentKey = parentPath[parentPath.length - 2];\n    var parentStr = parentPath.join('/');\n    return (// eslint-disable-next-line max-len\n      freelyNamedKeyParents.indexOf(parentKey) > -1 && nonFreelyNamedKeyGrandparents.indexOf(grandparentKey) === -1 || freelyNamedPaths.indexOf(parentStr) > -1 || freelyNamedAncestors.some(function (el) {\n        return parentStr.indexOf(el) > -1;\n      })\n    );\n  }\n\n  function generateAbsoluteRefPatches(obj, basePath) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        specmap = _ref.specmap,\n        _ref$getBaseUrlForNod = _ref.getBaseUrlForNodePath,\n        getBaseUrlForNodePath = _ref$getBaseUrlForNod === void 0 ? function (path) {\n      return specmap.getContext([].concat(toConsumableArray_default()(basePath), toConsumableArray_default()(path))).baseDoc;\n    } : _ref$getBaseUrlForNod,\n        _ref$targetKeys = _ref.targetKeys,\n        targetKeys = _ref$targetKeys === void 0 ? ['$ref', '$$ref'] : _ref$targetKeys;\n\n    var patches = [];\n    external_traverse_default()(obj).forEach(function () {\n      if (targetKeys.indexOf(this.key) > -1) {\n        var nodePath = this.path; // this node's path, relative to `obj`\n\n        var fullPath = basePath.concat(this.path);\n        var absolutifiedRefValue = absolutifyPointer(this.node, getBaseUrlForNodePath(nodePath));\n        patches.push(specmap.replace(fullPath, absolutifiedRefValue));\n      }\n    });\n    return patches;\n  }\n\n  function absolutifyPointer(pointer, baseUrl) {\n    var _pointer$split = pointer.split('#'),\n        _pointer$split2 = slicedToArray_default()(_pointer$split, 2),\n        urlPart = _pointer$split2[0],\n        fragmentPart = _pointer$split2[1];\n\n    var newRefUrlPart = external_url_default.a.resolve(urlPart || '', baseUrl || '');\n    return fragmentPart ? \"\".concat(newRefUrlPart, \"#\").concat(fragmentPart) : newRefUrlPart;\n  } // CONCATENATED MODULE: ./src/constants.js\n\n\n  var ACCEPT_HEADER_VALUE_FOR_DOCUMENTS = 'application/json, application/yaml'; // CONCATENATED MODULE: ./src/specmap/lib/refs.js\n\n  var ABSOLUTE_URL_REGEXP = new RegExp('^([a-z]+://|//)', 'i');\n  var JSONRefError = createErrorType('JSONRefError', function (message, extra, oriError) {\n    this.originalError = oriError;\n    object_assign_default()(this, extra || {});\n  });\n  var docCache = {};\n  var specmapRefs = new weak_map_default.a();\n  var skipResolutionTestFns = [function (path) {\n    return (// OpenAPI 3.0 Response Media Type Example\n      // [\"paths\", *, *, \"responses\", *, \"content\", *, \"example\"]\n      path[0] === 'paths' && path[3] === 'responses' && path[5] === 'content' && path[7] === 'example'\n    );\n  }, function (path) {\n    return (// OpenAPI 3.0 Request Body Media Type Example\n      // [\"paths\", *, *, \"responses\", *, \"content\", *, \"example\"]\n      path[0] === 'paths' && path[3] === 'requestBody' && path[4] === 'content' && path[6] === 'example'\n    );\n  }];\n\n  var shouldSkipResolution = function shouldSkipResolution(path) {\n    return skipResolutionTestFns.some(function (fn) {\n      return fn(path);\n    });\n  }; // =========================\n  // Core\n  // =========================\n\n  /**\n   * This plugin resolves the JSON pointers.\n   * A major part of this plugin deals with cyclic references via 2 mechanisms.\n   * 1. If a pointer was already resolved before in this path, halt.\n   * 2. If the patch value points to one of the ancestors in this path, halt.\n   *\n   * Note that either one of these mechanism is sufficient, both must be in place.\n   * For examples:\n   *\n   * Given the following spec, #1 alone is insufficient because after the 2nd\n   * application, there will be a cyclic object reference.\n   *   a.b.c: $ref-d\n   *   d.e.f: $ref-a (per #1, safe to return patch as no immediate cycle)\n   *\n   * Given the following spec, #2 alone is insufficient because although there will\n   * never be any cyclic object reference, the plugin will keep producing patches.\n   *   a: $ref-b\n   *   b: $ref-a\n   */\n\n\n  var refs_plugin = {\n    key: '$ref',\n    plugin: function plugin(ref, key, fullPath, specmap) {\n      var specmapInstance = specmap.getInstance();\n      var parent = fullPath.slice(0, -1);\n\n      if (isFreelyNamed(parent) || shouldSkipResolution(parent)) {\n        return;\n      }\n\n      var baseDoc = specmap.getContext(fullPath).baseDoc;\n\n      if (typeof ref !== 'string') {\n        return new JSONRefError('$ref: must be a string (JSON-Ref)', {\n          $ref: ref,\n          baseDoc: baseDoc,\n          fullPath: fullPath\n        });\n      }\n\n      var splitString = split(ref);\n      var refPath = splitString[0];\n      var pointer = splitString[1] || '';\n      var basePath;\n\n      try {\n        basePath = baseDoc || refPath ? absoluteify(refPath, baseDoc) : null;\n      } catch (e) {\n        return wrapError(e, {\n          pointer: pointer,\n          $ref: ref,\n          basePath: basePath,\n          fullPath: fullPath\n        });\n      }\n\n      var promOrVal;\n      var tokens;\n\n      if (pointerAlreadyInPath(pointer, basePath, parent, specmap)) {\n        // Cyclic reference!\n        // if `useCircularStructures` is not set, just leave the reference\n        // unresolved, but absolutify it so that we don't leave an invalid $ref\n        // path in the content\n        if (!specmapInstance.useCircularStructures) {\n          var _absolutifiedRef = absolutifyPointer(ref, basePath);\n\n          if (ref === _absolutifiedRef) {\n            // avoids endless looping\n            // without this, the ref plugin never stops seeing this $ref\n            return null;\n          }\n\n          return lib.replace(fullPath, _absolutifiedRef);\n        }\n      }\n\n      if (basePath == null) {\n        tokens = jsonPointerToArray(pointer);\n        promOrVal = specmap.get(tokens);\n\n        if (typeof promOrVal === 'undefined') {\n          promOrVal = new JSONRefError(\"Could not resolve reference: \".concat(ref), {\n            pointer: pointer,\n            $ref: ref,\n            baseDoc: baseDoc,\n            fullPath: fullPath\n          });\n        }\n      } else {\n        promOrVal = extractFromDoc(basePath, pointer);\n\n        if (promOrVal.__value != null) {\n          promOrVal = promOrVal.__value;\n        } else {\n          promOrVal = promOrVal.catch(function (e) {\n            throw wrapError(e, {\n              pointer: pointer,\n              $ref: ref,\n              baseDoc: baseDoc,\n              fullPath: fullPath\n            });\n          });\n        }\n      }\n\n      if (promOrVal instanceof Error) {\n        return [lib.remove(fullPath), promOrVal];\n      }\n\n      var absolutifiedRef = absolutifyPointer(ref, basePath);\n      var patch = lib.replace(parent, promOrVal, {\n        $$ref: absolutifiedRef\n      });\n\n      if (basePath && basePath !== baseDoc) {\n        return [patch, lib.context(parent, {\n          baseDoc: basePath\n        })];\n      }\n\n      try {\n        // prevents circular values from being constructed, unless we specifically\n        // want that to happen\n        if (!patchValueAlreadyInPath(specmap.state, patch) || specmapInstance.useCircularStructures) {\n          return patch;\n        }\n      } catch (e) {\n        // if we're catching here, path traversal failed, so we should\n        // ditch without sending any patches back up.\n        //\n        // this is a narrow fix for the larger problem of patches being queued\n        // and then having the state they were generated against be modified\n        // before they are applied.\n        //\n        // TODO: re-engineer specmap patch/state management to avoid this\n        return null;\n      }\n    }\n  };\n  var mod = object_assign_default()(refs_plugin, {\n    docCache: docCache,\n    absoluteify: absoluteify,\n    clearCache: clearCache,\n    JSONRefError: JSONRefError,\n    wrapError: wrapError,\n    getDoc: getDoc,\n    split: split,\n    extractFromDoc: extractFromDoc,\n    fetchJSON: fetchJSON,\n    extract: extract,\n    jsonPointerToArray: jsonPointerToArray,\n    unescapeJsonPointerToken: unescapeJsonPointerToken\n  });\n  /* harmony default export */\n\n  var refs = mod; // =========================\n  // Utilities\n  // =========================\n\n  /**\n   * Resolves a path and its base to an abolute URL.\n   * @api public\n   */\n\n  function absoluteify(path, basePath) {\n    if (!ABSOLUTE_URL_REGEXP.test(path)) {\n      if (!basePath) {\n        throw new JSONRefError(\"Tried to resolve a relative URL, without having a basePath. path: '\".concat(path, \"' basePath: '\").concat(basePath, \"'\"));\n      }\n\n      return external_url_default.a.resolve(basePath, path);\n    }\n\n    return path;\n  }\n  /**\n     * Wraps an error as JSONRefError.\n     * @param  {Error} e      the error.\n     * @param  {Object} extra (optional) optional data.\n     * @return {Error}        an instance of JSONRefError.\n     * @api public\n     */\n\n\n  function wrapError(e, extra) {\n    var message;\n\n    if (e && e.response && e.response.body) {\n      message = \"\".concat(e.response.body.code, \" \").concat(e.response.body.message);\n    } else {\n      message = e.message;\n    }\n\n    return new JSONRefError(\"Could not resolve reference: \".concat(message), extra, e);\n  }\n  /**\n     * Splits a pointer by the hash delimiter.\n     * @api public\n     */\n\n\n  function split(ref) {\n    return (ref + '').split('#'); // eslint-disable-line prefer-template\n  }\n  /**\n     * Extracts a pointer from its document.\n     * @param  {String} docPath the absolute document URL.\n     * @param  {String} pointer the pointer whose value is to be extracted.\n     * @return {Promise}        a promise of the pointer value.\n     * @api public\n     */\n\n\n  function extractFromDoc(docPath, pointer) {\n    var doc = docCache[docPath];\n\n    if (doc && !lib.isPromise(doc)) {\n      // If doc is already available, return __value together with the promise.\n      // __value is for special handling in cycle check:\n      // pointerAlreadyInPath() won't work if patch.value is a promise,\n      // thus when that promise is finally resolved, cycle might happen (because\n      // `spec` and `docCache[basePath]` refer to the exact same object).\n      // See test \"should resolve a cyclic spec when baseDoc is specified\".\n      try {\n        var v = extract(pointer, doc);\n        return object_assign_default()(promise_default.a.resolve(v), {\n          __value: v\n        });\n      } catch (e) {\n        return promise_default.a.reject(e);\n      }\n    }\n\n    return getDoc(docPath).then(function (_doc) {\n      return extract(pointer, _doc);\n    });\n  }\n  /**\n     * Clears all document caches.\n     * @param  {String} item (optional) the name of the cache item to be cleared.\n     * @api public\n     */\n\n\n  function clearCache(item) {\n    if (typeof item !== 'undefined') {\n      delete docCache[item];\n    } else {\n      keys_default()(docCache).forEach(function (key) {\n        delete docCache[key];\n      });\n    }\n  }\n  /**\n     * Fetches and caches a document.\n     * @param  {String} docPath the absolute URL of the document.\n     * @return {Promise}        a promise of the document content.\n     * @api public\n     */\n\n\n  function getDoc(docPath) {\n    var val = docCache[docPath];\n\n    if (val) {\n      return lib.isPromise(val) ? val : promise_default.a.resolve(val);\n    } // NOTE: we need to use `mod.fetchJSON` in order to be able to overwrite it.\n    // Any tips on how to make this cleaner, please ping!\n\n\n    docCache[docPath] = mod.fetchJSON(docPath).then(function (doc) {\n      docCache[docPath] = doc;\n      return doc;\n    });\n    return docCache[docPath];\n  }\n  /**\n     * Fetches a document.\n     * @param  {String} docPath the absolute URL of the document.\n     * @return {Promise}        a promise of the document content.\n     * @api public\n     */\n\n\n  function fetchJSON(docPath) {\n    return Object(external_cross_fetch_[\"fetch\"])(docPath, {\n      headers: {\n        Accept: ACCEPT_HEADER_VALUE_FOR_DOCUMENTS\n      },\n      loadSpec: true\n    }).then(function (res) {\n      return res.text();\n    }).then(function (text) {\n      return external_js_yaml_default.a.safeLoad(text);\n    });\n  }\n  /**\n     * Extracts a pointer from an object.\n     * @param  {String[]} pointer the JSON pointer.\n     * @param  {Object} obj       an object whose value is to be extracted.\n     * @return {Object}           the value to be extracted.\n     * @api public\n     */\n\n\n  function extract(pointer, obj) {\n    var tokens = jsonPointerToArray(pointer);\n\n    if (tokens.length < 1) {\n      return obj;\n    }\n\n    var val = lib.getIn(obj, tokens);\n\n    if (typeof val === 'undefined') {\n      throw new JSONRefError(\"Could not resolve pointer: \".concat(pointer, \" does not exist in document\"), {\n        pointer: pointer\n      });\n    }\n\n    return val;\n  }\n  /**\n     * Converts a JSON pointer to array.\n     * @api public\n     */\n\n\n  function jsonPointerToArray(pointer) {\n    if (typeof pointer !== 'string') {\n      throw new TypeError(\"Expected a string, got a \".concat(typeof_default()(pointer)));\n    }\n\n    if (pointer[0] === '/') {\n      pointer = pointer.substr(1);\n    }\n\n    if (pointer === '') {\n      return [];\n    }\n\n    return pointer.split('/').map(unescapeJsonPointerToken);\n  }\n  /**\n     * Unescapes a JSON pointer.\n     * @api public\n     */\n\n\n  function unescapeJsonPointerToken(token) {\n    if (typeof token !== 'string') {\n      return token;\n    }\n\n    return external_querystring_browser_default.a.unescape(token.replace(/~1/g, '/').replace(/~0/g, '~'));\n  }\n  /**\n     * Escapes a JSON pointer.\n     * @api public\n     */\n\n\n  function escapeJsonPointerToken(token) {\n    return external_querystring_browser_default.a.escape(token.replace(/~/g, '~0').replace(/\\//g, '~1'));\n  }\n\n  function arrayToJsonPointer(arr) {\n    if (arr.length === 0) {\n      return '';\n    }\n\n    return \"/\".concat(arr.map(escapeJsonPointerToken).join('/'));\n  }\n\n  var pointerBoundaryChar = function pointerBoundaryChar(c) {\n    return !c || c === '/' || c === '#';\n  };\n\n  function pointerIsAParent(pointer, parentPointer) {\n    if (pointerBoundaryChar(parentPointer)) {\n      // This is the root of the document, so its naturally a parent\n      return true;\n    }\n\n    var nextChar = pointer.charAt(parentPointer.length);\n    var lastParentChar = parentPointer.slice(-1);\n    return pointer.indexOf(parentPointer) === 0 && (!nextChar || nextChar === '/' || nextChar === '#') && lastParentChar !== '#';\n  } // =========================\n  // Private\n  // =========================\n\n  /**\n   * Checks if this pointer points back to one or more pointers along the path.\n   */\n\n\n  function pointerAlreadyInPath(pointer, basePath, parent, specmap) {\n    var refs = specmapRefs.get(specmap);\n\n    if (!refs) {\n      // Stores all resolved references of a specmap instance.\n      // Schema: path -> pointer (path's $ref value).\n      refs = {};\n      specmapRefs.set(specmap, refs);\n    }\n\n    var parentPointer = arrayToJsonPointer(parent);\n    var fullyQualifiedPointer = \"\".concat(basePath || '<specmap-base>', \"#\").concat(pointer); // dirty hack to strip `allof/[index]` from the path, in order to avoid cases\n    // where we get false negatives because:\n    // - we resolve a path, then\n    // - allOf plugin collapsed `allOf/[index]` out of the path, then\n    // - we try to work on a child $ref within that collapsed path.\n    //\n    // because of the path collapse, we lose track of it in our specmapRefs hash\n    // solution: always throw the allOf constructs out of paths we store\n    // TODO: solve this with a global register, or by writing more metadata in\n    // either allOf or refs plugin\n\n    var safeParentPointer = parentPointer.replace(/allOf\\/\\d+\\/?/g, ''); // Case 1: direct cycle, e.g. a.b.c.$ref: '/a.b'\n    // Detect by checking that the parent path doesn't start with pointer.\n    // This only applies if the pointer is internal, i.e. basePath === rootPath (could be null)\n\n    var rootDoc = specmap.contextTree.get([]).baseDoc;\n\n    if (basePath == rootDoc && pointerIsAParent(safeParentPointer, pointer)) {\n      // eslint-disable-line\n      return true;\n    } // Case 2: indirect cycle\n    //  ex1: a.$ref: '/b'  &  b.c.$ref: '/b/c'\n    //  ex2: a.$ref: '/b/c'  &  b.c.$ref: '/b'\n    // Detect by retrieving all the $refs along the path of parent\n    // and checking if any starts with pointer or vice versa.\n\n\n    var currPath = '';\n    var hasIndirectCycle = parent.some(function (token) {\n      currPath = \"\".concat(currPath, \"/\").concat(escapeJsonPointerToken(token));\n      return refs[currPath] && refs[currPath].some(function (ref) {\n        return pointerIsAParent(ref, fullyQualifiedPointer) || pointerIsAParent(fullyQualifiedPointer, ref);\n      });\n    });\n\n    if (hasIndirectCycle) {\n      return true;\n    } // No cycle, this ref will be resolved, so stores it now for future detection.\n    // No need to store if has cycle, as parent path is a dead-end and won't be checked again.\n\n\n    refs[safeParentPointer] = (refs[safeParentPointer] || []).concat(fullyQualifiedPointer);\n  }\n  /**\n     * Checks if the value of this patch ends up pointing to an ancestor along the path.\n     */\n\n\n  function patchValueAlreadyInPath(root, patch) {\n    var ancestors = [root];\n    patch.path.reduce(function (parent, p) {\n      ancestors.push(parent[p]);\n      return parent[p];\n    }, root);\n    return pointToAncestor(patch.value);\n\n    function pointToAncestor(obj) {\n      return lib.isObject(obj) && (ancestors.indexOf(obj) >= 0 || keys_default()(obj).some(function (k) {\n        return pointToAncestor(obj[k]);\n      }));\n    }\n  } // CONCATENATED MODULE: ./src/specmap/lib/all-of.js\n\n  /* harmony default export */\n\n\n  var all_of = {\n    key: 'allOf',\n    plugin: function plugin(val, key, fullPath, specmap, patch) {\n      // Ignore replace patches created by $ref because the changes will\n      // occur in the original \"add\" patch and we don't want this plugin\n      // to redundantly processes those \"relace\" patches.\n      if (patch.meta && patch.meta.$$ref) {\n        return;\n      }\n\n      var parent = fullPath.slice(0, -1);\n\n      if (isFreelyNamed(parent)) {\n        return;\n      }\n\n      if (!is_array_default()(val)) {\n        var err = new TypeError('allOf must be an array');\n        err.fullPath = fullPath; // This is an array\n\n        return err;\n      }\n\n      var alreadyAddError = false; // Find the original definition from the `patch.value` object\n      // Remove the `allOf` property so it doesn't get added to the result of the `allOf` plugin\n\n      var originalDefinitionObj = patch.value;\n      parent.forEach(function (part) {\n        if (!originalDefinitionObj) return; // bail out if we've lost sight of our target\n\n        originalDefinitionObj = originalDefinitionObj[part];\n      });\n      originalDefinitionObj = object_assign_default()({}, originalDefinitionObj);\n      delete originalDefinitionObj.allOf;\n      var patches = []; // remove existing content\n\n      patches.push(specmap.replace(parent, {}));\n      val.forEach(function (toMerge, i) {\n        if (!specmap.isObject(toMerge)) {\n          if (alreadyAddError) {\n            return null;\n          }\n\n          alreadyAddError = true;\n\n          var _err = new TypeError('Elements in allOf must be objects');\n\n          _err.fullPath = fullPath; // This is an array\n\n          return patches.push(_err);\n        } // Deeply merge the member's contents onto the parent location\n\n\n        patches.push(specmap.mergeDeep(parent, toMerge)); // Generate patches that migrate $ref values based on ContextTree information\n        // remove [\"allOf\"], which will not be present when these patches are applied\n\n        var collapsedFullPath = fullPath.slice(0, -1);\n        var absoluteRefPatches = generateAbsoluteRefPatches(toMerge, collapsedFullPath, {\n          getBaseUrlForNodePath: function getBaseUrlForNodePath(nodePath) {\n            return specmap.getContext([].concat(toConsumableArray_default()(fullPath), [i], toConsumableArray_default()(nodePath))).baseDoc;\n          },\n          specmap: specmap\n        });\n        patches.push.apply(patches, toConsumableArray_default()(absoluteRefPatches));\n      }); // Merge back the values from the original definition\n\n      patches.push(specmap.mergeDeep(parent, originalDefinitionObj)); // If there was not an original $$ref value, make sure to remove\n      // any $$ref value that may exist from the result of `allOf` merges\n\n      if (!originalDefinitionObj.$$ref) {\n        patches.push(specmap.remove([].concat(parent, '$$ref')));\n      }\n\n      return patches;\n    }\n  }; // CONCATENATED MODULE: ./src/specmap/lib/parameters.js\n\n  /* harmony default export */\n\n  var lib_parameters = {\n    key: 'parameters',\n    plugin: function plugin(parameters, key, fullPath, specmap, patch) {\n      if (is_array_default()(parameters) && parameters.length) {\n        var val = object_assign_default()([], parameters);\n        var opPath = fullPath.slice(0, -1);\n        var op = object_assign_default()({}, lib.getIn(specmap.spec, opPath));\n        parameters.forEach(function (param, i) {\n          try {\n            val[i].default = specmap.parameterMacro(op, param);\n          } catch (e) {\n            var err = new Error(e);\n            err.fullPath = fullPath;\n            return err;\n          }\n        });\n        return lib.replace(fullPath, val);\n      }\n\n      return lib.replace(fullPath, parameters);\n    }\n  }; // CONCATENATED MODULE: ./src/specmap/lib/properties.js\n\n  /* harmony default export */\n\n  var lib_properties = {\n    key: 'properties',\n    plugin: function plugin(properties, key, fullPath, specmap) {\n      var val = object_assign_default()({}, properties);\n\n      for (var k in properties) {\n        try {\n          val[k].default = specmap.modelPropertyMacro(val[k]);\n        } catch (e) {\n          var err = new Error(e);\n          err.fullPath = fullPath; // This is an array\n\n          return err;\n        }\n      }\n\n      var patch = lib.replace(fullPath, val);\n      return patch;\n    }\n  }; // CONCATENATED MODULE: ./src/specmap/lib/context-tree.js\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = keys_default()(object);\n\n    if (get_own_property_symbols_default.a) {\n      var symbols = get_own_property_symbols_default()(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return get_own_property_descriptor_default()(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(source, true).forEach(function (key) {\n          defineProperty_default()(target, key, source[key]);\n        });\n      } else if (get_own_property_descriptors_default.a) {\n        define_properties_default()(target, get_own_property_descriptors_default()(source));\n      } else {\n        ownKeys(source).forEach(function (key) {\n          define_property_default()(target, key, get_own_property_descriptor_default()(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  var context_tree_ContextTree =\n  /*#__PURE__*/\n  function () {\n    function ContextTree(value) {\n      classCallCheck_default()(this, ContextTree);\n      this.root = createNode(value || {});\n    }\n\n    createClass_default()(ContextTree, [{\n      key: \"set\",\n      value: function set(path, value) {\n        var parent = this.getParent(path, true);\n\n        if (!parent) {\n          updateNode(this.root, value, null);\n          return;\n        }\n\n        var key = path[path.length - 1];\n        var children = parent.children;\n\n        if (children[key]) {\n          updateNode(children[key], value, parent);\n          return;\n        }\n\n        children[key] = createNode(value, parent);\n      } // Get the \"best\" node (node or nearest parent) and return its value.\n\n    }, {\n      key: \"get\",\n      value: function get(path) {\n        path = path || [];\n\n        if (path.length < 1) {\n          return this.root.value;\n        }\n\n        var branch = this.root;\n        var child;\n        var token;\n\n        for (var i = 0; i < path.length; i++) {\n          token = path[i];\n          child = branch.children;\n\n          if (!child[token]) {\n            break;\n          }\n\n          branch = child[token];\n        }\n\n        return branch && branch.protoValue;\n      }\n    }, {\n      key: \"getParent\",\n      value: function getParent(path, ensureExists) {\n        if (!path || path.length < 1) {\n          return null;\n        }\n\n        if (path.length < 2) {\n          return this.root;\n        }\n\n        return path.slice(0, -1).reduce(function (branch, token) {\n          if (!branch) {\n            return branch;\n          }\n\n          var children = branch.children;\n\n          if (!children[token] && ensureExists) {\n            children[token] = createNode(null, branch);\n          }\n\n          return children[token];\n        }, this.root);\n      }\n    }]);\n    return ContextTree;\n  }(); // =========================\n  // Utilities\n  // =========================\n\n\n  function createNode(value, parent) {\n    return updateNode({\n      children: {}\n    }, value, parent);\n  }\n\n  function updateNode(node, value, parent) {\n    node.value = value || {};\n    node.protoValue = parent ? _objectSpread({}, parent.protoValue, {}, node.value) : node.value;\n    keys_default()(node.children).forEach(function (prop) {\n      var child = node.children[prop];\n      node.children[prop] = updateNode(child, child.value, node);\n    });\n    return node;\n  } // CONCATENATED MODULE: ./src/specmap/index.js\n\n\n  var HARD_LIMIT = 100;\n\n  var specmap_SpecMap =\n  /*#__PURE__*/\n  function () {\n    function SpecMap(opts) {\n      var _this = this;\n\n      classCallCheck_default()(this, SpecMap);\n      object_assign_default()(this, {\n        spec: '',\n        debugLevel: 'info',\n        plugins: [],\n        pluginHistory: {},\n        errors: [],\n        mutations: [],\n        promisedPatches: [],\n        state: {},\n        patches: [],\n        context: {},\n        contextTree: new context_tree_ContextTree(),\n        showDebug: false,\n        allPatches: [],\n        // only populated if showDebug is true\n        pluginProp: 'specMap',\n        libMethods: object_assign_default()(create_default()(this), lib, {\n          getInstance: function getInstance() {\n            return _this;\n          }\n        }),\n        allowMetaPatches: false\n      }, opts); // Lib methods bound\n\n      this.get = this._get.bind(this);\n      this.getContext = this._getContext.bind(this);\n      this.hasRun = this._hasRun.bind(this);\n      this.wrappedPlugins = this.plugins.map(this.wrapPlugin.bind(this)).filter(lib.isFunction); // Initial patch(s)\n\n      this.patches.push(lib.add([], this.spec));\n      this.patches.push(lib.context([], this.context));\n      this.updatePatches(this.patches);\n    }\n\n    createClass_default()(SpecMap, [{\n      key: \"debug\",\n      value: function debug(level) {\n        if (this.debugLevel === level) {\n          var _console;\n\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          (_console = console).log.apply(_console, args); // eslint-disable-line no-console\n\n        }\n      }\n    }, {\n      key: \"verbose\",\n      value: function verbose(header) {\n        if (this.debugLevel === 'verbose') {\n          var _console2;\n\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          (_console2 = console).log.apply(_console2, [\"[\".concat(header, \"]   \")].concat(args)); // eslint-disable-line no-console\n\n        }\n      }\n    }, {\n      key: \"wrapPlugin\",\n      value: function wrapPlugin(plugin, name) {\n        var pathDiscriminator = this.pathDiscriminator;\n        var ctx = null;\n        var fn;\n\n        if (plugin[this.pluginProp]) {\n          ctx = plugin;\n          fn = plugin[this.pluginProp];\n        } else if (lib.isFunction(plugin)) {\n          fn = plugin;\n        } else if (lib.isObject(plugin)) {\n          fn = createKeyBasedPlugin(plugin);\n        }\n\n        return object_assign_default()(fn.bind(ctx), {\n          pluginName: plugin.name || name,\n          isGenerator: lib.isGenerator(fn)\n        }); // Expected plugin interface: {key: string, plugin: fn*}\n        // This traverses depth-first and immediately applies yielded patches.\n        // This strategy should work well for most plugins (including the built-ins).\n        // We might consider making this (traversing & application) configurable later.\n\n        function createKeyBasedPlugin(pluginObj) {\n          var isSubPath = function isSubPath(path, tested) {\n            if (!is_array_default()(path)) {\n              return true;\n            }\n\n            return path.every(function (val, i) {\n              return val === tested[i];\n            });\n          };\n\n          return (\n            /*#__PURE__*/\n            regenerator_default.a.mark(function _callee(patches, specmap) {\n              var _marked, refCache, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, patch, traverse;\n\n              return regenerator_default.a.wrap(function _callee$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      traverse = function _ref(obj, path, patch) {\n                        var parentIndex, parent, indexOfFirstProperties, isRootProperties, traversed, _i, _Object$keys, key, val, updatedPath, isObj, objRef, isWithinPathDiscriminator;\n\n                        return regenerator_default.a.wrap(function traverse$(_context) {\n                          while (1) {\n                            switch (_context.prev = _context.next) {\n                              case 0:\n                                if (lib.isObject(obj)) {\n                                  _context.next = 6;\n                                  break;\n                                }\n\n                                if (!(pluginObj.key === path[path.length - 1])) {\n                                  _context.next = 4;\n                                  break;\n                                }\n\n                                _context.next = 4;\n                                return pluginObj.plugin(obj, pluginObj.key, path, specmap);\n\n                              case 4:\n                                _context.next = 30;\n                                break;\n\n                              case 6:\n                                parentIndex = path.length - 1;\n                                parent = path[parentIndex];\n                                indexOfFirstProperties = path.indexOf('properties');\n                                isRootProperties = parent === 'properties' && parentIndex === indexOfFirstProperties;\n                                traversed = specmap.allowMetaPatches && refCache[obj.$$ref];\n                                _i = 0, _Object$keys = keys_default()(obj);\n\n                              case 12:\n                                if (!(_i < _Object$keys.length)) {\n                                  _context.next = 30;\n                                  break;\n                                }\n\n                                key = _Object$keys[_i];\n                                val = obj[key];\n                                updatedPath = path.concat(key);\n                                isObj = lib.isObject(val);\n                                objRef = obj.$$ref;\n\n                                if (traversed) {\n                                  _context.next = 22;\n                                  break;\n                                }\n\n                                if (!isObj) {\n                                  _context.next = 22;\n                                  break;\n                                } // Only store the ref if it exists\n\n\n                                if (specmap.allowMetaPatches && objRef) {\n                                  refCache[objRef] = true;\n                                }\n\n                                return _context.delegateYield(traverse(val, updatedPath, patch), \"t0\", 22);\n\n                              case 22:\n                                if (!(!isRootProperties && key === pluginObj.key)) {\n                                  _context.next = 27;\n                                  break;\n                                }\n\n                                isWithinPathDiscriminator = isSubPath(pathDiscriminator, path);\n\n                                if (!(!pathDiscriminator || isWithinPathDiscriminator)) {\n                                  _context.next = 27;\n                                  break;\n                                }\n\n                                _context.next = 27;\n                                return pluginObj.plugin(val, key, updatedPath, specmap, patch);\n\n                              case 27:\n                                _i++;\n                                _context.next = 12;\n                                break;\n\n                              case 30:\n                              case \"end\":\n                                return _context.stop();\n                            }\n                          }\n                        }, _marked);\n                      };\n\n                      _marked =\n                      /*#__PURE__*/\n                      regenerator_default.a.mark(traverse);\n                      refCache = {};\n                      _iteratorNormalCompletion = true;\n                      _didIteratorError = false;\n                      _iteratorError = undefined;\n                      _context2.prev = 6;\n                      _iterator = get_iterator_default()(patches.filter(lib.isAdditiveMutation));\n\n                    case 8:\n                      if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                        _context2.next = 14;\n                        break;\n                      }\n\n                      patch = _step.value;\n                      return _context2.delegateYield(traverse(patch.value, patch.path, patch), \"t0\", 11);\n\n                    case 11:\n                      _iteratorNormalCompletion = true;\n                      _context2.next = 8;\n                      break;\n\n                    case 14:\n                      _context2.next = 20;\n                      break;\n\n                    case 16:\n                      _context2.prev = 16;\n                      _context2.t1 = _context2[\"catch\"](6);\n                      _didIteratorError = true;\n                      _iteratorError = _context2.t1;\n\n                    case 20:\n                      _context2.prev = 20;\n                      _context2.prev = 21;\n\n                      if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                      }\n\n                    case 23:\n                      _context2.prev = 23;\n\n                      if (!_didIteratorError) {\n                        _context2.next = 26;\n                        break;\n                      }\n\n                      throw _iteratorError;\n\n                    case 26:\n                      return _context2.finish(23);\n\n                    case 27:\n                      return _context2.finish(20);\n\n                    case 28:\n                    case \"end\":\n                      return _context2.stop();\n                  }\n                }\n              }, _callee, null, [[6, 16, 20, 28], [21,, 23, 27]]);\n            })\n          );\n        }\n      }\n    }, {\n      key: \"nextPlugin\",\n      value: function nextPlugin() {\n        var _this2 = this; // Array.prototype.find doesn't work in IE 11 :(\n\n\n        return find_default()(this.wrappedPlugins, function (plugin) {\n          var mutations = _this2.getMutationsForPlugin(plugin);\n\n          return mutations.length > 0;\n        });\n      }\n    }, {\n      key: \"nextPromisedPatch\",\n      value: function nextPromisedPatch() {\n        if (this.promisedPatches.length > 0) {\n          return promise_default.a.race(this.promisedPatches.map(function (patch) {\n            return patch.value;\n          }));\n        }\n      }\n    }, {\n      key: \"getPluginHistory\",\n      value: function getPluginHistory(plugin) {\n        var name = this.getPluginName(plugin);\n        return this.pluginHistory[name] || [];\n      }\n    }, {\n      key: \"getPluginRunCount\",\n      value: function getPluginRunCount(plugin) {\n        return this.getPluginHistory(plugin).length;\n      }\n    }, {\n      key: \"getPluginHistoryTip\",\n      value: function getPluginHistoryTip(plugin) {\n        var history = this.getPluginHistory(plugin);\n        var val = history && history[history.length - 1];\n        return val || {};\n      }\n    }, {\n      key: \"getPluginMutationIndex\",\n      value: function getPluginMutationIndex(plugin) {\n        var mi = this.getPluginHistoryTip(plugin).mutationIndex;\n        return typeof mi !== 'number' ? -1 : mi;\n      }\n    }, {\n      key: \"getPluginName\",\n      value: function getPluginName(plugin) {\n        return plugin.pluginName;\n      }\n    }, {\n      key: \"updatePluginHistory\",\n      value: function updatePluginHistory(plugin, val) {\n        var name = this.getPluginName(plugin);\n        var history = this.pluginHistory[name] = this.pluginHistory[name] || [];\n        history.push(val);\n      }\n    }, {\n      key: \"updatePatches\",\n      value: function updatePatches(patches, plugin) {\n        var _this3 = this;\n\n        lib.normalizeArray(patches).forEach(function (patch) {\n          if (patch instanceof Error) {\n            _this3.errors.push(patch);\n\n            return;\n          }\n\n          try {\n            if (!lib.isObject(patch)) {\n              _this3.debug('updatePatches', 'Got a non-object patch', patch);\n\n              return;\n            }\n\n            if (_this3.showDebug) {\n              _this3.allPatches.push(patch);\n            }\n\n            if (lib.isPromise(patch.value)) {\n              _this3.promisedPatches.push(patch);\n\n              _this3.promisedPatchThen(patch);\n\n              return;\n            }\n\n            if (lib.isContextPatch(patch)) {\n              _this3.setContext(patch.path, patch.value);\n\n              return;\n            }\n\n            if (lib.isMutation(patch)) {\n              _this3.updateMutations(patch);\n\n              return;\n            }\n          } catch (e) {\n            console.error(e); // eslint-disable-line no-console\n\n            _this3.errors.push(e);\n          }\n        });\n      }\n    }, {\n      key: \"updateMutations\",\n      value: function updateMutations(patch) {\n        if (typeof_default()(patch.value) === 'object' && !is_array_default()(patch.value) && this.allowMetaPatches) {\n          patch.value = object_assign_default()({}, patch.value);\n        }\n\n        var result = lib.applyPatch(this.state, patch, {\n          allowMetaPatches: this.allowMetaPatches\n        });\n\n        if (result) {\n          this.mutations.push(patch);\n          this.state = result;\n        }\n      }\n    }, {\n      key: \"removePromisedPatch\",\n      value: function removePromisedPatch(patch) {\n        var index = this.promisedPatches.indexOf(patch);\n\n        if (index < 0) {\n          this.debug('Tried to remove a promisedPatch that isn\\'t there!');\n          return;\n        }\n\n        this.promisedPatches.splice(index, 1);\n      }\n    }, {\n      key: \"promisedPatchThen\",\n      value: function promisedPatchThen(patch) {\n        var _this4 = this;\n\n        var value = patch.value = patch.value.then(function (val) {\n          var promisedPatch = object_assign_default()({}, patch, {\n            value: val\n          });\n\n          _this4.removePromisedPatch(patch);\n\n          _this4.updatePatches(promisedPatch);\n        }).catch(function (e) {\n          _this4.removePromisedPatch(patch);\n\n          _this4.updatePatches(e);\n        });\n        return value;\n      }\n    }, {\n      key: \"getMutations\",\n      value: function getMutations(from, to) {\n        from = from || 0;\n\n        if (typeof to !== 'number') {\n          to = this.mutations.length;\n        }\n\n        return this.mutations.slice(from, to);\n      }\n    }, {\n      key: \"getCurrentMutations\",\n      value: function getCurrentMutations() {\n        return this.getMutationsForPlugin(this.getCurrentPlugin());\n      }\n    }, {\n      key: \"getMutationsForPlugin\",\n      value: function getMutationsForPlugin(plugin) {\n        var tip = this.getPluginMutationIndex(plugin);\n        return this.getMutations(tip + 1);\n      }\n    }, {\n      key: \"getCurrentPlugin\",\n      value: function getCurrentPlugin() {\n        return this.currentPlugin;\n      }\n    }, {\n      key: \"getPatchesOfType\",\n      value: function getPatchesOfType(patches, fn) {\n        return patches.filter(fn);\n      }\n    }, {\n      key: \"getLib\",\n      value: function getLib() {\n        return this.libMethods;\n      }\n    }, {\n      key: \"_get\",\n      value: function _get(path) {\n        return lib.getIn(this.state, path);\n      }\n    }, {\n      key: \"_getContext\",\n      value: function _getContext(path) {\n        return this.contextTree.get(path);\n      }\n    }, {\n      key: \"setContext\",\n      value: function setContext(path, value) {\n        return this.contextTree.set(path, value);\n      }\n    }, {\n      key: \"_hasRun\",\n      value: function _hasRun(count) {\n        var times = this.getPluginRunCount(this.getCurrentPlugin());\n        return times > (count || 0);\n      }\n    }, {\n      key: \"_clone\",\n      value: function _clone(obj) {\n        // For debugging only\n        return JSON.parse(stringify_default()(obj));\n      }\n    }, {\n      key: \"dispatch\",\n      value: function dispatch() {\n        var _this5 = this;\n\n        var that = this;\n        var plugin = this.nextPlugin();\n\n        if (!plugin) {\n          var nextPromise = this.nextPromisedPatch();\n\n          if (nextPromise) {\n            return nextPromise.then(function () {\n              return _this5.dispatch();\n            }).catch(function () {\n              return _this5.dispatch();\n            });\n          } // We're done!\n\n\n          var result = {\n            spec: this.state,\n            errors: this.errors\n          };\n\n          if (this.showDebug) {\n            result.patches = this.allPatches;\n          }\n\n          return promise_default.a.resolve(result);\n        } // Makes sure plugin isn't running an endless loop\n\n\n        that.pluginCount = that.pluginCount || {};\n        that.pluginCount[plugin] = (that.pluginCount[plugin] || 0) + 1;\n\n        if (that.pluginCount[plugin] > HARD_LIMIT) {\n          return promise_default.a.resolve({\n            spec: that.state,\n            errors: that.errors.concat(new Error(\"We've reached a hard limit of \".concat(HARD_LIMIT, \" plugin runs\")))\n          });\n        } // A different plugin runs, wait for all promises to resolve, then retry\n\n\n        if (plugin !== this.currentPlugin && this.promisedPatches.length) {\n          var promises = this.promisedPatches.map(function (p) {\n            return p.value;\n          }); // Waits for all to settle instead of Promise.all which stops on rejection\n\n          return promise_default.a.all(promises.map(function (promise) {\n            return promise.then(Function, Function);\n          })).then(function () {\n            return _this5.dispatch();\n          });\n        } // Ok, run the plugin\n\n\n        return executePlugin();\n\n        function executePlugin() {\n          that.currentPlugin = plugin;\n          var mutations = that.getCurrentMutations();\n          var lastMutationIndex = that.mutations.length - 1;\n\n          try {\n            if (plugin.isGenerator) {\n              var _iteratorNormalCompletion2 = true;\n              var _didIteratorError2 = false;\n              var _iteratorError2 = undefined;\n\n              try {\n                for (var _iterator2 = get_iterator_default()(plugin(mutations, that.getLib())), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                  var yieldedPatches = _step2.value;\n                  updatePatches(yieldedPatches);\n                }\n              } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                    _iterator2.return();\n                  }\n                } finally {\n                  if (_didIteratorError2) {\n                    throw _iteratorError2;\n                  }\n                }\n              }\n            } else {\n              var newPatches = plugin(mutations, that.getLib());\n              updatePatches(newPatches);\n            }\n          } catch (e) {\n            console.error(e); // eslint-disable-line no-console\n\n            updatePatches([object_assign_default()(create_default()(e), {\n              plugin: plugin\n            })]);\n          } finally {\n            that.updatePluginHistory(plugin, {\n              mutationIndex: lastMutationIndex\n            });\n          }\n\n          return that.dispatch();\n        }\n\n        function updatePatches(patches) {\n          if (patches) {\n            patches = lib.fullyNormalizeArray(patches);\n            that.updatePatches(patches, plugin);\n          }\n        }\n      }\n    }]);\n    return SpecMap;\n  }();\n\n  function mapSpec(opts) {\n    return new specmap_SpecMap(opts).dispatch();\n  }\n\n  var plugins = {\n    refs: refs,\n    allOf: all_of,\n    parameters: lib_parameters,\n    properties: lib_properties\n  }; // EXTERNAL MODULE: external \"lodash/isObject\"\n\n  var isObject_ = __webpack_require__(29);\n\n  var isObject_default =\n  /*#__PURE__*/\n  __webpack_require__.n(isObject_); // CONCATENATED MODULE: ./src/helpers.js\n\n\n  var toLower = function toLower(str) {\n    return String.prototype.toLowerCase.call(str);\n  };\n\n  var escapeString = function escapeString(str) {\n    return str.replace(/[^\\w]/gi, '_');\n  }; // Spec version detection\n\n\n  function isOAS3(spec) {\n    var oasVersion = spec.openapi;\n\n    if (!oasVersion) {\n      return false;\n    }\n\n    return startsWith_default()(oasVersion, '3');\n  }\n\n  function isSwagger2(spec) {\n    var swaggerVersion = spec.swagger;\n\n    if (!swaggerVersion) {\n      return false;\n    }\n\n    return startsWith_default()(swaggerVersion, '2');\n  } // Strategy for determining operationId\n\n\n  function opId(operation, pathName) {\n    var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n    var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n        v2OperationIdCompatibilityMode = _ref.v2OperationIdCompatibilityMode;\n\n    if (!operation || typeof_default()(operation) !== 'object') {\n      return null;\n    }\n\n    var idWithoutWhitespace = (operation.operationId || '').replace(/\\s/g, '');\n\n    if (idWithoutWhitespace.length) {\n      return escapeString(operation.operationId);\n    }\n\n    return idFromPathMethod(pathName, method, {\n      v2OperationIdCompatibilityMode: v2OperationIdCompatibilityMode\n    });\n  } // Create a generated operationId from pathName + method\n\n\n  function idFromPathMethod(pathName, method) {\n    var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        v2OperationIdCompatibilityMode = _ref2.v2OperationIdCompatibilityMode;\n\n    if (v2OperationIdCompatibilityMode) {\n      var res = \"\".concat(method.toLowerCase(), \"_\").concat(pathName).replace(/[\\s!@#$%^&*()_+=[{\\]};:<>|./?,\\\\'\"\"-]/g, '_');\n      res = res || \"\".concat(pathName.substring(1), \"_\").concat(method);\n      return res.replace(/((_){2,})/g, '_').replace(/^(_)*/g, '').replace(/([_])*$/g, '');\n    }\n\n    return \"\".concat(toLower(method)).concat(escapeString(pathName));\n  }\n\n  function legacyIdFromPathMethod(pathName, method) {\n    return \"\".concat(toLower(method), \"-\").concat(pathName);\n  } // Get the operation, based on operationId ( just return the object, no inheritence )\n\n\n  function getOperationRaw(spec, id) {\n    if (!spec || !spec.paths) {\n      return null;\n    }\n\n    return findOperation(spec, function (_ref3) {\n      var pathName = _ref3.pathName,\n          method = _ref3.method,\n          operation = _ref3.operation;\n\n      if (!operation || typeof_default()(operation) !== 'object') {\n        return false;\n      }\n\n      var rawOperationId = operation.operationId; // straight from the source\n\n      var operationId = opId(operation, pathName, method);\n      var legacyOperationId = legacyIdFromPathMethod(pathName, method);\n      return [operationId, legacyOperationId, rawOperationId].some(function (val) {\n        return val && val === id;\n      });\n    });\n  } // Will stop iterating over the operations and return the operationObj\n  // as soon as predicate returns true\n\n\n  function findOperation(spec, predicate) {\n    return eachOperation(spec, predicate, true) || null;\n  } // iterate over each operation, and fire a callback with details\n  // `find=true` will stop iterating, when the cb returns truthy\n\n\n  function eachOperation(spec, cb, find) {\n    if (!spec || typeof_default()(spec) !== 'object' || !spec.paths || typeof_default()(spec.paths) !== 'object') {\n      return null;\n    }\n\n    var paths = spec.paths; // Iterate over the spec, collecting operations\n\n    for (var pathName in paths) {\n      for (var method in paths[pathName]) {\n        if (method.toUpperCase() === 'PARAMETERS') {\n          continue;\n        }\n\n        var operation = paths[pathName][method];\n\n        if (!operation || typeof_default()(operation) !== 'object') {\n          continue;\n        }\n\n        var operationObj = {\n          spec: spec,\n          pathName: pathName,\n          method: method.toUpperCase(),\n          operation: operation\n        };\n        var cbValue = cb(operationObj);\n\n        if (find && cbValue) {\n          return operationObj;\n        }\n      }\n    }\n  } // REVIEW: OAS3: identify normalization steps that need changes\n  // ...maybe create `normalizeOAS3`?\n\n\n  function normalizeSwagger(parsedSpec) {\n    var spec = parsedSpec.spec;\n    var paths = spec.paths;\n    var map = {};\n\n    if (!paths || spec.$$normalized) {\n      return parsedSpec;\n    }\n\n    for (var pathName in paths) {\n      var path = paths[pathName];\n\n      if (!isObject_default()(path)) {\n        continue;\n      }\n\n      var pathParameters = path.parameters;\n\n      var _loop = function _loop(method) {\n        var operation = path[method];\n\n        if (!isObject_default()(operation)) {\n          return \"continue\";\n        }\n\n        var oid = opId(operation, pathName, method);\n\n        if (oid) {\n          if (map[oid]) {\n            map[oid].push(operation);\n          } else {\n            map[oid] = [operation];\n          }\n\n          var opList = map[oid];\n\n          if (opList.length > 1) {\n            opList.forEach(function (o, i) {\n              o.__originalOperationId = o.__originalOperationId || o.operationId;\n              o.operationId = \"\".concat(oid).concat(i + 1);\n            });\n          } else if (typeof operation.operationId !== 'undefined') {\n            // Ensure we always add the normalized operation ID if one already exists\n            // ( potentially different, given that we normalize our IDs)\n            // ... _back_ to the spec. Otherwise, they might not line up\n            var obj = opList[0];\n            obj.__originalOperationId = obj.__originalOperationId || operation.operationId;\n            obj.operationId = oid;\n          }\n        }\n\n        if (method !== 'parameters') {\n          // Add inherited consumes, produces, parameters, securities\n          var inheritsList = [];\n          var toBeInherit = {}; // Global-levels\n\n          for (var key in spec) {\n            if (key === 'produces' || key === 'consumes' || key === 'security') {\n              toBeInherit[key] = spec[key];\n              inheritsList.push(toBeInherit);\n            }\n          } // Path-levels\n\n\n          if (pathParameters) {\n            toBeInherit.parameters = pathParameters;\n            inheritsList.push(toBeInherit);\n          }\n\n          if (inheritsList.length) {\n            for (var _i = 0, _inheritsList = inheritsList; _i < _inheritsList.length; _i++) {\n              var inherits = _inheritsList[_i];\n\n              for (var inheritName in inherits) {\n                if (!operation[inheritName]) {\n                  operation[inheritName] = inherits[inheritName];\n                } else if (inheritName === 'parameters') {\n                  var _iteratorNormalCompletion = true;\n                  var _didIteratorError = false;\n                  var _iteratorError = undefined;\n\n                  try {\n                    var _loop2 = function _loop2() {\n                      var param = _step.value;\n                      var exists = operation[inheritName].some(function (opParam) {\n                        return opParam.name && opParam.name === param.name || opParam.$ref && opParam.$ref === param.$ref || opParam.$$ref && opParam.$$ref === param.$$ref || opParam === param;\n                      });\n\n                      if (!exists) {\n                        operation[inheritName].push(param);\n                      }\n                    };\n\n                    for (var _iterator = get_iterator_default()(inherits[inheritName]), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                      _loop2();\n                    }\n                  } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                  } finally {\n                    try {\n                      if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                      }\n                    } finally {\n                      if (_didIteratorError) {\n                        throw _iteratorError;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      };\n\n      for (var method in path) {\n        var _ret = _loop(method);\n\n        if (_ret === \"continue\") continue;\n      }\n    }\n\n    spec.$$normalized = true;\n    return parsedSpec;\n  } // CONCATENATED MODULE: ./src/resolver.js\n\n\n  function makeFetchJSON(http) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var requestInterceptor = opts.requestInterceptor,\n        responseInterceptor = opts.responseInterceptor; // Set credentials with 'http.withCredentials' value\n\n    var credentials = http.withCredentials ? 'include' : 'same-origin';\n    return function (docPath) {\n      return http({\n        url: docPath,\n        loadSpec: true,\n        requestInterceptor: requestInterceptor,\n        responseInterceptor: responseInterceptor,\n        headers: {\n          Accept: ACCEPT_HEADER_VALUE_FOR_DOCUMENTS\n        },\n        credentials: credentials\n      }).then(function (res) {\n        return res.body;\n      });\n    };\n  } // Wipe out the http cache\n\n\n  function resolver_clearCache() {\n    plugins.refs.clearCache();\n  }\n\n  function resolve(obj) {\n    var fetch = obj.fetch,\n        spec = obj.spec,\n        url = obj.url,\n        mode = obj.mode,\n        _obj$allowMetaPatches = obj.allowMetaPatches,\n        allowMetaPatches = _obj$allowMetaPatches === void 0 ? true : _obj$allowMetaPatches,\n        pathDiscriminator = obj.pathDiscriminator,\n        modelPropertyMacro = obj.modelPropertyMacro,\n        parameterMacro = obj.parameterMacro,\n        requestInterceptor = obj.requestInterceptor,\n        responseInterceptor = obj.responseInterceptor,\n        skipNormalization = obj.skipNormalization,\n        useCircularStructures = obj.useCircularStructures;\n    var http = obj.http,\n        baseDoc = obj.baseDoc; // @TODO Swagger-UI uses baseDoc instead of url, this is to allow both\n    // need to fix and pick one.\n\n    baseDoc = baseDoc || url; // Provide a default fetch implementation\n    // TODO fetch should be removed, and http used instead\n\n    http = fetch || http || http_http;\n\n    if (!spec) {\n      return makeFetchJSON(http, {\n        requestInterceptor: requestInterceptor,\n        responseInterceptor: responseInterceptor\n      })(baseDoc).then(doResolve);\n    }\n\n    return doResolve(spec);\n\n    function doResolve(_spec) {\n      if (baseDoc) {\n        plugins.refs.docCache[baseDoc] = _spec;\n      } // Build a json-fetcher ( ie: give it a URL and get json out )\n\n\n      plugins.refs.fetchJSON = makeFetchJSON(http, {\n        requestInterceptor: requestInterceptor,\n        responseInterceptor: responseInterceptor\n      });\n      var plugs = [plugins.refs];\n\n      if (typeof parameterMacro === 'function') {\n        plugs.push(plugins.parameters);\n      }\n\n      if (typeof modelPropertyMacro === 'function') {\n        plugs.push(plugins.properties);\n      }\n\n      if (mode !== 'strict') {\n        plugs.push(plugins.allOf);\n      } // mapSpec is where the hard work happens, see https://github.com/swagger-api/specmap for more details\n\n\n      return mapSpec({\n        spec: _spec,\n        context: {\n          baseDoc: baseDoc\n        },\n        plugins: plugs,\n        allowMetaPatches: allowMetaPatches,\n        // allows adding .meta patches, which include adding `$$ref`s to the spec\n        pathDiscriminator: pathDiscriminator,\n        // for lazy resolution\n        parameterMacro: parameterMacro,\n        modelPropertyMacro: modelPropertyMacro,\n        useCircularStructures: useCircularStructures\n      }).then(skipNormalization ?\n      /*#__PURE__*/\n      function () {\n        var _ref = asyncToGenerator_default()(\n        /*#__PURE__*/\n        regenerator_default.a.mark(function _callee(a) {\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  return _context.abrupt(\"return\", a);\n\n                case 1:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }() : normalizeSwagger);\n    }\n  } // EXTERNAL MODULE: external \"lodash/get\"\n\n\n  var get_ = __webpack_require__(16);\n\n  var get_default =\n  /*#__PURE__*/\n  __webpack_require__.n(get_); // CONCATENATED MODULE: ./src/subtree-resolver/index.js\n\n\n  function subtree_resolver_ownKeys(object, enumerableOnly) {\n    var keys = keys_default()(object);\n\n    if (get_own_property_symbols_default.a) {\n      var symbols = get_own_property_symbols_default()(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return get_own_property_descriptor_default()(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function subtree_resolver_objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        subtree_resolver_ownKeys(source, true).forEach(function (key) {\n          defineProperty_default()(target, key, source[key]);\n        });\n      } else if (get_own_property_descriptors_default.a) {\n        define_properties_default()(target, get_own_property_descriptors_default()(source));\n      } else {\n        subtree_resolver_ownKeys(source).forEach(function (key) {\n          define_property_default()(target, key, get_own_property_descriptor_default()(source, key));\n        });\n      }\n    }\n\n    return target;\n  } // The subtree resolver is a higher-level interface that allows you to\n  // get the same result that you would from `Swagger.resolve`, but focuses on\n  // a subtree of your object.\n  //\n  // It makes several assumptions that allow you to think less about what resolve,\n  // specmap, and normalizeSwagger are doing: if this is not suitable for you,\n  // you can emulate `resolveSubtree`'s behavior by talking to the traditional\n  // resolver directly.\n  //\n  // By providing a top-level `obj` and a `path` to resolve within, the subtree\n  // at `path` will be resolved and normalized in the context of your top-level\n  // `obj`. You'll get the resolved subtree you're interest in as a return value\n  // (or, you can use `returnEntireTree` to get everything back).\n  //\n  // This is useful for cases where resolving your entire object is unnecessary\n  // and/or non-performant; we use this interface for lazily resolving operations\n  // and models in Swagger-UI, which allows us to handle larger definitions.\n  //\n  // It's likely that Swagger-Client will rely entirely on lazy resolving in\n  // future versions.\n  //\n  // TODO: move the remarks above into project documentation\n\n\n  function resolveSubtree(_x, _x2) {\n    return _resolveSubtree.apply(this, arguments);\n  }\n\n  function _resolveSubtree() {\n    _resolveSubtree = asyncToGenerator_default()(\n    /*#__PURE__*/\n    regenerator_default.a.mark(function _callee(obj, path) {\n      var opts,\n          returnEntireTree,\n          baseDoc,\n          requestInterceptor,\n          responseInterceptor,\n          parameterMacro,\n          modelPropertyMacro,\n          useCircularStructures,\n          resolveOptions,\n          _normalizeSwagger,\n          normalized,\n          result,\n          _args = arguments;\n\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n              returnEntireTree = opts.returnEntireTree, baseDoc = opts.baseDoc, requestInterceptor = opts.requestInterceptor, responseInterceptor = opts.responseInterceptor, parameterMacro = opts.parameterMacro, modelPropertyMacro = opts.modelPropertyMacro, useCircularStructures = opts.useCircularStructures;\n              resolveOptions = {\n                pathDiscriminator: path,\n                baseDoc: baseDoc,\n                requestInterceptor: requestInterceptor,\n                responseInterceptor: responseInterceptor,\n                parameterMacro: parameterMacro,\n                modelPropertyMacro: modelPropertyMacro,\n                useCircularStructures: useCircularStructures\n              };\n              _normalizeSwagger = normalizeSwagger({\n                spec: obj\n              }), normalized = _normalizeSwagger.spec;\n              _context.next = 6;\n              return resolve(subtree_resolver_objectSpread({}, resolveOptions, {\n                spec: normalized,\n                allowMetaPatches: true,\n                skipNormalization: true\n              }));\n\n            case 6:\n              result = _context.sent;\n\n              if (!returnEntireTree && is_array_default()(path) && path.length) {\n                result.spec = get_default()(result.spec, path) || null;\n              }\n\n              return _context.abrupt(\"return\", result);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _resolveSubtree.apply(this, arguments);\n  } // EXTERNAL MODULE: external \"lodash/pick\"\n\n\n  var pick_ = __webpack_require__(38);\n\n  var pick_default =\n  /*#__PURE__*/\n  __webpack_require__.n(pick_); // CONCATENATED MODULE: ./src/interfaces.js\n\n\n  function interfaces_ownKeys(object, enumerableOnly) {\n    var keys = keys_default()(object);\n\n    if (get_own_property_symbols_default.a) {\n      var symbols = get_own_property_symbols_default()(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return get_own_property_descriptor_default()(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function interfaces_objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        interfaces_ownKeys(source, true).forEach(function (key) {\n          defineProperty_default()(target, key, source[key]);\n        });\n      } else if (get_own_property_descriptors_default.a) {\n        define_properties_default()(target, get_own_property_descriptors_default()(source));\n      } else {\n        interfaces_ownKeys(source).forEach(function (key) {\n          define_property_default()(target, key, get_own_property_descriptor_default()(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  var nullFn = function nullFn() {\n    return null;\n  };\n\n  var interfaces_normalizeArray = function normalizeArray(arg) {\n    return is_array_default()(arg) ? arg : [arg];\n  }; // To allow stubbing of functions\n\n\n  var interfaces_self = {\n    mapTagOperations: mapTagOperations,\n    makeExecute: makeExecute // Make an execute, bound to arguments defined in mapTagOperation's callback (cb)\n\n  };\n\n  function makeExecute() {\n    var swaggerJs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return function (_ref) {\n      var pathName = _ref.pathName,\n          method = _ref.method,\n          operationId = _ref.operationId;\n      return function (parameters) {\n        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return swaggerJs.execute(interfaces_objectSpread({\n          spec: swaggerJs.spec\n        }, pick_default()(swaggerJs, 'requestInterceptor', 'responseInterceptor', 'userFetch'), {\n          pathName: pathName,\n          method: method,\n          parameters: parameters,\n          operationId: operationId\n        }, opts));\n      };\n    };\n  } // Creates an interface with tags+operations = execute\n  // The shape\n  // { apis: { [tag]: { operations: [operation]: { execute }}}}\n  // NOTE: this is mostly for compatibility\n\n\n  function makeApisTagOperationsOperationExecute() {\n    var swaggerJs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; // { apis: tag: operations: execute }\n\n    var cb = interfaces_self.makeExecute(swaggerJs);\n    var tagOperations = interfaces_self.mapTagOperations({\n      v2OperationIdCompatibilityMode: swaggerJs.v2OperationIdCompatibilityMode,\n      spec: swaggerJs.spec,\n      cb: cb\n    });\n    var apis = {};\n\n    for (var tag in tagOperations) {\n      apis[tag] = {\n        operations: {}\n      };\n\n      for (var op in tagOperations[tag]) {\n        apis[tag].operations[op] = {\n          execute: tagOperations[tag][op]\n        };\n      }\n    }\n\n    return {\n      apis: apis\n    };\n  } // .apis[tag][operationId]:ExecuteFunction interface\n\n\n  function makeApisTagOperation() {\n    var swaggerJs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var cb = interfaces_self.makeExecute(swaggerJs);\n    return {\n      apis: interfaces_self.mapTagOperations({\n        v2OperationIdCompatibilityMode: swaggerJs.v2OperationIdCompatibilityMode,\n        spec: swaggerJs.spec,\n        cb: cb\n      })\n    };\n  }\n  /**\n     * Iterates over a spec, creating a hash of {[tag]: { [operationId], ... }, ...}\n     * with the value of calling `cb`.\n     *\n     * `spec` is a OAI v2.0 compliant specification object\n     * `cb` is called with ({ spec, operation, path, method })\n     * `defaultTag` will house all non-tagged operations\n     *\n     */\n\n\n  function mapTagOperations(_ref2) {\n    var spec = _ref2.spec,\n        _ref2$cb = _ref2.cb,\n        cb = _ref2$cb === void 0 ? nullFn : _ref2$cb,\n        _ref2$defaultTag = _ref2.defaultTag,\n        defaultTag = _ref2$defaultTag === void 0 ? 'default' : _ref2$defaultTag,\n        v2OperationIdCompatibilityMode = _ref2.v2OperationIdCompatibilityMode;\n    var operationIdCounter = {};\n    var tagOperations = {}; // Will house all tags + operations\n\n    eachOperation(spec, function (_ref3) {\n      var pathName = _ref3.pathName,\n          method = _ref3.method,\n          operation = _ref3.operation;\n      var tags = operation.tags ? interfaces_normalizeArray(operation.tags) : [defaultTag];\n      tags.forEach(function (tag) {\n        if (typeof tag !== 'string') {\n          return;\n        }\n\n        var tagObj = tagOperations[tag] = tagOperations[tag] || {};\n        var id = opId(operation, pathName, method, {\n          v2OperationIdCompatibilityMode: v2OperationIdCompatibilityMode\n        });\n        var cbResult = cb({\n          spec: spec,\n          pathName: pathName,\n          method: method,\n          operation: operation,\n          operationId: id\n        });\n\n        if (operationIdCounter[id]) {\n          operationIdCounter[id]++;\n          tagObj[\"\".concat(id).concat(operationIdCounter[id])] = cbResult;\n        } else if (typeof tagObj[id] !== 'undefined') {\n          // Bump counter ( for this operationId )\n          var originalCounterValue = operationIdCounter[id] || 1;\n          operationIdCounter[id] = originalCounterValue + 1; // Append _x to the operationId\n\n          tagObj[\"\".concat(id).concat(operationIdCounter[id])] = cbResult; // Rename the first operationId\n\n          var temp = tagObj[id];\n          delete tagObj[id];\n          tagObj[\"\".concat(id).concat(originalCounterValue)] = temp;\n        } else {\n          // Assign callback result ( usually a bound function )\n          tagObj[id] = cbResult;\n        }\n      });\n    });\n    return tagOperations;\n  } // EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/objectWithoutProperties\"\n\n\n  var objectWithoutProperties_ = __webpack_require__(39);\n\n  var objectWithoutProperties_default =\n  /*#__PURE__*/\n  __webpack_require__.n(objectWithoutProperties_); // EXTERNAL MODULE: external \"lodash/isPlainObject\"\n\n\n  var isPlainObject_ = __webpack_require__(40);\n\n  var isPlainObject_default =\n  /*#__PURE__*/\n  __webpack_require__.n(isPlainObject_); // EXTERNAL MODULE: external \"lodash/isArray\"\n\n\n  var isArray_ = __webpack_require__(41);\n\n  var isArray_default =\n  /*#__PURE__*/\n  __webpack_require__.n(isArray_); // EXTERNAL MODULE: external \"btoa\"\n\n\n  var external_btoa_ = __webpack_require__(19);\n\n  var external_btoa_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_btoa_); // EXTERNAL MODULE: external \"cookie\"\n\n\n  var external_cookie_ = __webpack_require__(42);\n\n  var external_cookie_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_cookie_); // CONCATENATED MODULE: ./src/execute/swagger2/parameter-builders.js\n  // These functions will update the request.\n  // They'll be given {req, value, paramter, spec, operation}.\n\n  /* harmony default export */\n\n\n  var parameter_builders = {\n    body: bodyBuilder,\n    header: headerBuilder,\n    query: queryBuilder,\n    path: pathBuilder,\n    formData: formDataBuilder // Add the body to the request\n\n  };\n\n  function bodyBuilder(_ref) {\n    var req = _ref.req,\n        value = _ref.value;\n    req.body = value;\n  } // Add a form data object.\n\n\n  function formDataBuilder(_ref2) {\n    var req = _ref2.req,\n        value = _ref2.value,\n        parameter = _ref2.parameter;\n\n    if (value || parameter.allowEmptyValue) {\n      req.form = req.form || {};\n      req.form[parameter.name] = {\n        value: value,\n        allowEmptyValue: parameter.allowEmptyValue,\n        collectionFormat: parameter.collectionFormat\n      };\n    }\n  } // Add a header to the request\n\n\n  function headerBuilder(_ref3) {\n    var req = _ref3.req,\n        parameter = _ref3.parameter,\n        value = _ref3.value;\n    req.headers = req.headers || {};\n\n    if (typeof value !== 'undefined') {\n      req.headers[parameter.name] = value;\n    }\n  } // Replace path paramters, with values ( ie: the URL )\n\n\n  function pathBuilder(_ref4) {\n    var req = _ref4.req,\n        value = _ref4.value,\n        parameter = _ref4.parameter;\n    req.url = req.url.split(\"{\".concat(parameter.name, \"}\")).join(encodeURIComponent(value));\n  } // Add a query to the `query` object, which will later be stringified into the URL's search\n\n\n  function queryBuilder(_ref5) {\n    var req = _ref5.req,\n        value = _ref5.value,\n        parameter = _ref5.parameter;\n    req.query = req.query || {};\n\n    if (value === false && parameter.type === 'boolean') {\n      value = 'false';\n    }\n\n    if (value === 0 && ['number', 'integer'].indexOf(parameter.type) > -1) {\n      value = '0';\n    }\n\n    if (value) {\n      req.query[parameter.name] = {\n        collectionFormat: parameter.collectionFormat,\n        value: value\n      };\n    } else if (parameter.allowEmptyValue && value !== undefined) {\n      var paramName = parameter.name;\n      req.query[paramName] = req.query[paramName] || {};\n      req.query[paramName].allowEmptyValue = true;\n    }\n  } // EXTERNAL MODULE: external \"encode-3986\"\n\n\n  var external_encode_3986_ = __webpack_require__(49); // EXTERNAL MODULE: external \"utf8-bytes\"\n\n\n  var external_utf8_bytes_ = __webpack_require__(43);\n\n  var external_utf8_bytes_default =\n  /*#__PURE__*/\n  __webpack_require__.n(external_utf8_bytes_); // EXTERNAL MODULE: external \"utfstring\"\n\n\n  var external_utfstring_ = __webpack_require__(44); // CONCATENATED MODULE: ./src/execute/oas3/style-serializer.js\n\n\n  var isRfc3986Reserved = function isRfc3986Reserved(char) {\n    return ':/?#[]@!$&\\'()*+,;='.indexOf(char) > -1;\n  };\n\n  var isRrc3986Unreserved = function isRrc3986Unreserved(char) {\n    return /^[a-z0-9\\-._~]+$/i.test(char);\n  };\n\n  function encodeDisallowedCharacters(str) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        escape = _ref.escape;\n\n    var parse = arguments.length > 2 ? arguments[2] : undefined;\n\n    if (typeof str === 'number') {\n      str = str.toString();\n    }\n\n    if (typeof str !== 'string' || !str.length) {\n      return str;\n    }\n\n    if (!escape) {\n      return str;\n    }\n\n    if (parse) {\n      return JSON.parse(str);\n    }\n\n    return Object(external_utfstring_[\"stringToCharArray\"])(str).map(function (char) {\n      if (isRrc3986Unreserved(char)) {\n        return char;\n      }\n\n      if (isRfc3986Reserved(char) && escape === 'unsafe') {\n        return char;\n      }\n\n      var encoded = (external_utf8_bytes_default()(char) || []).map(function (byte) {\n        return \"0\".concat(byte.toString(16).toUpperCase()).slice(-2);\n      }).map(function (encodedByte) {\n        return \"%\".concat(encodedByte);\n      }).join('');\n      return encoded;\n    }).join('');\n  }\n\n  function stylize(config) {\n    var value = config.value;\n\n    if (is_array_default()(value)) {\n      return encodeArray(config);\n    } else if (typeof_default()(value) === 'object') {\n      return encodeObject(config);\n    }\n\n    return encodePrimitive(config);\n  }\n\n  function encodeArray(_ref2) {\n    var key = _ref2.key,\n        value = _ref2.value,\n        style = _ref2.style,\n        explode = _ref2.explode,\n        escape = _ref2.escape;\n\n    var valueEncoder = function valueEncoder(str) {\n      return encodeDisallowedCharacters(str, {\n        escape: escape\n      });\n    };\n\n    if (style === 'simple') {\n      return value.map(function (val) {\n        return valueEncoder(val);\n      }).join(',');\n    }\n\n    if (style === 'label') {\n      return \".\".concat(value.map(function (val) {\n        return valueEncoder(val);\n      }).join('.'));\n    }\n\n    if (style === 'matrix') {\n      return value.map(function (val) {\n        return valueEncoder(val);\n      }).reduce(function (prev, curr) {\n        if (!prev || explode) {\n          return \"\".concat(prev || '', \";\").concat(key, \"=\").concat(curr);\n        }\n\n        return \"\".concat(prev, \",\").concat(curr);\n      }, '');\n    }\n\n    if (style === 'form') {\n      var after = explode ? \"&\".concat(key, \"=\") : ',';\n      return value.map(function (val) {\n        return valueEncoder(val);\n      }).join(after);\n    }\n\n    if (style === 'spaceDelimited') {\n      var _after = explode ? \"\".concat(key, \"=\") : '';\n\n      return value.map(function (val) {\n        return valueEncoder(val);\n      }).join(\" \".concat(_after));\n    }\n\n    if (style === 'pipeDelimited') {\n      var _after2 = explode ? \"\".concat(key, \"=\") : '';\n\n      return value.map(function (val) {\n        return valueEncoder(val);\n      }).join(\"|\".concat(_after2));\n    }\n  }\n\n  function encodeObject(_ref3) {\n    var key = _ref3.key,\n        value = _ref3.value,\n        style = _ref3.style,\n        explode = _ref3.explode,\n        escape = _ref3.escape;\n\n    var valueEncoder = function valueEncoder(str) {\n      return encodeDisallowedCharacters(str, {\n        escape: escape\n      });\n    };\n\n    var valueKeys = keys_default()(value);\n\n    if (style === 'simple') {\n      return valueKeys.reduce(function (prev, curr) {\n        var val = valueEncoder(value[curr]);\n        var middleChar = explode ? '=' : ',';\n        var prefix = prev ? \"\".concat(prev, \",\") : '';\n        return \"\".concat(prefix).concat(curr).concat(middleChar).concat(val);\n      }, '');\n    }\n\n    if (style === 'label') {\n      return valueKeys.reduce(function (prev, curr) {\n        var val = valueEncoder(value[curr]);\n        var middleChar = explode ? '=' : '.';\n        var prefix = prev ? \"\".concat(prev, \".\") : '.';\n        return \"\".concat(prefix).concat(curr).concat(middleChar).concat(val);\n      }, '');\n    }\n\n    if (style === 'matrix' && explode) {\n      return valueKeys.reduce(function (prev, curr) {\n        var val = valueEncoder(value[curr]);\n        var prefix = prev ? \"\".concat(prev, \";\") : ';';\n        return \"\".concat(prefix).concat(curr, \"=\").concat(val);\n      }, '');\n    }\n\n    if (style === 'matrix') {\n      // no explode\n      return valueKeys.reduce(function (prev, curr) {\n        var val = valueEncoder(value[curr]);\n        var prefix = prev ? \"\".concat(prev, \",\") : \";\".concat(key, \"=\");\n        return \"\".concat(prefix).concat(curr, \",\").concat(val);\n      }, '');\n    }\n\n    if (style === 'form') {\n      return valueKeys.reduce(function (prev, curr) {\n        var val = valueEncoder(value[curr]);\n        var prefix = prev ? \"\".concat(prev).concat(explode ? '&' : ',') : '';\n        var separator = explode ? '=' : ',';\n        return \"\".concat(prefix).concat(curr).concat(separator).concat(val);\n      }, '');\n    }\n  }\n\n  function encodePrimitive(_ref4) {\n    var key = _ref4.key,\n        value = _ref4.value,\n        style = _ref4.style,\n        escape = _ref4.escape;\n\n    var valueEncoder = function valueEncoder(str) {\n      return encodeDisallowedCharacters(str, {\n        escape: escape\n      });\n    };\n\n    if (style === 'simple') {\n      return valueEncoder(value);\n    }\n\n    if (style === 'label') {\n      return \".\".concat(valueEncoder(value));\n    }\n\n    if (style === 'matrix') {\n      return \";\".concat(key, \"=\").concat(valueEncoder(value));\n    }\n\n    if (style === 'form') {\n      return valueEncoder(value);\n    }\n\n    if (style === 'deepObject') {\n      return valueEncoder(value, {}, true);\n    }\n  } // CONCATENATED MODULE: ./src/execute/oas3/content-serializer.js\n\n  /*\n                                                                                Serializer that serializes according to a media type instead of OpenAPI's\n                                                                                `style` + `explode` constructs.\n                                                                              */\n\n\n  function serialize(value, mediaType) {\n    if (mediaType.includes('application/json')) {\n      if (typeof value === 'string') {\n        // Assume the user has a JSON string\n        return value;\n      }\n\n      return stringify_default()(value);\n    }\n\n    return value.toString();\n  } // CONCATENATED MODULE: ./src/execute/oas3/parameter-builders.js\n\n\n  function parameter_builders_path(_ref) {\n    var req = _ref.req,\n        value = _ref.value,\n        parameter = _ref.parameter;\n    var name = parameter.name,\n        style = parameter.style,\n        explode = parameter.explode,\n        content = parameter.content;\n\n    if (content) {\n      var effectiveMediaType = keys_default()(content)[0];\n      req.url = req.url.split(\"{\".concat(name, \"}\")).join(encodeDisallowedCharacters(serialize(value, effectiveMediaType), {\n        escape: true\n      }));\n      return;\n    }\n\n    var styledValue = stylize({\n      key: parameter.name,\n      value: value,\n      style: style || 'simple',\n      explode: explode || false,\n      escape: true\n    });\n    req.url = req.url.split(\"{\".concat(name, \"}\")).join(styledValue);\n  }\n\n  function parameter_builders_query(_ref2) {\n    var req = _ref2.req,\n        value = _ref2.value,\n        parameter = _ref2.parameter;\n    req.query = req.query || {};\n\n    if (parameter.content) {\n      var effectiveMediaType = keys_default()(parameter.content)[0];\n      req.query[parameter.name] = serialize(value, effectiveMediaType);\n      return;\n    }\n\n    if (value === false) {\n      value = 'false';\n    }\n\n    if (value === 0) {\n      value = '0';\n    }\n\n    if (value) {\n      var type = typeof_default()(value);\n\n      if (parameter.style === 'deepObject') {\n        var valueKeys = keys_default()(value);\n        valueKeys.forEach(function (k) {\n          var v = value[k];\n          req.query[\"\".concat(parameter.name, \"[\").concat(k, \"]\")] = {\n            value: stylize({\n              key: k,\n              value: v,\n              style: 'deepObject',\n              escape: parameter.allowReserved ? 'unsafe' : 'reserved'\n            }),\n            skipEncoding: true\n          };\n        });\n      } else if (type === 'object' && !is_array_default()(value) && (parameter.style === 'form' || !parameter.style) && (parameter.explode || parameter.explode === undefined)) {\n        // form explode needs to be handled here,\n        // since we aren't assigning to `req.query[parameter.name]`\n        // like we usually do.\n        var _valueKeys = keys_default()(value);\n\n        _valueKeys.forEach(function (k) {\n          var v = value[k];\n          req.query[k] = {\n            value: stylize({\n              key: k,\n              value: v,\n              style: parameter.style || 'form',\n              escape: parameter.allowReserved ? 'unsafe' : 'reserved'\n            }),\n            skipEncoding: true\n          };\n        });\n      } else {\n        var encodedParamName = encodeURIComponent(parameter.name);\n        req.query[encodedParamName] = {\n          value: stylize({\n            key: encodedParamName,\n            value: value,\n            style: parameter.style || 'form',\n            explode: typeof parameter.explode === 'undefined' ? true : parameter.explode,\n            escape: parameter.allowReserved ? 'unsafe' : 'reserved'\n          }),\n          skipEncoding: true\n        };\n      }\n    } else if (parameter.allowEmptyValue && value !== undefined) {\n      var paramName = parameter.name;\n      req.query[paramName] = req.query[paramName] || {};\n      req.query[paramName].allowEmptyValue = true;\n    }\n  }\n\n  var PARAMETER_HEADER_BLACKLIST = ['accept', 'authorization', 'content-type'];\n\n  function parameter_builders_header(_ref3) {\n    var req = _ref3.req,\n        parameter = _ref3.parameter,\n        value = _ref3.value;\n    req.headers = req.headers || {};\n\n    if (PARAMETER_HEADER_BLACKLIST.indexOf(parameter.name.toLowerCase()) > -1) {\n      return;\n    }\n\n    if (parameter.content) {\n      var effectiveMediaType = keys_default()(parameter.content)[0];\n      req.headers[parameter.name] = serialize(value, effectiveMediaType);\n      return;\n    }\n\n    if (typeof value !== 'undefined') {\n      req.headers[parameter.name] = stylize({\n        key: parameter.name,\n        value: value,\n        style: parameter.style || 'simple',\n        explode: typeof parameter.explode === 'undefined' ? false : parameter.explode,\n        escape: false\n      });\n    }\n  }\n\n  function cookie(_ref4) {\n    var req = _ref4.req,\n        parameter = _ref4.parameter,\n        value = _ref4.value;\n    req.headers = req.headers || {};\n    var type = typeof_default()(value);\n\n    if (parameter.content) {\n      var effectiveMediaType = keys_default()(parameter.content)[0];\n      req.headers.Cookie = \"\".concat(parameter.name, \"=\").concat(serialize(value, effectiveMediaType));\n      return;\n    }\n\n    if (type !== 'undefined') {\n      var prefix = type === 'object' && !is_array_default()(value) && parameter.explode ? '' : \"\".concat(parameter.name, \"=\");\n      req.headers.Cookie = prefix + stylize({\n        key: parameter.name,\n        value: value,\n        escape: false,\n        style: parameter.style || 'form',\n        explode: typeof parameter.explode === 'undefined' ? false : parameter.explode\n      });\n    }\n  } // EXTERNAL MODULE: external \"buffer/\"\n\n\n  var _ = __webpack_require__(30); // CONCATENATED MODULE: ./src/execute/oas3/build-request.js\n  // This function runs after the common function,\n  // `src/execute/index.js#buildRequest`\n\n  /* harmony default export */\n\n\n  var build_request = function (options, req) {\n    var operation = options.operation,\n        requestBody = options.requestBody,\n        securities = options.securities,\n        spec = options.spec,\n        attachContentTypeForEmptyPayload = options.attachContentTypeForEmptyPayload;\n    var requestContentType = options.requestContentType;\n    req = applySecurities({\n      request: req,\n      securities: securities,\n      operation: operation,\n      spec: spec\n    });\n    var requestBodyDef = operation.requestBody || {};\n    var requestBodyMediaTypes = keys_default()(requestBodyDef.content || {});\n    var isExplicitContentTypeValid = requestContentType && requestBodyMediaTypes.indexOf(requestContentType) > -1; // for OAS3: set the Content-Type\n\n    if (requestBody || attachContentTypeForEmptyPayload) {\n      // does the passed requestContentType appear in the requestBody definition?\n      if (requestContentType && isExplicitContentTypeValid) {\n        req.headers['Content-Type'] = requestContentType;\n      } else if (!requestContentType) {\n        var firstMediaType = requestBodyMediaTypes[0];\n\n        if (firstMediaType) {\n          req.headers['Content-Type'] = firstMediaType;\n          requestContentType = firstMediaType;\n        }\n      }\n    } else if (requestContentType && isExplicitContentTypeValid) {\n      req.headers['Content-Type'] = requestContentType;\n    } // for OAS3: add requestBody to request\n\n\n    if (requestBody) {\n      if (requestContentType) {\n        if (requestBodyMediaTypes.indexOf(requestContentType) > -1) {\n          // only attach body if the requestBody has a definition for the\n          // contentType that has been explicitly set\n          if (requestContentType === 'application/x-www-form-urlencoded' || requestContentType.indexOf('multipart/') === 0) {\n            if (typeof_default()(requestBody) === 'object') {\n              req.form = {};\n              keys_default()(requestBody).forEach(function (k) {\n                var val = requestBody[k];\n                var newVal;\n                var isFile;\n\n                if (typeof File !== 'undefined') {\n                  isFile = val instanceof File; // eslint-disable-line no-undef\n                }\n\n                if (typeof Blob !== 'undefined') {\n                  isFile = isFile || val instanceof Blob; // eslint-disable-line no-undef\n                }\n\n                if (typeof _[\"Buffer\"] !== 'undefined') {\n                  isFile = isFile || _[\"Buffer\"].isBuffer(val);\n                }\n\n                if (typeof_default()(val) === 'object' && !isFile) {\n                  if (is_array_default()(val)) {\n                    newVal = val.toString();\n                  } else {\n                    newVal = stringify_default()(val);\n                  }\n                } else {\n                  newVal = val;\n                }\n\n                req.form[k] = {\n                  value: newVal\n                };\n              });\n            } else {\n              req.form = requestBody;\n            }\n          } else {\n            req.body = requestBody;\n          }\n        }\n      } else {\n        req.body = requestBody;\n      }\n    }\n\n    return req;\n  }; // Add security values, to operations - that declare their need on them\n  // Adapted from the Swagger2 implementation\n\n\n  function applySecurities(_ref) {\n    var request = _ref.request,\n        _ref$securities = _ref.securities,\n        securities = _ref$securities === void 0 ? {} : _ref$securities,\n        _ref$operation = _ref.operation,\n        operation = _ref$operation === void 0 ? {} : _ref$operation,\n        spec = _ref.spec;\n    var result = assign_default()({}, request);\n    var _securities$authorize = securities.authorized,\n        authorized = _securities$authorize === void 0 ? {} : _securities$authorize;\n    var security = operation.security || spec.security || [];\n    var isAuthorized = authorized && !!keys_default()(authorized).length;\n    var securityDef = get_default()(spec, ['components', 'securitySchemes']) || {};\n    result.headers = result.headers || {};\n    result.query = result.query || {};\n\n    if (!keys_default()(securities).length || !isAuthorized || !security || is_array_default()(operation.security) && !operation.security.length) {\n      return request;\n    }\n\n    security.forEach(function (securityObj, index) {\n      for (var key in securityObj) {\n        var auth = authorized[key];\n        var schema = securityDef[key];\n\n        if (!auth) {\n          continue;\n        }\n\n        var value = auth.value || auth;\n        var type = schema.type;\n\n        if (auth) {\n          if (type === 'apiKey') {\n            if (schema.in === 'query') {\n              result.query[schema.name] = value;\n            }\n\n            if (schema.in === 'header') {\n              result.headers[schema.name] = value;\n            }\n\n            if (schema.in === 'cookie') {\n              result.cookies[schema.name] = value;\n            }\n          } else if (type === 'http') {\n            if (schema.scheme === 'basic') {\n              var username = value.username,\n                  password = value.password;\n              var encoded = external_btoa_default()(\"\".concat(username, \":\").concat(password));\n              result.headers.Authorization = \"Basic \".concat(encoded);\n            }\n\n            if (schema.scheme === 'bearer') {\n              result.headers.Authorization = \"Bearer \".concat(value);\n            }\n          } else if (type === 'oauth2') {\n            var token = auth.token || {};\n            var tokenName = schema['x-tokenName'] || 'access_token';\n            var tokenValue = token[tokenName];\n            var tokenType = token.token_type;\n\n            if (!tokenType || tokenType.toLowerCase() === 'bearer') {\n              tokenType = 'Bearer';\n            }\n\n            result.headers.Authorization = \"\".concat(tokenType, \" \").concat(tokenValue);\n          }\n        }\n      }\n    });\n    return result;\n  } // CONCATENATED MODULE: ./src/execute/swagger2/build-request.js\n  // This function runs after the common function,\n  // `src/execute/index.js#buildRequest`\n\n  /* harmony default export */\n\n\n  var swagger2_build_request = function (options, req) {\n    var spec = options.spec,\n        operation = options.operation,\n        securities = options.securities,\n        requestContentType = options.requestContentType,\n        attachContentTypeForEmptyPayload = options.attachContentTypeForEmptyPayload; // Add securities, which are applicable\n\n    req = build_request_applySecurities({\n      request: req,\n      securities: securities,\n      operation: operation,\n      spec: spec\n    });\n\n    if (req.body || req.form || attachContentTypeForEmptyPayload) {\n      // all following conditionals are Swagger2 only\n      if (requestContentType) {\n        req.headers['Content-Type'] = requestContentType;\n      } else if (is_array_default()(operation.consumes)) {\n        req.headers['Content-Type'] = operation.consumes[0];\n      } else if (is_array_default()(spec.consumes)) {\n        req.headers['Content-Type'] = spec.consumes[0];\n      } else if (operation.parameters && operation.parameters.filter(function (p) {\n        return p.type === 'file';\n      }).length) {\n        req.headers['Content-Type'] = 'multipart/form-data';\n      } else if (operation.parameters && operation.parameters.filter(function (p) {\n        return p.in === 'formData';\n      }).length) {\n        req.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n      }\n    } else if (requestContentType) {\n      var isBodyParamPresent = operation.parameters && operation.parameters.filter(function (p) {\n        return p.in === 'body';\n      }).length > 0;\n      var isFormDataParamPresent = operation.parameters && operation.parameters.filter(function (p) {\n        return p.in === 'formData';\n      }).length > 0;\n\n      if (isBodyParamPresent || isFormDataParamPresent) {\n        req.headers['Content-Type'] = requestContentType;\n      }\n    }\n\n    return req;\n  }; // Add security values, to operations - that declare their need on them\n\n\n  function build_request_applySecurities(_ref) {\n    var request = _ref.request,\n        _ref$securities = _ref.securities,\n        securities = _ref$securities === void 0 ? {} : _ref$securities,\n        _ref$operation = _ref.operation,\n        operation = _ref$operation === void 0 ? {} : _ref$operation,\n        spec = _ref.spec;\n    var result = assign_default()({}, request);\n    var _securities$authorize = securities.authorized,\n        authorized = _securities$authorize === void 0 ? {} : _securities$authorize,\n        _securities$specSecur = securities.specSecurity,\n        specSecurity = _securities$specSecur === void 0 ? [] : _securities$specSecur;\n    var security = operation.security || specSecurity;\n    var isAuthorized = authorized && !!keys_default()(authorized).length;\n    var securityDef = spec.securityDefinitions;\n    result.headers = result.headers || {};\n    result.query = result.query || {};\n\n    if (!keys_default()(securities).length || !isAuthorized || !security || is_array_default()(operation.security) && !operation.security.length) {\n      return request;\n    }\n\n    security.forEach(function (securityObj, index) {\n      for (var key in securityObj) {\n        var auth = authorized[key];\n\n        if (!auth) {\n          continue;\n        }\n\n        var token = auth.token;\n        var value = auth.value || auth;\n        var schema = securityDef[key];\n        var type = schema.type;\n        var tokenName = schema['x-tokenName'] || 'access_token';\n        var oauthToken = token && token[tokenName];\n        var tokenType = token && token.token_type;\n\n        if (auth) {\n          if (type === 'apiKey') {\n            var inType = schema.in === 'query' ? 'query' : 'headers';\n            result[inType] = result[inType] || {};\n            result[inType][schema.name] = value;\n          } else if (type === 'basic') {\n            if (value.header) {\n              result.headers.authorization = value.header;\n            } else {\n              value.base64 = external_btoa_default()(\"\".concat(value.username, \":\").concat(value.password));\n              result.headers.authorization = \"Basic \".concat(value.base64);\n            }\n          } else if (type === 'oauth2' && oauthToken) {\n            tokenType = !tokenType || tokenType.toLowerCase() === 'bearer' ? 'Bearer' : tokenType;\n            result.headers.authorization = \"\".concat(tokenType, \" \").concat(oauthToken);\n          }\n        }\n      }\n    });\n    return result;\n  } // CONCATENATED MODULE: ./src/execute/index.js\n\n\n  function execute_ownKeys(object, enumerableOnly) {\n    var keys = keys_default()(object);\n\n    if (get_own_property_symbols_default.a) {\n      var symbols = get_own_property_symbols_default()(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return get_own_property_descriptor_default()(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function execute_objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        execute_ownKeys(source, true).forEach(function (key) {\n          defineProperty_default()(target, key, source[key]);\n        });\n      } else if (get_own_property_descriptors_default.a) {\n        define_properties_default()(target, get_own_property_descriptors_default()(source));\n      } else {\n        execute_ownKeys(source).forEach(function (key) {\n          define_property_default()(target, key, get_own_property_descriptor_default()(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  var execute_arrayOrEmpty = function arrayOrEmpty(ar) {\n    return is_array_default()(ar) ? ar : [];\n  };\n\n  var OperationNotFoundError = createErrorType('OperationNotFoundError', function (message, extra, oriError) {\n    this.originalError = oriError;\n    object_assign_default()(this, extra || {});\n  });\n\n  var findParametersWithName = function findParametersWithName(name, parameters) {\n    return parameters.filter(function (p) {\n      return p.name === name;\n    });\n  }; // removes parameters that have duplicate 'in' and 'name' properties\n\n\n  var execute_deduplicateParameters = function deduplicateParameters(parameters) {\n    var paramsMap = {};\n    parameters.forEach(function (p) {\n      if (!paramsMap[p.in]) {\n        paramsMap[p.in] = {};\n      }\n\n      paramsMap[p.in][p.name] = p;\n    });\n    var dedupedParameters = [];\n    keys_default()(paramsMap).forEach(function (i) {\n      keys_default()(paramsMap[i]).forEach(function (p) {\n        dedupedParameters.push(paramsMap[i][p]);\n      });\n    });\n    return dedupedParameters;\n  }; // For stubbing in tests\n\n\n  var execute_self = {\n    buildRequest: buildRequest // Execute request, with the given operationId and parameters\n    // pathName/method or operationId is optional\n\n  };\n\n  function execute(_ref) {\n    var userHttp = _ref.http,\n        fetch = _ref.fetch,\n        spec = _ref.spec,\n        operationId = _ref.operationId,\n        pathName = _ref.pathName,\n        method = _ref.method,\n        parameters = _ref.parameters,\n        securities = _ref.securities,\n        extras = objectWithoutProperties_default()(_ref, [\"http\", \"fetch\", \"spec\", \"operationId\", \"pathName\", \"method\", \"parameters\", \"securities\"]); // Provide default fetch implementation\n\n    var http = userHttp || fetch || http_http; // Default to _our_ http\n\n    if (pathName && method && !operationId) {\n      operationId = legacyIdFromPathMethod(pathName, method);\n    }\n\n    var request = execute_self.buildRequest(execute_objectSpread({\n      spec: spec,\n      operationId: operationId,\n      parameters: parameters,\n      securities: securities,\n      http: http\n    }, extras));\n\n    if (request.body && (isPlainObject_default()(request.body) || isArray_default()(request.body))) {\n      request.body = stringify_default()(request.body);\n    } // Build request and execute it\n\n\n    return http(request);\n  } // Build a request, which can be handled by the `http.js` implementation.\n\n\n  function buildRequest(options) {\n    var spec = options.spec,\n        operationId = options.operationId,\n        securities = options.securities,\n        requestContentType = options.requestContentType,\n        responseContentType = options.responseContentType,\n        scheme = options.scheme,\n        requestInterceptor = options.requestInterceptor,\n        responseInterceptor = options.responseInterceptor,\n        contextUrl = options.contextUrl,\n        userFetch = options.userFetch,\n        requestBody = options.requestBody,\n        server = options.server,\n        serverVariables = options.serverVariables,\n        http = options.http;\n    var parameters = options.parameters,\n        parameterBuilders = options.parameterBuilders;\n    var specIsOAS3 = isOAS3(spec);\n\n    if (!parameterBuilders) {\n      // user did not provide custom parameter builders\n      if (specIsOAS3) {\n        parameterBuilders = oas3_parameter_builders_namespaceObject;\n      } else {\n        parameterBuilders = parameter_builders;\n      }\n    } // Set credentials with 'http.withCredentials' value\n\n\n    var credentials = http && http.withCredentials ? 'include' : 'same-origin'; // Base Template\n\n    var req = {\n      url: '',\n      credentials: credentials,\n      headers: {},\n      cookies: {}\n    };\n\n    if (requestInterceptor) {\n      req.requestInterceptor = requestInterceptor;\n    }\n\n    if (responseInterceptor) {\n      req.responseInterceptor = responseInterceptor;\n    }\n\n    if (userFetch) {\n      req.userFetch = userFetch;\n    }\n\n    var operationRaw = getOperationRaw(spec, operationId);\n\n    if (!operationRaw) {\n      throw new OperationNotFoundError(\"Operation \".concat(operationId, \" not found\"));\n    }\n\n    var _operationRaw$operati = operationRaw.operation,\n        operation = _operationRaw$operati === void 0 ? {} : _operationRaw$operati,\n        method = operationRaw.method,\n        pathName = operationRaw.pathName;\n    req.url += execute_baseUrl({\n      spec: spec,\n      scheme: scheme,\n      contextUrl: contextUrl,\n      server: server,\n      serverVariables: serverVariables,\n      pathName: pathName,\n      method: method\n    }); // Mostly for testing\n\n    if (!operationId) {\n      // Not removing req.cookies causes testing issues and would\n      // change our interface, so we're always sure to remove it.\n      // See the same statement lower down in this function for\n      // more context.\n      delete req.cookies;\n      return req;\n    }\n\n    req.url += pathName; // Have not yet replaced the path parameters\n\n    req.method = \"\".concat(method).toUpperCase();\n    parameters = parameters || {};\n    var path = spec.paths[pathName] || {};\n\n    if (responseContentType) {\n      req.headers.accept = responseContentType;\n    }\n\n    var combinedParameters = execute_deduplicateParameters([].concat(execute_arrayOrEmpty(operation.parameters)) // operation parameters\n    .concat(execute_arrayOrEmpty(path.parameters)) // path parameters\n    ); // REVIEW: OAS3: have any key names or parameter shapes changed?\n    // Any new features that need to be plugged in here?\n    // Add values to request\n\n    combinedParameters.forEach(function (parameter) {\n      var builder = parameterBuilders[parameter.in];\n      var value;\n\n      if (parameter.in === 'body' && parameter.schema && parameter.schema.properties) {\n        value = parameters;\n      }\n\n      value = parameter && parameter.name && parameters[parameter.name];\n\n      if (typeof value === 'undefined') {\n        // check for `name-in` formatted key\n        value = parameter && parameter.name && parameters[\"\".concat(parameter.in, \".\").concat(parameter.name)];\n      } else if (findParametersWithName(parameter.name, combinedParameters).length > 1) {\n        // value came from `parameters[parameter.name]`\n        // check to see if this is an ambiguous parameter\n        // eslint-disable-next-line no-console\n        console.warn(\"Parameter '\".concat(parameter.name, \"' is ambiguous because the defined spec has more than one parameter with the name: '\").concat(parameter.name, \"' and the passed-in parameter values did not define an 'in' value.\"));\n      }\n\n      if (value === null) {\n        return;\n      }\n\n      if (typeof parameter.default !== 'undefined' && typeof value === 'undefined') {\n        value = parameter.default;\n      }\n\n      if (typeof value === 'undefined' && parameter.required && !parameter.allowEmptyValue) {\n        throw new Error(\"Required parameter \".concat(parameter.name, \" is not provided\"));\n      }\n\n      if (specIsOAS3 && parameter.schema && parameter.schema.type === 'object' && typeof value === 'string') {\n        try {\n          value = JSON.parse(value);\n        } catch (e) {\n          throw new Error('Could not parse object parameter value string as JSON');\n        }\n      }\n\n      if (builder) {\n        builder({\n          req: req,\n          parameter: parameter,\n          value: value,\n          operation: operation,\n          spec: spec\n        });\n      }\n    }); // Do version-specific tasks, then return those results.\n\n    var versionSpecificOptions = execute_objectSpread({}, options, {\n      operation: operation\n    });\n\n    if (specIsOAS3) {\n      req = build_request(versionSpecificOptions, req);\n    } else {\n      // If not OAS3, then treat as Swagger2.\n      req = swagger2_build_request(versionSpecificOptions, req);\n    } // If the cookie convenience object exists in our request,\n    // serialize its content and then delete the cookie object.\n\n\n    if (req.cookies && keys_default()(req.cookies).length) {\n      var cookieString = keys_default()(req.cookies).reduce(function (prev, cookieName) {\n        var cookieValue = req.cookies[cookieName];\n        var prefix = prev ? '&' : '';\n        var stringified = external_cookie_default.a.serialize(cookieName, cookieValue);\n        return prev + prefix + stringified;\n      }, '');\n      req.headers.Cookie = cookieString;\n    }\n\n    if (req.cookies) {\n      // even if no cookies were defined, we need to remove\n      // the cookies key from our request, or many many legacy\n      // tests will break.\n      delete req.cookies;\n    } // Will add the query object into the URL, if it exists\n    // ... will also create a FormData instance, if multipart/form-data (eg: a file)\n\n\n    mergeInQueryOrForm(req);\n    return req;\n  }\n\n  var stripNonAlpha = function stripNonAlpha(str) {\n    return str ? str.replace(/\\W/g, '') : null;\n  };\n\n  function execute_baseUrl(obj) {\n    var specIsOAS3 = isOAS3(obj.spec);\n    return specIsOAS3 ? oas3BaseUrl(obj) : swagger2BaseUrl(obj);\n  }\n\n  function oas3BaseUrl(_ref2) {\n    var spec = _ref2.spec,\n        pathName = _ref2.pathName,\n        method = _ref2.method,\n        server = _ref2.server,\n        contextUrl = _ref2.contextUrl,\n        _ref2$serverVariables = _ref2.serverVariables,\n        serverVariables = _ref2$serverVariables === void 0 ? {} : _ref2$serverVariables;\n    var servers = get_default()(spec, ['paths', pathName, (method || '').toLowerCase(), 'servers']) || get_default()(spec, ['paths', pathName, 'servers']) || get_default()(spec, ['servers']);\n    var selectedServerUrl = '';\n    var selectedServerObj = null;\n\n    if (server && servers && servers.length) {\n      var serverUrls = servers.map(function (srv) {\n        return srv.url;\n      });\n\n      if (serverUrls.indexOf(server) > -1) {\n        selectedServerUrl = server;\n        selectedServerObj = servers[serverUrls.indexOf(server)];\n      }\n    }\n\n    if (!selectedServerUrl && servers && servers.length) {\n      // default to the first server if we don't have one by now\n      selectedServerUrl = servers[0].url;\n      selectedServerObj = servers[0];\n    }\n\n    if (selectedServerUrl.indexOf('{') > -1) {\n      // do variable substitution\n      var varNames = getVariableTemplateNames(selectedServerUrl);\n      varNames.forEach(function (vari) {\n        if (selectedServerObj.variables && selectedServerObj.variables[vari]) {\n          // variable is defined in server\n          var variableDefinition = selectedServerObj.variables[vari];\n          var variableValue = serverVariables[vari] || variableDefinition.default;\n          var re = new RegExp(\"{\".concat(vari, \"}\"), 'g');\n          selectedServerUrl = selectedServerUrl.replace(re, variableValue);\n        }\n      });\n    }\n\n    return buildOas3UrlWithContext(selectedServerUrl, contextUrl);\n  }\n\n  function buildOas3UrlWithContext() {\n    var ourUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var contextUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var parsedUrl = external_url_default.a.parse(ourUrl);\n    var parsedContextUrl = external_url_default.a.parse(contextUrl);\n    var computedScheme = stripNonAlpha(parsedUrl.protocol) || stripNonAlpha(parsedContextUrl.protocol) || '';\n    var computedHost = parsedUrl.host || parsedContextUrl.host;\n    var computedPath = parsedUrl.pathname || '';\n    var res;\n\n    if (computedScheme && computedHost) {\n      res = \"\".concat(computedScheme, \"://\").concat(computedHost + computedPath); // If last character is '/', trim it off\n    } else {\n      res = computedPath;\n    }\n\n    return res[res.length - 1] === '/' ? res.slice(0, -1) : res;\n  }\n\n  function getVariableTemplateNames(str) {\n    var results = [];\n    var re = /{([^}]+)}/g;\n    var text; // eslint-disable-next-line no-cond-assign\n\n    while (text = re.exec(str)) {\n      results.push(text[1]);\n    }\n\n    return results;\n  } // Compose the baseUrl ( scheme + host + basePath )\n\n\n  function swagger2BaseUrl(_ref3) {\n    var spec = _ref3.spec,\n        scheme = _ref3.scheme,\n        _ref3$contextUrl = _ref3.contextUrl,\n        contextUrl = _ref3$contextUrl === void 0 ? '' : _ref3$contextUrl;\n    var parsedContextUrl = external_url_default.a.parse(contextUrl);\n    var firstSchemeInSpec = is_array_default()(spec.schemes) ? spec.schemes[0] : null;\n    var computedScheme = scheme || firstSchemeInSpec || stripNonAlpha(parsedContextUrl.protocol) || 'http';\n    var computedHost = spec.host || parsedContextUrl.host || '';\n    var computedPath = spec.basePath || '';\n    var res;\n\n    if (computedScheme && computedHost) {\n      // we have what we need for an absolute URL\n      res = \"\".concat(computedScheme, \"://\").concat(computedHost + computedPath);\n    } else {\n      // if not, a relative URL will have to do\n      res = computedPath;\n    } // If last character is '/', trim it off\n\n\n    return res[res.length - 1] === '/' ? res.slice(0, -1) : res;\n  } // CONCATENATED MODULE: ./src/index.js\n\n\n  function src_ownKeys(object, enumerableOnly) {\n    var keys = keys_default()(object);\n\n    if (get_own_property_symbols_default.a) {\n      var symbols = get_own_property_symbols_default()(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return get_own_property_descriptor_default()(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function src_objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        src_ownKeys(source, true).forEach(function (key) {\n          defineProperty_default()(target, key, source[key]);\n        });\n      } else if (get_own_property_descriptors_default.a) {\n        define_properties_default()(target, get_own_property_descriptors_default()(source));\n      } else {\n        src_ownKeys(source).forEach(function (key) {\n          define_property_default()(target, key, get_own_property_descriptor_default()(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  Swagger.http = http_http;\n  Swagger.makeHttp = makeHttp.bind(null, Swagger.http);\n  Swagger.resolve = resolve;\n  Swagger.resolveSubtree = resolveSubtree;\n  Swagger.execute = execute;\n  Swagger.serializeRes = serializeRes;\n  Swagger.serializeHeaders = serializeHeaders;\n  Swagger.clearCache = resolver_clearCache;\n  Swagger.makeApisTagOperation = makeApisTagOperation;\n  Swagger.buildRequest = buildRequest;\n  Swagger.helpers = {\n    opId: opId\n  };\n\n  function Swagger(url) {\n    var _this = this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {}; // Allow url as a separate argument\n\n    if (typeof url === 'string') {\n      opts.url = url;\n    } else {\n      opts = url;\n    }\n\n    if (!(this instanceof Swagger)) {\n      return new Swagger(opts);\n    }\n\n    assign_default()(this, opts);\n    var prom = this.resolve().then(function () {\n      if (!_this.disableInterfaces) {\n        assign_default()(_this, Swagger.makeApisTagOperation(_this));\n      }\n\n      return _this;\n    }); // Expose this instance on the promise that gets returned\n\n    prom.client = this;\n    return prom;\n  }\n\n  Swagger.prototype = {\n    http: http_http,\n    execute: function execute(argHash) {\n      this.applyDefaults();\n      return Swagger.execute(src_objectSpread({\n        spec: this.spec,\n        http: this.http,\n        securities: {\n          authorized: this.authorizations\n        },\n        contextUrl: typeof this.url === 'string' ? this.url : undefined\n      }, argHash));\n    },\n    resolve: function resolve() {\n      var _this2 = this;\n\n      return Swagger.resolve({\n        spec: this.spec,\n        url: this.url,\n        allowMetaPatches: this.allowMetaPatches,\n        useCircularStructures: this.useCircularStructures,\n        requestInterceptor: this.requestInterceptor || null,\n        responseInterceptor: this.responseInterceptor || null\n      }).then(function (obj) {\n        _this2.originalSpec = _this2.spec;\n        _this2.spec = obj.spec;\n        _this2.errors = obj.errors;\n        return _this2;\n      });\n    }\n  };\n\n  Swagger.prototype.applyDefaults = function () {\n    var spec = this.spec;\n    var specUrl = this.url; // TODO: OAS3: support servers here\n\n    if (specUrl && startsWith_default()(specUrl, 'http')) {\n      var parsed = external_url_default.a.parse(specUrl);\n\n      if (!spec.host) {\n        spec.host = parsed.host;\n      }\n\n      if (!spec.schemes) {\n        spec.schemes = [parsed.protocol.replace(':', '')];\n      }\n\n      if (!spec.basePath) {\n        spec.basePath = '/';\n      }\n    }\n  };\n  /* harmony default export */\n\n\n  var src = __webpack_exports__[\"default\"] = Swagger;\n  /***/\n}\n/******/\n])[\"default\"];","map":{"version":3,"sources":["/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/swagger-client/dist/index.js"],"names":["module","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","require","__webpack_exports__","oas3_parameter_builders_namespaceObject","parameter_builders_path","parameter_builders_query","parameter_builders_header","cookie","define_property_","define_property_default","define_properties_","define_properties_default","get_own_property_descriptors_","get_own_property_descriptors_default","get_own_property_descriptor_","get_own_property_descriptor_default","get_own_property_symbols_","get_own_property_symbols_default","keys_","keys_default","defineProperty_","defineProperty_default","cloneDeep_","assign_","assign_default","startsWith_","startsWith_default","external_url_","external_url_default","regenerator_","regenerator_default","slicedToArray_","slicedToArray_default","stringify_","stringify_default","typeof_","typeof_default","is_array_","is_array_default","asyncToGenerator_","asyncToGenerator_default","polyfill_","external_qs_","external_qs_default","external_js_yaml_","external_js_yaml_default","isString_","isString_default","http_self","serializeRes","mergeInQueryOrForm","http_http","_x","_http","apply","arguments","a","mark","_callee","url","request","contentType","res","error","_error","_args","wrap","_callee$","_context","prev","next","length","undefined","headers","forEach","headerName","replace","requestInterceptor","t0","sent","test","userFetch","fetch","responseInterceptor","t1","t2","Error","statusText","statusCode","status","responseError","ok","response","abrupt","stop","shouldDownloadAsText","parseBody","body","indexOf","JSON","parse","safeLoad","oriRes","_ref","_ref$loadSpec","loadSpec","serializeHeaders","useText","getBody","text","blob","buffer","then","data","obj","e","parseError","headerValue","header","push","http_isFile","navigatorObj","navigator","product","uri","File","pipe","formatValue","input","skipEncoding","collectionFormat","allowEmptyValue","SEPARATORS","csv","ssv","tsv","pipes","encodeFn","encodeURIComponent","str","map","join","encodeFormOrQuery","encodedQuery","reduce","result","parameterName","isObject","paramValue","encodedParameterName","notArray","stringify","encode","indices","req","_req$url","query","form","joinSearch","_len","strs","Array","_key","search","filter","concat","hasFile","some","FormData","append","_url$split","split","_url$split2","baseUrl","oriSearch","newStr","oriQuery","keysToRemove","finalStr","makeHttp","httpFn","preFetch","postFetch","promise_","promise_default","get_iterator_","get_iterator_default","create_","create_default","object_assign_","object_assign_default","classCallCheck_","classCallCheck_default","createClass_","createClass_default","find_","find_default","toConsumableArray_","toConsumableArray_default","external_fast_json_patch_","external_fast_json_patch_default","external_deep_extend_","external_deep_extend_default","object_assign_deep_","object_assign_deep_default","lib","add","remove","merge","mergeDeep","context","getIn","applyPatch","parentPathMatch","flatten","fullyNormalizeArray","normalizeArray","lib_normalizeArray","isPromise","forEachNew","forEachNewPrimitive","isJsonPatch","isContextPatch","isPatch","isMutation","isAdditiveMutation","isGenerator","isFunction","lib_isObject","isError","patch","opts","path","normalizeJSONPath","op","newValue","getInByJsonPath","currentValue","prop","propVal","isArray","existing","currentObj","patches","arr","allowMetaPatches","meta","_currentValue","_newValue","item","lib_get","type","mutations","fn","forEachNewPatch","forEachPrimitive","callback","mutation","flat","clean","cleanArray","basePath","val","results","newResults","arrayResults","moreResults","len","token","elm","thing","isGeneratorFunction","jsonPath","getValueByPointer","console","weak_map_","weak_map_default","external_cross_fetch_","external_querystring_browser_","external_querystring_browser_default","createErrorType","init","E","captureStackTrace","stack","constructor","args","message","external_traverse_","external_traverse_default","freelyNamedKeyParents","nonFreelyNamedKeyGrandparents","freelyNamedPaths","freelyNamedAncestors","isFreelyNamed","parentPath","parentKey","grandparentKey","parentStr","el","generateAbsoluteRefPatches","specmap","_ref$getBaseUrlForNod","getBaseUrlForNodePath","getContext","baseDoc","_ref$targetKeys","targetKeys","nodePath","fullPath","absolutifiedRefValue","absolutifyPointer","node","pointer","_pointer$split","_pointer$split2","urlPart","fragmentPart","newRefUrlPart","resolve","ACCEPT_HEADER_VALUE_FOR_DOCUMENTS","ABSOLUTE_URL_REGEXP","RegExp","JSONRefError","extra","oriError","originalError","docCache","specmapRefs","skipResolutionTestFns","shouldSkipResolution","refs_plugin","plugin","ref","specmapInstance","getInstance","parent","slice","$ref","splitString","refPath","absoluteify","wrapError","promOrVal","tokens","pointerAlreadyInPath","useCircularStructures","_absolutifiedRef","jsonPointerToArray","extractFromDoc","__value","catch","absolutifiedRef","$$ref","patchValueAlreadyInPath","state","mod","clearCache","getDoc","fetchJSON","extract","unescapeJsonPointerToken","refs","code","docPath","doc","v","reject","_doc","Accept","TypeError","substr","unescape","escapeJsonPointerToken","escape","arrayToJsonPointer","pointerBoundaryChar","pointerIsAParent","parentPointer","nextChar","charAt","lastParentChar","set","fullyQualifiedPointer","safeParentPointer","rootDoc","contextTree","currPath","hasIndirectCycle","root","ancestors","pointToAncestor","k","all_of","err","alreadyAddError","originalDefinitionObj","part","allOf","toMerge","_err","collapsedFullPath","absoluteRefPatches","lib_parameters","parameters","opPath","spec","param","default","parameterMacro","lib_properties","properties","modelPropertyMacro","ownKeys","enumerableOnly","keys","symbols","sym","_objectSpread","target","source","context_tree_ContextTree","ContextTree","createNode","getParent","updateNode","children","branch","child","protoValue","ensureExists","HARD_LIMIT","specmap_SpecMap","SpecMap","_this","debugLevel","plugins","pluginHistory","errors","promisedPatches","showDebug","allPatches","pluginProp","libMethods","_get","_getContext","hasRun","_hasRun","wrappedPlugins","wrapPlugin","updatePatches","debug","level","_console","log","verbose","_console2","_len2","_key2","pathDiscriminator","ctx","createKeyBasedPlugin","pluginName","pluginObj","isSubPath","tested","every","_marked","refCache","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","traverse","_context2","parentIndex","indexOfFirstProperties","isRootProperties","traversed","_i","_Object$keys","updatedPath","isObj","objRef","isWithinPathDiscriminator","traverse$","delegateYield","done","return","finish","nextPlugin","_this2","getMutationsForPlugin","nextPromisedPatch","race","getPluginHistory","getPluginName","getPluginRunCount","getPluginHistoryTip","history","getPluginMutationIndex","mi","mutationIndex","updatePluginHistory","_this3","promisedPatchThen","setContext","updateMutations","removePromisedPatch","index","splice","_this4","promisedPatch","getMutations","from","to","getCurrentMutations","getCurrentPlugin","tip","currentPlugin","getPatchesOfType","getLib","count","times","_clone","dispatch","_this5","that","nextPromise","pluginCount","promises","all","promise","Function","executePlugin","lastMutationIndex","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","yieldedPatches","newPatches","mapSpec","isObject_","isObject_default","toLower","String","toLowerCase","escapeString","isOAS3","oasVersion","openapi","isSwagger2","swaggerVersion","swagger","opId","operation","pathName","method","v2OperationIdCompatibilityMode","idWithoutWhitespace","operationId","idFromPathMethod","_ref2","substring","legacyIdFromPathMethod","getOperationRaw","id","paths","findOperation","_ref3","rawOperationId","legacyOperationId","predicate","eachOperation","cb","find","toUpperCase","operationObj","cbValue","normalizeSwagger","parsedSpec","$$normalized","pathParameters","_loop","oid","opList","__originalOperationId","inheritsList","toBeInherit","_inheritsList","inherits","inheritName","_loop2","exists","opParam","_ret","makeFetchJSON","http","credentials","withCredentials","resolver_clearCache","_obj$allowMetaPatches","skipNormalization","doResolve","_spec","plugs","get_","get_default","subtree_resolver_ownKeys","subtree_resolver_objectSpread","resolveSubtree","_x2","_resolveSubtree","returnEntireTree","resolveOptions","_normalizeSwagger","normalized","pick_","pick_default","interfaces_ownKeys","interfaces_objectSpread","nullFn","interfaces_normalizeArray","arg","interfaces_self","mapTagOperations","makeExecute","swaggerJs","execute","makeApisTagOperationsOperationExecute","tagOperations","apis","tag","operations","makeApisTagOperation","_ref2$cb","_ref2$defaultTag","defaultTag","operationIdCounter","tags","tagObj","cbResult","originalCounterValue","temp","objectWithoutProperties_","objectWithoutProperties_default","isPlainObject_","isPlainObject_default","isArray_","isArray_default","external_btoa_","external_btoa_default","external_cookie_","external_cookie_default","parameter_builders","bodyBuilder","headerBuilder","queryBuilder","pathBuilder","formData","formDataBuilder","parameter","_ref4","_ref5","paramName","external_encode_3986_","external_utf8_bytes_","external_utf8_bytes_default","external_utfstring_","isRfc3986Reserved","char","isRrc3986Unreserved","encodeDisallowedCharacters","toString","encoded","byte","encodedByte","stylize","config","encodeArray","encodeObject","encodePrimitive","style","explode","valueEncoder","curr","after","_after","_after2","valueKeys","middleChar","prefix","separator","serialize","mediaType","includes","content","effectiveMediaType","styledValue","allowReserved","_valueKeys","encodedParamName","PARAMETER_HEADER_BLACKLIST","Cookie","_","build_request","options","requestBody","securities","attachContentTypeForEmptyPayload","requestContentType","applySecurities","requestBodyDef","requestBodyMediaTypes","isExplicitContentTypeValid","firstMediaType","newVal","isFile","Blob","isBuffer","_ref$securities","_ref$operation","_securities$authorize","authorized","security","isAuthorized","securityDef","securityObj","auth","schema","in","cookies","scheme","username","password","Authorization","tokenName","tokenValue","tokenType","token_type","swagger2_build_request","build_request_applySecurities","consumes","isBodyParamPresent","isFormDataParamPresent","_securities$specSecur","specSecurity","securityDefinitions","oauthToken","inType","authorization","base64","execute_ownKeys","execute_objectSpread","execute_arrayOrEmpty","arrayOrEmpty","ar","OperationNotFoundError","findParametersWithName","execute_deduplicateParameters","deduplicateParameters","paramsMap","dedupedParameters","execute_self","buildRequest","userHttp","extras","responseContentType","contextUrl","server","serverVariables","parameterBuilders","specIsOAS3","operationRaw","_operationRaw$operati","execute_baseUrl","accept","combinedParameters","builder","warn","required","versionSpecificOptions","cookieString","cookieName","cookieValue","stringified","stripNonAlpha","oas3BaseUrl","swagger2BaseUrl","_ref2$serverVariables","servers","selectedServerUrl","selectedServerObj","serverUrls","srv","varNames","getVariableTemplateNames","vari","variables","variableDefinition","variableValue","re","buildOas3UrlWithContext","ourUrl","parsedUrl","parsedContextUrl","computedScheme","protocol","computedHost","host","computedPath","pathname","exec","_ref3$contextUrl","firstSchemeInSpec","schemes","src_ownKeys","src_objectSpread","Swagger","helpers","prom","disableInterfaces","client","argHash","applyDefaults","authorizations","originalSpec","specUrl","parsed","src"],"mappings":"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","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 45);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/object/keys\");\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/array/is-array\");\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/helpers/typeof\");\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/object/assign\");\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/regenerator\");\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\");\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\");\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\");\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/helpers/defineProperty\");\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/object/define-properties\");\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/json/stringify\");\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"url\");\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/helpers/toConsumableArray\");\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/promise\");\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/assign\");\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/get\");\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/helpers/asyncToGenerator\");\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"fast-json-patch\");\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"btoa\");\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/startsWith\");\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/get-iterator\");\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/helpers/slicedToArray\");\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"js-yaml\");\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/helpers/classCallCheck\");\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/helpers/createClass\");\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"qs\");\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/object/create\");\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"querystring-browser\");\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/isObject\");\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"buffer/\");\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/isString\");\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/find\");\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"deep-extend\");\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@kyleshockey/object-assign-deep\");\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/core-js/weak-map\");\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"cross-fetch\");\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"traverse\");\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/pick\");\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime-corejs2/helpers/objectWithoutProperties\");\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/isPlainObject\");\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/isArray\");\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"cookie\");\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"utf8-bytes\");\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"utfstring\");\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(50);\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/cloneDeep\");\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"cross-fetch/polyfill\");\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"isomorphic-form-data\");\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"encode-3986\");\n\n/***/ }),\n/* 50 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar oas3_parameter_builders_namespaceObject = {};\n__webpack_require__.r(oas3_parameter_builders_namespaceObject);\n__webpack_require__.d(oas3_parameter_builders_namespaceObject, \"path\", function() { return parameter_builders_path; });\n__webpack_require__.d(oas3_parameter_builders_namespaceObject, \"query\", function() { return parameter_builders_query; });\n__webpack_require__.d(oas3_parameter_builders_namespaceObject, \"header\", function() { return parameter_builders_header; });\n__webpack_require__.d(oas3_parameter_builders_namespaceObject, \"cookie\", function() { return cookie; });\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/define-property\"\nvar define_property_ = __webpack_require__(9);\nvar define_property_default = /*#__PURE__*/__webpack_require__.n(define_property_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/define-properties\"\nvar define_properties_ = __webpack_require__(10);\nvar define_properties_default = /*#__PURE__*/__webpack_require__.n(define_properties_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\"\nvar get_own_property_descriptors_ = __webpack_require__(5);\nvar get_own_property_descriptors_default = /*#__PURE__*/__webpack_require__.n(get_own_property_descriptors_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\"\nvar get_own_property_descriptor_ = __webpack_require__(6);\nvar get_own_property_descriptor_default = /*#__PURE__*/__webpack_require__.n(get_own_property_descriptor_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\"\nvar get_own_property_symbols_ = __webpack_require__(7);\nvar get_own_property_symbols_default = /*#__PURE__*/__webpack_require__.n(get_own_property_symbols_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/keys\"\nvar keys_ = __webpack_require__(0);\nvar keys_default = /*#__PURE__*/__webpack_require__.n(keys_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/defineProperty\"\nvar defineProperty_ = __webpack_require__(8);\nvar defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty_);\n\n// EXTERNAL MODULE: external \"lodash/cloneDeep\"\nvar cloneDeep_ = __webpack_require__(46);\n\n// EXTERNAL MODULE: external \"lodash/assign\"\nvar assign_ = __webpack_require__(15);\nvar assign_default = /*#__PURE__*/__webpack_require__.n(assign_);\n\n// EXTERNAL MODULE: external \"lodash/startsWith\"\nvar startsWith_ = __webpack_require__(20);\nvar startsWith_default = /*#__PURE__*/__webpack_require__.n(startsWith_);\n\n// EXTERNAL MODULE: external \"url\"\nvar external_url_ = __webpack_require__(12);\nvar external_url_default = /*#__PURE__*/__webpack_require__.n(external_url_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/regenerator\"\nvar regenerator_ = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/slicedToArray\"\nvar slicedToArray_ = __webpack_require__(22);\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/json/stringify\"\nvar stringify_ = __webpack_require__(11);\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/typeof\"\nvar typeof_ = __webpack_require__(2);\nvar typeof_default = /*#__PURE__*/__webpack_require__.n(typeof_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/array/is-array\"\nvar is_array_ = __webpack_require__(1);\nvar is_array_default = /*#__PURE__*/__webpack_require__.n(is_array_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(17);\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"cross-fetch/polyfill\"\nvar polyfill_ = __webpack_require__(47);\n\n// EXTERNAL MODULE: external \"qs\"\nvar external_qs_ = __webpack_require__(26);\nvar external_qs_default = /*#__PURE__*/__webpack_require__.n(external_qs_);\n\n// EXTERNAL MODULE: external \"js-yaml\"\nvar external_js_yaml_ = __webpack_require__(23);\nvar external_js_yaml_default = /*#__PURE__*/__webpack_require__.n(external_js_yaml_);\n\n// EXTERNAL MODULE: external \"lodash/isString\"\nvar isString_ = __webpack_require__(31);\nvar isString_default = /*#__PURE__*/__webpack_require__.n(isString_);\n\n// CONCATENATED MODULE: ./src/http.js\n /* global fetch */\n\n\n\n\n// For testing\nvar http_self = {\n  serializeRes: serializeRes,\n  mergeInQueryOrForm: mergeInQueryOrForm\n\n\n  // Handles fetch-like syntax and the case where there is only one object passed-in\n  // (which will have the URL as a property). Also serilizes the response.\n};function http_http(_x) {return _http.apply(this, arguments);}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// exported for testing\nfunction _http() {_http = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(url) {var request,contentType,res,error,_error,_args = arguments;return regenerator_default.a.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:request = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};if (typeof_default()(url) === 'object') {request = url;url = request.url;}request.headers = request.headers || {}; // Serializes query, for convenience\n            // Should be the last thing we do, as its hard to mutate the URL with\n            // the search string, but much easier to manipulate the req.query object\n            http_self.mergeInQueryOrForm(request); // Newlines in header values cause weird error messages from `window.fetch`,\n            // so let's massage them out.\n            // Context: https://stackoverflow.com/a/50709178\n            if (request.headers) {keys_default()(request.headers).forEach(function (headerName) {var value = request.headers[headerName];if (typeof value === 'string') {request.headers[headerName] = value.replace(/\\n+/g, ' ');}});} // Wait for the request interceptor, if it was provided\n            // WARNING: don't put anything between this and the request firing unless\n            // you have a good reason!\n            if (!request.requestInterceptor) {_context.next = 12;break;}_context.next = 8;return request.requestInterceptor(request);case 8:_context.t0 = _context.sent;if (_context.t0) {_context.next = 11;break;}_context.t0 = request;case 11:request = _context.t0;case 12: // for content-type=multipart\\/form-data remove content-type from request before fetch\n            // so that correct one with `boundary` is set\n            contentType = request.headers['content-type'] || request.headers['Content-Type'];if (/multipart\\/form-data/i.test(contentType)) {delete request.headers['content-type'];delete request.headers['Content-Type'];} // eslint-disable-next-line no-undef\n            _context.prev = 14;_context.next = 17;return (request.userFetch || fetch)(request.url, request);case 17:res = _context.sent;_context.next = 20;return http_self.serializeRes(res, url, request);case 20:res = _context.sent;if (!request.responseInterceptor) {_context.next = 28;break;}_context.next = 24;return request.responseInterceptor(res);case 24:_context.t1 = _context.sent;if (_context.t1) {_context.next = 27;break;}_context.t1 = res;case 27:res = _context.t1;case 28:_context.next = 38;break;case 30:_context.prev = 30;_context.t2 = _context[\"catch\"](14);if (res) {_context.next = 34;break;}throw _context.t2;case 34:error = new Error(res.statusText);error.statusCode = error.status = res.status;error.responseError = _context.t2;throw error;case 38:if (res.ok) {_context.next = 43;break;}_error = new Error(res.statusText);_error.statusCode = _error.status = res.status;_error.response = res;throw _error;case 43:return _context.abrupt(\"return\", res);case 44:case \"end\":return _context.stop();}}}, _callee, null, [[14, 30]]);}));return _http.apply(this, arguments);}var shouldDownloadAsText = function shouldDownloadAsText() {var contentType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';return /(json|xml|yaml|text)\\b/.test(contentType);};function parseBody(body, contentType) {if (contentType && (contentType.indexOf('application/json') === 0 || contentType.indexOf('+json') > 0)) {return JSON.parse(body);}return external_js_yaml_default.a.safeLoad(body);} // Serialize the response, returns a promise with headers and the body part of the hash\nfunction serializeRes(oriRes, url) {var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},_ref$loadSpec = _ref.loadSpec,loadSpec = _ref$loadSpec === void 0 ? false : _ref$loadSpec;var res = { ok: oriRes.ok, url: oriRes.url || url,\n    status: oriRes.status,\n    statusText: oriRes.statusText,\n    headers: serializeHeaders(oriRes.headers) };\n\n\n  var contentType = res.headers['content-type'];\n  var useText = loadSpec || shouldDownloadAsText(contentType);\n\n  // Note: Response.blob not implemented in node-fetch 1.  Use buffer instead.\n  var getBody = useText ? oriRes.text : oriRes.blob || oriRes.buffer;\n\n  return getBody.call(oriRes).then(function (body) {\n    res.text = body;\n    res.data = body;\n\n    if (useText) {\n      try {\n        var obj = parseBody(body, contentType);\n        res.body = obj;\n        res.obj = obj;\n      }\n      catch (e) {\n        res.parseError = e;\n      }\n    }\n    return res;\n  });\n}\n\n// Serialize headers into a hash, where mutliple-headers result in an array.\n//\n// eg: Cookie: one\n//     Cookie: two\n//  =  { Cookie: [ \"one\", \"two\" ]\nfunction serializeHeaders() {var headers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var obj = {};\n\n  // Iterate over headers, making multiple-headers into an array\n  if (typeof headers.forEach === 'function') {\n    headers.forEach(function (headerValue, header) {\n      if (obj[header] !== undefined) {\n        obj[header] = is_array_default()(obj[header]) ? obj[header] : [obj[header]];\n        obj[header].push(headerValue);\n      } else\n      {\n        obj[header] = headerValue;\n      }\n    });\n    return obj;\n  }\n\n  return obj;\n}\n\nfunction http_isFile(obj, navigatorObj) {\n  if (!navigatorObj && typeof navigator !== 'undefined') {\n    // eslint-disable-next-line no-undef\n    navigatorObj = navigator;\n  }\n  if (navigatorObj && navigatorObj.product === 'ReactNative') {\n    if (obj && typeof_default()(obj) === 'object' && typeof obj.uri === 'string') {\n      return true;\n    }\n    return false;\n  }\n  if (typeof File !== 'undefined') {\n    // eslint-disable-next-line no-undef\n    return obj instanceof File;\n  }\n  return obj !== null && typeof_default()(obj) === 'object' && typeof obj.pipe === 'function';\n}\n\nfunction formatValue(input, skipEncoding) {var\n  collectionFormat = input.collectionFormat,allowEmptyValue = input.allowEmptyValue;\n\n  // `input` can be string in OAS3 contexts\n  var value = typeof_default()(input) === 'object' ? input.value : input;\n\n  var SEPARATORS = {\n    csv: ',',\n    ssv: '%20',\n    tsv: '%09',\n    pipes: '|' };\n\n\n  if (typeof value === 'undefined' && allowEmptyValue) {\n    return '';\n  }\n\n  if (http_isFile(value) || typeof value === 'boolean') {\n    return value;\n  }\n\n  var encodeFn = encodeURIComponent;\n  if (skipEncoding) {\n    if (isString_default()(value)) encodeFn = function encodeFn(str) {return str;};else\n    encodeFn = function encodeFn(obj) {return stringify_default()(obj);};\n  }\n\n  if (typeof_default()(value) === 'object' && !is_array_default()(value)) {\n    return '';\n  }\n\n  if (!is_array_default()(value)) {\n    return encodeFn(value);\n  }\n\n  if (is_array_default()(value) && !collectionFormat) {\n    return value.map(encodeFn).join(',');\n  }\n  if (collectionFormat === 'multi') {\n    return value.map(encodeFn);\n  }\n  return value.map(encodeFn).join(SEPARATORS[collectionFormat]);\n}\n\n// Encodes an object using appropriate serializer.\nfunction encodeFormOrQuery(data) {\n  /**\n                                          * Encode parameter names and values\n                                          * @param {Object} result - parameter names and values\n                                          * @param {string} parameterName - Parameter name\n                                          * @return {object} encoded parameter names and values\n                                          */\n  var encodedQuery = keys_default()(data).reduce(function (result, parameterName) {\n    var isObject = function isObject(a) {return a && typeof_default()(a) === 'object';};\n    var paramValue = data[parameterName];\n    var skipEncoding = !!paramValue.skipEncoding;\n    var encodedParameterName = skipEncoding ? parameterName : encodeURIComponent(parameterName);\n    var notArray = isObject(paramValue) && !is_array_default()(paramValue);\n    result[encodedParameterName] = formatValue(\n    notArray ? paramValue : { value: paramValue }, skipEncoding);\n\n    return result;\n  }, {});\n  return external_qs_default.a.stringify(encodedQuery, { encode: false, indices: false }) || '';\n}\n\n// If the request has a `query` object, merge it into the request.url, and delete the object\nfunction mergeInQueryOrForm() {var req = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};var _req$url =\n  req.url,url = _req$url === void 0 ? '' : _req$url,query = req.query,form = req.form;\n\n  var joinSearch = function joinSearch() {for (var _len = arguments.length, strs = new Array(_len), _key = 0; _key < _len; _key++) {strs[_key] = arguments[_key];}\n    var search = strs.filter(function (a) {return a;}).join('&'); // Only truthy value\n    return search ? \"?\".concat(search) : ''; // Only add '?' if there is a str\n  };\n\n  if (form) {\n    var hasFile = keys_default()(form).some(function (key) {\n      return http_isFile(form[key].value);\n    });\n\n    var contentType = req.headers['content-type'] || req.headers['Content-Type'];\n\n    if (hasFile || /multipart\\/form-data/i.test(contentType)) {\n      var FormData = __webpack_require__(48); // eslint-disable-line global-require\n      req.body = new FormData();\n      keys_default()(form).forEach(function (key) {\n        req.body.append(key, formatValue(form[key], true));\n      });\n    } else\n    {\n      req.body = encodeFormOrQuery(form);\n    }\n\n    delete req.form;\n  }\n\n  if (query) {var _url$split =\n    url.split('?'),_url$split2 = slicedToArray_default()(_url$split, 2),baseUrl = _url$split2[0],oriSearch = _url$split2[1];\n    var newStr = '';\n\n    if (oriSearch) {\n      var oriQuery = external_qs_default.a.parse(oriSearch);\n      var keysToRemove = keys_default()(query);\n      keysToRemove.forEach(function (key) {return delete oriQuery[key];});\n      newStr = external_qs_default.a.stringify(oriQuery, { encode: true });\n    }\n\n    var finalStr = joinSearch(newStr, encodeFormOrQuery(query));\n    req.url = baseUrl + finalStr;\n    delete req.query;\n  }\n  return req;\n}\n\n// Wrap a http function ( there are otherways to do this, conisder this deprecated )\nfunction makeHttp(httpFn, preFetch, postFetch) {\n  postFetch = postFetch || function (a) {return a;};\n  preFetch = preFetch || function (a) {return a;};\n\n  return function (req) {\n    if (typeof req === 'string') {\n      req = { url: req };\n    }\n    http_self.mergeInQueryOrForm(req);\n    req = preFetch(req);\n    return postFetch(httpFn(req));\n  };\n}\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/promise\"\nvar promise_ = __webpack_require__(14);\nvar promise_default = /*#__PURE__*/__webpack_require__.n(promise_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/get-iterator\"\nvar get_iterator_ = __webpack_require__(21);\nvar get_iterator_default = /*#__PURE__*/__webpack_require__.n(get_iterator_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/create\"\nvar create_ = __webpack_require__(27);\nvar create_default = /*#__PURE__*/__webpack_require__.n(create_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/object/assign\"\nvar object_assign_ = __webpack_require__(3);\nvar object_assign_default = /*#__PURE__*/__webpack_require__.n(object_assign_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/classCallCheck\"\nvar classCallCheck_ = __webpack_require__(24);\nvar classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/createClass\"\nvar createClass_ = __webpack_require__(25);\nvar createClass_default = /*#__PURE__*/__webpack_require__.n(createClass_);\n\n// EXTERNAL MODULE: external \"lodash/find\"\nvar find_ = __webpack_require__(32);\nvar find_default = /*#__PURE__*/__webpack_require__.n(find_);\n\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/toConsumableArray\"\nvar toConsumableArray_ = __webpack_require__(13);\nvar toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray_);\n\n// EXTERNAL MODULE: external \"fast-json-patch\"\nvar external_fast_json_patch_ = __webpack_require__(18);\nvar external_fast_json_patch_default = /*#__PURE__*/__webpack_require__.n(external_fast_json_patch_);\n\n// EXTERNAL MODULE: external \"deep-extend\"\nvar external_deep_extend_ = __webpack_require__(33);\nvar external_deep_extend_default = /*#__PURE__*/__webpack_require__.n(external_deep_extend_);\n\n// EXTERNAL MODULE: external \"@kyleshockey/object-assign-deep\"\nvar object_assign_deep_ = __webpack_require__(34);\nvar object_assign_deep_default = /*#__PURE__*/__webpack_require__.n(object_assign_deep_);\n\n// CONCATENATED MODULE: ./src/specmap/lib/index.js\n\n\n\n\n\n/* harmony default export */ var lib = ({\n  add: add,\n  replace: replace,\n  remove: remove,\n  merge: merge,\n  mergeDeep: mergeDeep,\n  context: context,\n  getIn: getIn,\n  applyPatch: applyPatch,\n  parentPathMatch: parentPathMatch,\n  flatten: flatten,\n  fullyNormalizeArray: fullyNormalizeArray,\n  normalizeArray: lib_normalizeArray,\n  isPromise: isPromise,\n  forEachNew: forEachNew,\n  forEachNewPrimitive: forEachNewPrimitive,\n  isJsonPatch: isJsonPatch,\n  isContextPatch: isContextPatch,\n  isPatch: isPatch,\n  isMutation: isMutation,\n  isAdditiveMutation: isAdditiveMutation,\n  isGenerator: isGenerator,\n  isFunction: isFunction,\n  isObject: lib_isObject,\n  isError: isError });\n\n\nfunction applyPatch(obj, patch, opts) {\n  opts = opts || {};\n\n  patch = object_assign_default()({}, patch, {\n    path: patch.path && normalizeJSONPath(patch.path) });\n\n\n  if (patch.op === 'merge') {\n    var newValue = getInByJsonPath(obj, patch.path);\n    object_assign_default()(newValue, patch.value);\n    external_fast_json_patch_default.a.applyPatch(obj, [replace(patch.path, newValue)]);\n  } else\n  if (patch.op === 'mergeDeep') {\n    var currentValue = getInByJsonPath(obj, patch.path);\n\n    // Iterate the properties of the patch\n    for (var prop in patch.value) {\n      var propVal = patch.value[prop];\n      var isArray = is_array_default()(propVal);\n      if (isArray) {\n        // deepExtend doesn't merge arrays, so we will do it manually\n        var existing = currentValue[prop] || [];\n        currentValue[prop] = existing.concat(propVal);\n      } else\n      if (lib_isObject(propVal) && !isArray) {\n        // If it's an object, iterate it's keys and merge\n        // if there are conflicting keys, merge deep, otherwise shallow merge\n        var currentObj = object_assign_default()({}, currentValue[prop]);\n        for (var key in propVal) {\n          if (Object.prototype.hasOwnProperty.call(currentObj, key)) {\n            // if there is a single conflicting key, just deepExtend the entire value\n            // and break from the loop (since all future keys are also merged)\n            // We do this because we can't deepExtend two primitives\n            // (currentObj[key] & propVal[key] may be primitives).\n            //\n            // we also deeply assign here, since we aren't in control of\n            // how deepExtend affects existing nested objects\n            currentObj = external_deep_extend_default()(object_assign_deep_default()({}, currentObj), propVal);\n            break;\n          } else\n          {\n            object_assign_default()(currentObj, defineProperty_default()({}, key, propVal[key]));\n          }\n        }\n        currentValue[prop] = currentObj;\n      } else\n      {\n        // It's a primitive, just replace existing\n        currentValue[prop] = propVal;\n      }\n    }\n  } else\n  if (patch.op === 'add' && patch.path === '' && lib_isObject(patch.value)) {\n    // { op: 'add', path: '', value: { a: 1, b: 2 }}\n    // has no effect: json patch refuses to do anything.\n    // so let's break that patch down into a set of patches,\n    // one for each key in the intended root value.\n\n    var patches = keys_default()(patch.value).\n    reduce(function (arr, key) {\n      arr.push({\n        op: 'add',\n        path: \"/\".concat(normalizeJSONPath(key)),\n        value: patch.value[key] });\n\n      return arr;\n    }, []);\n\n    external_fast_json_patch_default.a.applyPatch(obj, patches);\n  } else\n  if (patch.op === 'replace' && patch.path === '') {\n    var value = patch.value;\n\n    if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) && (\n    is_array_default()(patch.value) || lib_isObject(patch.value))) {\n      value = object_assign_default()({}, value, patch.meta);\n    }\n    obj = value;\n  } else\n  {\n    external_fast_json_patch_default.a.applyPatch(obj, [patch]);\n\n    // Attach metadata to the resulting value.\n    if (opts.allowMetaPatches && patch.meta && isAdditiveMutation(patch) && (\n    is_array_default()(patch.value) || lib_isObject(patch.value))) {\n      var _currentValue = getInByJsonPath(obj, patch.path);\n      var _newValue = object_assign_default()({}, _currentValue, patch.meta);\n      external_fast_json_patch_default.a.applyPatch(obj, [replace(patch.path, _newValue)]);\n    }\n  }\n\n  return obj;\n}\n\nfunction normalizeJSONPath(path) {\n  if (is_array_default()(path)) {\n    if (path.length < 1) {\n      return '';\n    }\n\n    return '/' + path.map(function (item) {// eslint-disable-line prefer-template\n      return (item + '').replace(/~/g, '~0').replace(/\\//g, '~1'); // eslint-disable-line prefer-template\n    }).join('/');\n  }\n\n  return path;\n}\n\n\n// =========================\n// JSON-Patch Wrappers\n// =========================\n\nfunction add(path, value) {\n  return { op: 'add', path: path, value: value };\n}\n\nfunction lib_get(path) {\n  return { op: '_get', path: path };\n}\n\nfunction replace(path, value, meta) {\n  return { op: 'replace', path: path, value: value, meta: meta };\n}\n\nfunction remove(path, value) {\n  return { op: 'remove', path: path };\n}\n\n// Custom wrappers\nfunction merge(path, value) {\n  return { type: 'mutation', op: 'merge', path: path, value: value };\n}\n\n// Custom wrappers\nfunction mergeDeep(path, value) {\n  return { type: 'mutation', op: 'mergeDeep', path: path, value: value };\n}\n\nfunction context(path, value) {\n  return { type: 'context', path: path, value: value };\n}\n\n\n// =========================\n// Iterators\n// =========================\n\nfunction forEachNew(mutations, fn) {\n  try {\n    return forEachNewPatch(mutations, forEach, fn);\n  }\n  catch (e) {\n    return e;\n  }\n}\n\nfunction forEachNewPrimitive(mutations, fn) {\n  try {\n    return forEachNewPatch(mutations, forEachPrimitive, fn);\n  }\n  catch (e) {\n    return e;\n  }\n}\n\nfunction forEachNewPatch(mutations, fn, callback) {\n  var res = mutations.filter(isAdditiveMutation).map(function (mutation) {\n    return fn(mutation.value, callback, mutation.path);\n  }) || [];\n  var flat = flatten(res);\n  var clean = cleanArray(flat);\n  return clean;\n}\n\nfunction forEachPrimitive(obj, fn, basePath) {\n  basePath = basePath || [];\n\n  if (is_array_default()(obj)) {\n    return obj.map(function (val, key) {\n      return forEachPrimitive(val, fn, basePath.concat(key));\n    });\n  }\n\n  if (lib_isObject(obj)) {\n    return keys_default()(obj).map(function (key) {\n      return forEachPrimitive(obj[key], fn, basePath.concat(key));\n    });\n  }\n\n  return fn(obj, basePath[basePath.length - 1], basePath);\n}\n\nfunction forEach(obj, fn, basePath) {\n  basePath = basePath || [];\n\n  var results = [];\n  if (basePath.length > 0) {\n    var newResults = fn(obj, basePath[basePath.length - 1], basePath);\n    if (newResults) {\n      results = results.concat(newResults);\n    }\n  }\n\n  if (is_array_default()(obj)) {\n    var arrayResults = obj.map(function (val, key) {\n      return forEach(val, fn, basePath.concat(key));\n    });\n    if (arrayResults) {\n      results = results.concat(arrayResults);\n    }\n  } else\n  if (lib_isObject(obj)) {\n    var moreResults = keys_default()(obj).map(function (key) {\n      return forEach(obj[key], fn, basePath.concat(key));\n    });\n    if (moreResults) {\n      results = results.concat(moreResults);\n    }\n  }\n\n  results = flatten(results);\n  return results;\n}\n\n\n// =========================\n// Paths\n// =========================\n\nfunction parentPathMatch(path, arr) {\n  if (!is_array_default()(arr)) {\n    return false;\n  }\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (arr[i] !== path[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getIn(obj, path) {\n  return path.reduce(function (val, token) {\n    if (typeof token !== 'undefined' && val) {\n      return val[token];\n    }\n    return val;\n  }, obj);\n}\n\n// =========================\n// Array\n// =========================\n\nfunction fullyNormalizeArray(arr) {\n  return cleanArray(flatten(lib_normalizeArray(arr)));\n}\n\nfunction lib_normalizeArray(arr) {\n  return is_array_default()(arr) ? arr : [arr];\n}\n\nfunction flatten(arr) {var _ref;\n  return (_ref = []).concat.apply(_ref, toConsumableArray_default()(arr.map(function (val) {\n    return is_array_default()(val) ? flatten(val) : val;\n  })));\n}\n\nfunction cleanArray(arr) {\n  return arr.filter(function (elm) {return typeof elm !== 'undefined';});\n}\n\n\n// =========================\n// Is-Thing.\n// =========================\n\nfunction lib_isObject(val) {\n  return val && typeof_default()(val) === 'object';\n}\n\nfunction isPromise(val) {\n  return lib_isObject(val) && isFunction(val.then);\n}\n\nfunction isFunction(val) {\n  return val && typeof val === 'function';\n}\n\nfunction isError(patch) {\n  return patch instanceof Error;\n}\n\nfunction isJsonPatch(patch) {\n  if (isPatch(patch)) {\n    var op = patch.op;\n    return op === 'add' || op === 'remove' || op === 'replace';\n  }\n  return false;\n}\n\nfunction isGenerator(thing) {\n  return regenerator_default.a.isGeneratorFunction(thing);\n}\n\nfunction isMutation(patch) {\n  return isJsonPatch(patch) || isPatch(patch) && patch.type === 'mutation';\n}\n\nfunction isAdditiveMutation(patch) {\n  return isMutation(patch) && (patch.op === 'add' || patch.op === 'replace' || patch.op === 'merge' || patch.op === 'mergeDeep');\n}\n\nfunction isContextPatch(patch) {\n  return isPatch(patch) && patch.type === 'context';\n}\n\nfunction isPatch(patch) {\n  return patch && typeof_default()(patch) === 'object';\n}\n\nfunction getInByJsonPath(obj, jsonPath) {\n  try {\n    return external_fast_json_patch_default.a.getValueByPointer(obj, jsonPath);\n  }\n  catch (e) {\n    console.error(e); // eslint-disable-line no-console\n    return {};\n  }\n}\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/core-js/weak-map\"\nvar weak_map_ = __webpack_require__(35);\nvar weak_map_default = /*#__PURE__*/__webpack_require__.n(weak_map_);\n\n// EXTERNAL MODULE: external \"cross-fetch\"\nvar external_cross_fetch_ = __webpack_require__(36);\n\n// EXTERNAL MODULE: external \"querystring-browser\"\nvar external_querystring_browser_ = __webpack_require__(28);\nvar external_querystring_browser_default = /*#__PURE__*/__webpack_require__.n(external_querystring_browser_);\n\n// CONCATENATED MODULE: ./src/specmap/lib/create-error.js\nfunction createErrorType(name, init) {\n  function E() {\n    if (!Error.captureStackTrace) {\n      this.stack = new Error().stack;\n    } else\n    {\n      Error.captureStackTrace(this, this.constructor);\n    }for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}\n    this.message = args[0];\n    init && init.apply(this, args);\n  }\n\n  E.prototype = new Error();\n  E.prototype.name = name;\n  E.prototype.constructor = E;\n\n  return E;\n}\n// EXTERNAL MODULE: external \"traverse\"\nvar external_traverse_ = __webpack_require__(37);\nvar external_traverse_default = /*#__PURE__*/__webpack_require__.n(external_traverse_);\n\n// CONCATENATED MODULE: ./src/specmap/helpers.js\n\n\n\n// This will match if the direct parent's key exactly matches an item.\nvar freelyNamedKeyParents = [\n'properties'];\n\n\n// This will match if the grandparent's key exactly matches an item.\n// NOTE that this is for finding non-free paths!\nvar nonFreelyNamedKeyGrandparents = [\n'properties'];\n\n\n// This will match if the joined parent path exactly matches an item.\n//\n// This is mostly useful for filtering out root-level reusable item names,\n// for example `[\"definitions\", \"$ref\"]`\nvar freelyNamedPaths = [\n// Swagger 2.0\n'definitions',\n'parameters',\n'responses',\n'securityDefinitions',\n\n// OpenAPI 3.0\n'components/schemas',\n'components/responses',\n'components/parameters',\n'components/securitySchemes'];\n\n\n// This will match if any of these items are substrings of the joined\n// parent path.\n//\n// Warning! These are powerful. Beware of edge cases.\nvar freelyNamedAncestors = [\n'schema/example',\n'items/example'];\n\n\nfunction isFreelyNamed(parentPath) {\n  var parentKey = parentPath[parentPath.length - 1];\n  var grandparentKey = parentPath[parentPath.length - 2];\n  var parentStr = parentPath.join('/');\n\n  return (\n    // eslint-disable-next-line max-len\n    freelyNamedKeyParents.indexOf(parentKey) > -1 && nonFreelyNamedKeyGrandparents.indexOf(grandparentKey) === -1 ||\n    freelyNamedPaths.indexOf(parentStr) > -1 ||\n    freelyNamedAncestors.some(function (el) {return parentStr.indexOf(el) > -1;}));\n\n}\n\nfunction generateAbsoluteRefPatches(obj, basePath)\n\n\n\n{var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},specmap = _ref.specmap,_ref$getBaseUrlForNod = _ref.getBaseUrlForNodePath,getBaseUrlForNodePath = _ref$getBaseUrlForNod === void 0 ? function (path) {return specmap.getContext([].concat(toConsumableArray_default()(basePath), toConsumableArray_default()(path))).baseDoc;} : _ref$getBaseUrlForNod,_ref$targetKeys = _ref.targetKeys,targetKeys = _ref$targetKeys === void 0 ? ['$ref', '$$ref'] : _ref$targetKeys;\n  var patches = [];\n\n  external_traverse_default()(obj).forEach(function () {\n    if (targetKeys.indexOf(this.key) > -1) {\n      var nodePath = this.path; // this node's path, relative to `obj`\n      var fullPath = basePath.concat(this.path);\n\n      var absolutifiedRefValue = absolutifyPointer(this.node, getBaseUrlForNodePath(nodePath));\n\n      patches.push(specmap.replace(fullPath, absolutifiedRefValue));\n    }\n  });\n\n  return patches;\n}\n\nfunction absolutifyPointer(pointer, baseUrl) {var _pointer$split =\n  pointer.split('#'),_pointer$split2 = slicedToArray_default()(_pointer$split, 2),urlPart = _pointer$split2[0],fragmentPart = _pointer$split2[1];\n  var newRefUrlPart = external_url_default.a.resolve(urlPart || '', baseUrl || '');\n\n  return fragmentPart ? \"\".concat(newRefUrlPart, \"#\").concat(fragmentPart) : newRefUrlPart;\n}\n// CONCATENATED MODULE: ./src/constants.js\nvar ACCEPT_HEADER_VALUE_FOR_DOCUMENTS = 'application/json, application/yaml';\n// CONCATENATED MODULE: ./src/specmap/lib/refs.js\n\n\n\n\n\n\n\n\n\nvar ABSOLUTE_URL_REGEXP = new RegExp('^([a-z]+://|//)', 'i');\n\nvar JSONRefError = createErrorType('JSONRefError', function (message, extra, oriError) {\n  this.originalError = oriError;\n  object_assign_default()(this, extra || {});\n});\n\nvar docCache = {};\nvar specmapRefs = new weak_map_default.a();\n\nvar skipResolutionTestFns = [\nfunction (path) {return (\n    // OpenAPI 3.0 Response Media Type Example\n    // [\"paths\", *, *, \"responses\", *, \"content\", *, \"example\"]\n    path[0] === 'paths' &&\n    path[3] === 'responses' &&\n    path[5] === 'content' &&\n    path[7] === 'example');},\n\nfunction (path) {return (\n    // OpenAPI 3.0 Request Body Media Type Example\n    // [\"paths\", *, *, \"responses\", *, \"content\", *, \"example\"]\n    path[0] === 'paths' &&\n    path[3] === 'requestBody' &&\n    path[4] === 'content' &&\n    path[6] === 'example');}];\n\n\n\nvar shouldSkipResolution = function shouldSkipResolution(path) {return skipResolutionTestFns.some(function (fn) {return fn(path);});};\n\n// =========================\n// Core\n// =========================\n\n/**\n * This plugin resolves the JSON pointers.\n * A major part of this plugin deals with cyclic references via 2 mechanisms.\n * 1. If a pointer was already resolved before in this path, halt.\n * 2. If the patch value points to one of the ancestors in this path, halt.\n *\n * Note that either one of these mechanism is sufficient, both must be in place.\n * For examples:\n *\n * Given the following spec, #1 alone is insufficient because after the 2nd\n * application, there will be a cyclic object reference.\n *   a.b.c: $ref-d\n *   d.e.f: $ref-a (per #1, safe to return patch as no immediate cycle)\n *\n * Given the following spec, #2 alone is insufficient because although there will\n * never be any cyclic object reference, the plugin will keep producing patches.\n *   a: $ref-b\n *   b: $ref-a\n */\nvar refs_plugin = {\n  key: '$ref',\n  plugin: function plugin(ref, key, fullPath, specmap) {\n    var specmapInstance = specmap.getInstance();\n    var parent = fullPath.slice(0, -1);\n\n    if (isFreelyNamed(parent) || shouldSkipResolution(parent)) {\n      return;\n    }\n\n    var baseDoc = specmap.getContext(fullPath).baseDoc;\n    if (typeof ref !== 'string') {\n      return new JSONRefError('$ref: must be a string (JSON-Ref)', {\n        $ref: ref,\n        baseDoc: baseDoc,\n        fullPath: fullPath });\n\n    }\n\n    var splitString = split(ref);\n    var refPath = splitString[0];\n    var pointer = splitString[1] || '';\n\n    var basePath;\n    try {\n      basePath = baseDoc || refPath ? absoluteify(refPath, baseDoc) : null;\n    }\n    catch (e) {\n      return wrapError(e, {\n        pointer: pointer,\n        $ref: ref,\n        basePath: basePath,\n        fullPath: fullPath });\n\n    }\n\n    var promOrVal;\n    var tokens;\n\n    if (pointerAlreadyInPath(pointer, basePath, parent, specmap)) {\n      // Cyclic reference!\n      // if `useCircularStructures` is not set, just leave the reference\n      // unresolved, but absolutify it so that we don't leave an invalid $ref\n      // path in the content\n      if (!specmapInstance.useCircularStructures) {\n        var _absolutifiedRef = absolutifyPointer(ref, basePath);\n\n        if (ref === _absolutifiedRef) {\n          // avoids endless looping\n          // without this, the ref plugin never stops seeing this $ref\n          return null;\n        }\n        return lib.replace(fullPath, _absolutifiedRef);\n      }\n    }\n\n    if (basePath == null) {\n      tokens = jsonPointerToArray(pointer);\n      promOrVal = specmap.get(tokens);\n\n      if (typeof promOrVal === 'undefined') {\n        promOrVal = new JSONRefError(\"Could not resolve reference: \".concat(ref), {\n          pointer: pointer,\n          $ref: ref,\n          baseDoc: baseDoc,\n          fullPath: fullPath });\n\n      }\n    } else\n    {\n      promOrVal = extractFromDoc(basePath, pointer);\n      if (promOrVal.__value != null) {\n        promOrVal = promOrVal.__value;\n      } else\n      {\n        promOrVal = promOrVal.catch(function (e) {\n          throw wrapError(e, {\n            pointer: pointer,\n            $ref: ref,\n            baseDoc: baseDoc,\n            fullPath: fullPath });\n\n        });\n      }\n    }\n\n    if (promOrVal instanceof Error) {\n      return [lib.remove(fullPath), promOrVal];\n    }\n\n    var absolutifiedRef = absolutifyPointer(ref, basePath);\n\n    var patch = lib.replace(parent, promOrVal, { $$ref: absolutifiedRef });\n    if (basePath && basePath !== baseDoc) {\n      return [patch, lib.context(parent, { baseDoc: basePath })];\n    }\n\n    try {\n      // prevents circular values from being constructed, unless we specifically\n      // want that to happen\n      if (!patchValueAlreadyInPath(specmap.state, patch) || specmapInstance.useCircularStructures) {\n        return patch;\n      }\n    }\n    catch (e) {\n      // if we're catching here, path traversal failed, so we should\n      // ditch without sending any patches back up.\n      //\n      // this is a narrow fix for the larger problem of patches being queued\n      // and then having the state they were generated against be modified\n      // before they are applied.\n      //\n      // TODO: re-engineer specmap patch/state management to avoid this\n      return null;\n    }\n  } };\n\n\n\nvar mod = object_assign_default()(refs_plugin, {\n  docCache: docCache,\n  absoluteify: absoluteify,\n  clearCache: clearCache,\n  JSONRefError: JSONRefError,\n  wrapError: wrapError,\n  getDoc: getDoc,\n  split: split,\n  extractFromDoc: extractFromDoc,\n  fetchJSON: fetchJSON,\n  extract: extract,\n  jsonPointerToArray: jsonPointerToArray,\n  unescapeJsonPointerToken: unescapeJsonPointerToken });\n\n\n/* harmony default export */ var refs = (mod);\n\n\n// =========================\n// Utilities\n// =========================\n\n/**\n * Resolves a path and its base to an abolute URL.\n * @api public\n */\nfunction absoluteify(path, basePath) {\n  if (!ABSOLUTE_URL_REGEXP.test(path)) {\n    if (!basePath) {\n      throw new JSONRefError(\"Tried to resolve a relative URL, without having a basePath. path: '\".concat(path, \"' basePath: '\").concat(basePath, \"'\"));\n    }\n    return external_url_default.a.resolve(basePath, path);\n  }\n  return path;\n}\n\n/**\n   * Wraps an error as JSONRefError.\n   * @param  {Error} e      the error.\n   * @param  {Object} extra (optional) optional data.\n   * @return {Error}        an instance of JSONRefError.\n   * @api public\n   */\nfunction wrapError(e, extra) {\n  var message;\n\n  if (e && e.response && e.response.body) {\n    message = \"\".concat(e.response.body.code, \" \").concat(e.response.body.message);\n  } else\n  {\n    message = e.message;\n  }\n\n  return new JSONRefError(\"Could not resolve reference: \".concat(message), extra, e);\n}\n\n/**\n   * Splits a pointer by the hash delimiter.\n   * @api public\n   */\nfunction split(ref) {\n  return (ref + '').split('#'); // eslint-disable-line prefer-template\n}\n\n/**\n   * Extracts a pointer from its document.\n   * @param  {String} docPath the absolute document URL.\n   * @param  {String} pointer the pointer whose value is to be extracted.\n   * @return {Promise}        a promise of the pointer value.\n   * @api public\n   */\nfunction extractFromDoc(docPath, pointer) {\n  var doc = docCache[docPath];\n  if (doc && !lib.isPromise(doc)) {\n    // If doc is already available, return __value together with the promise.\n    // __value is for special handling in cycle check:\n    // pointerAlreadyInPath() won't work if patch.value is a promise,\n    // thus when that promise is finally resolved, cycle might happen (because\n    // `spec` and `docCache[basePath]` refer to the exact same object).\n    // See test \"should resolve a cyclic spec when baseDoc is specified\".\n    try {\n      var v = extract(pointer, doc);\n      return object_assign_default()(promise_default.a.resolve(v), { __value: v });\n    }\n    catch (e) {\n      return promise_default.a.reject(e);\n    }\n  }\n\n  return getDoc(docPath).then(function (_doc) {return extract(pointer, _doc);});\n}\n\n/**\n   * Clears all document caches.\n   * @param  {String} item (optional) the name of the cache item to be cleared.\n   * @api public\n   */\nfunction clearCache(item) {\n  if (typeof item !== 'undefined') {\n    delete docCache[item];\n  } else\n  {\n    keys_default()(docCache).forEach(function (key) {\n      delete docCache[key];\n    });\n  }\n}\n\n/**\n   * Fetches and caches a document.\n   * @param  {String} docPath the absolute URL of the document.\n   * @return {Promise}        a promise of the document content.\n   * @api public\n   */\nfunction getDoc(docPath) {\n  var val = docCache[docPath];\n  if (val) {\n    return lib.isPromise(val) ? val : promise_default.a.resolve(val);\n  }\n\n  // NOTE: we need to use `mod.fetchJSON` in order to be able to overwrite it.\n  // Any tips on how to make this cleaner, please ping!\n  docCache[docPath] = mod.fetchJSON(docPath).then(function (doc) {\n    docCache[docPath] = doc;\n    return doc;\n  });\n  return docCache[docPath];\n}\n\n/**\n   * Fetches a document.\n   * @param  {String} docPath the absolute URL of the document.\n   * @return {Promise}        a promise of the document content.\n   * @api public\n   */\nfunction fetchJSON(docPath) {\n  return Object(external_cross_fetch_[\"fetch\"])(docPath, { headers: { Accept: ACCEPT_HEADER_VALUE_FOR_DOCUMENTS }, loadSpec: true }).\n  then(function (res) {return res.text();}).\n  then(function (text) {return external_js_yaml_default.a.safeLoad(text);});\n}\n\n/**\n   * Extracts a pointer from an object.\n   * @param  {String[]} pointer the JSON pointer.\n   * @param  {Object} obj       an object whose value is to be extracted.\n   * @return {Object}           the value to be extracted.\n   * @api public\n   */\nfunction extract(pointer, obj) {\n  var tokens = jsonPointerToArray(pointer);\n  if (tokens.length < 1) {\n    return obj;\n  }\n\n  var val = lib.getIn(obj, tokens);\n  if (typeof val === 'undefined') {\n    throw new JSONRefError(\"Could not resolve pointer: \".concat(pointer, \" does not exist in document\"), { pointer: pointer });\n  }\n  return val;\n}\n\n/**\n   * Converts a JSON pointer to array.\n   * @api public\n   */\nfunction jsonPointerToArray(pointer) {\n  if (typeof pointer !== 'string') {\n    throw new TypeError(\"Expected a string, got a \".concat(typeof_default()(pointer)));\n  }\n\n  if (pointer[0] === '/') {\n    pointer = pointer.substr(1);\n  }\n\n  if (pointer === '') {\n    return [];\n  }\n\n  return pointer.split('/').map(unescapeJsonPointerToken);\n}\n\n/**\n   * Unescapes a JSON pointer.\n   * @api public\n   */\nfunction unescapeJsonPointerToken(token) {\n  if (typeof token !== 'string') {\n    return token;\n  }\n  return external_querystring_browser_default.a.unescape(token.replace(/~1/g, '/').replace(/~0/g, '~'));\n}\n\n/**\n   * Escapes a JSON pointer.\n   * @api public\n   */\nfunction escapeJsonPointerToken(token) {\n  return external_querystring_browser_default.a.escape(token.replace(/~/g, '~0').replace(/\\//g, '~1'));\n}\n\nfunction arrayToJsonPointer(arr) {\n  if (arr.length === 0) {\n    return '';\n  }\n\n  return \"/\".concat(arr.map(escapeJsonPointerToken).join('/'));\n}\n\nvar pointerBoundaryChar = function pointerBoundaryChar(c) {return !c || c === '/' || c === '#';};\n\nfunction pointerIsAParent(pointer, parentPointer) {\n  if (pointerBoundaryChar(parentPointer)) {\n    // This is the root of the document, so its naturally a parent\n    return true;\n  }\n  var nextChar = pointer.charAt(parentPointer.length);\n  var lastParentChar = parentPointer.slice(-1);\n\n  return pointer.indexOf(parentPointer) === 0 && (\n  !nextChar || nextChar === '/' || nextChar === '#') &&\n  lastParentChar !== '#';\n}\n\n\n// =========================\n// Private\n// =========================\n\n/**\n * Checks if this pointer points back to one or more pointers along the path.\n */\nfunction pointerAlreadyInPath(pointer, basePath, parent, specmap) {\n  var refs = specmapRefs.get(specmap);\n  if (!refs) {\n    // Stores all resolved references of a specmap instance.\n    // Schema: path -> pointer (path's $ref value).\n    refs = {};\n    specmapRefs.set(specmap, refs);\n  }\n\n  var parentPointer = arrayToJsonPointer(parent);\n  var fullyQualifiedPointer = \"\".concat(basePath || '<specmap-base>', \"#\").concat(pointer);\n\n  // dirty hack to strip `allof/[index]` from the path, in order to avoid cases\n  // where we get false negatives because:\n  // - we resolve a path, then\n  // - allOf plugin collapsed `allOf/[index]` out of the path, then\n  // - we try to work on a child $ref within that collapsed path.\n  //\n  // because of the path collapse, we lose track of it in our specmapRefs hash\n  // solution: always throw the allOf constructs out of paths we store\n  // TODO: solve this with a global register, or by writing more metadata in\n  // either allOf or refs plugin\n  var safeParentPointer = parentPointer.replace(/allOf\\/\\d+\\/?/g, '');\n\n  // Case 1: direct cycle, e.g. a.b.c.$ref: '/a.b'\n  // Detect by checking that the parent path doesn't start with pointer.\n  // This only applies if the pointer is internal, i.e. basePath === rootPath (could be null)\n  var rootDoc = specmap.contextTree.get([]).baseDoc;\n  if (basePath == rootDoc && pointerIsAParent(safeParentPointer, pointer)) {// eslint-disable-line\n    return true;\n  }\n\n\n  // Case 2: indirect cycle\n  //  ex1: a.$ref: '/b'  &  b.c.$ref: '/b/c'\n  //  ex2: a.$ref: '/b/c'  &  b.c.$ref: '/b'\n  // Detect by retrieving all the $refs along the path of parent\n  // and checking if any starts with pointer or vice versa.\n  var currPath = '';\n  var hasIndirectCycle = parent.some(function (token) {\n    currPath = \"\".concat(currPath, \"/\").concat(escapeJsonPointerToken(token));\n    return refs[currPath] && refs[currPath].some(function (ref) {\n      return (\n        pointerIsAParent(ref, fullyQualifiedPointer) ||\n        pointerIsAParent(fullyQualifiedPointer, ref));\n\n    });\n  });\n  if (hasIndirectCycle) {\n    return true;\n  }\n\n  // No cycle, this ref will be resolved, so stores it now for future detection.\n  // No need to store if has cycle, as parent path is a dead-end and won't be checked again.\n\n  refs[safeParentPointer] = (refs[safeParentPointer] || []).concat(fullyQualifiedPointer);\n}\n\n/**\n   * Checks if the value of this patch ends up pointing to an ancestor along the path.\n   */\nfunction patchValueAlreadyInPath(root, patch) {\n  var ancestors = [root];\n  patch.path.reduce(function (parent, p) {\n    ancestors.push(parent[p]);\n    return parent[p];\n  }, root);\n  return pointToAncestor(patch.value);\n\n  function pointToAncestor(obj) {\n    return lib.isObject(obj) && (ancestors.indexOf(obj) >= 0 || keys_default()(obj).some(function (k) {\n      return pointToAncestor(obj[k]);\n    }));\n  }\n}\n// CONCATENATED MODULE: ./src/specmap/lib/all-of.js\n\n\n/* harmony default export */ var all_of = ({\n  key: 'allOf',\n  plugin: function plugin(val, key, fullPath, specmap, patch) {\n    // Ignore replace patches created by $ref because the changes will\n    // occur in the original \"add\" patch and we don't want this plugin\n    // to redundantly processes those \"relace\" patches.\n    if (patch.meta && patch.meta.$$ref) {\n      return;\n    }\n\n    var parent = fullPath.slice(0, -1);\n    if (isFreelyNamed(parent)) {\n      return;\n    }\n\n    if (!is_array_default()(val)) {\n      var err = new TypeError('allOf must be an array');\n      err.fullPath = fullPath; // This is an array\n      return err;\n    }\n\n\n    var alreadyAddError = false;\n\n    // Find the original definition from the `patch.value` object\n    // Remove the `allOf` property so it doesn't get added to the result of the `allOf` plugin\n    var originalDefinitionObj = patch.value;\n    parent.forEach(function (part) {\n      if (!originalDefinitionObj) return; // bail out if we've lost sight of our target\n      originalDefinitionObj = originalDefinitionObj[part];\n    });\n    originalDefinitionObj = object_assign_default()({}, originalDefinitionObj);\n    delete originalDefinitionObj.allOf;\n\n    var patches = [];\n\n    // remove existing content\n    patches.push(specmap.replace(parent, {}));\n\n    val.forEach(function (toMerge, i) {\n      if (!specmap.isObject(toMerge)) {\n        if (alreadyAddError) {\n          return null;\n        }\n        alreadyAddError = true;\n\n        var _err = new TypeError('Elements in allOf must be objects');\n        _err.fullPath = fullPath; // This is an array\n        return patches.push(_err);\n      }\n\n      // Deeply merge the member's contents onto the parent location\n      patches.push(specmap.mergeDeep(parent, toMerge));\n\n      // Generate patches that migrate $ref values based on ContextTree information\n\n      // remove [\"allOf\"], which will not be present when these patches are applied\n      var collapsedFullPath = fullPath.slice(0, -1);\n\n      var absoluteRefPatches = generateAbsoluteRefPatches(toMerge, collapsedFullPath, {\n        getBaseUrlForNodePath: function getBaseUrlForNodePath(nodePath) {\n          return specmap.getContext([].concat(toConsumableArray_default()(fullPath), [i], toConsumableArray_default()(nodePath))).baseDoc;\n        },\n        specmap: specmap });\n\n\n      patches.push.apply(patches, toConsumableArray_default()(absoluteRefPatches));\n    });\n\n    // Merge back the values from the original definition\n    patches.push(specmap.mergeDeep(parent, originalDefinitionObj));\n\n    // If there was not an original $$ref value, make sure to remove\n    // any $$ref value that may exist from the result of `allOf` merges\n    if (!originalDefinitionObj.$$ref) {\n      patches.push(specmap.remove([].concat(parent, '$$ref')));\n    }\n\n    return patches;\n  } });\n// CONCATENATED MODULE: ./src/specmap/lib/parameters.js\n\n\n/* harmony default export */ var lib_parameters = ({\n  key: 'parameters',\n  plugin: function plugin(parameters, key, fullPath, specmap, patch) {\n    if (is_array_default()(parameters) && parameters.length) {\n      var val = object_assign_default()([], parameters);\n      var opPath = fullPath.slice(0, -1);\n      var op = object_assign_default()({}, lib.getIn(specmap.spec, opPath));\n\n      parameters.forEach(function (param, i) {\n        try {\n          val[i].default = specmap.parameterMacro(op, param);\n        }\n        catch (e) {\n          var err = new Error(e);\n          err.fullPath = fullPath;\n          return err;\n        }\n      });\n\n      return lib.replace(fullPath, val);\n    }\n\n    return lib.replace(fullPath, parameters);\n  } });\n// CONCATENATED MODULE: ./src/specmap/lib/properties.js\n\n\n/* harmony default export */ var lib_properties = ({\n  key: 'properties',\n  plugin: function plugin(properties, key, fullPath, specmap) {\n    var val = object_assign_default()({}, properties);\n\n    for (var k in properties) {\n      try {\n        val[k].default = specmap.modelPropertyMacro(val[k]);\n      }\n      catch (e) {\n        var err = new Error(e);\n        err.fullPath = fullPath; // This is an array\n        return err;\n      }\n    }\n\n    var patch = lib.replace(fullPath, val);\n\n    return patch;\n  } });\n// CONCATENATED MODULE: ./src/specmap/lib/context-tree.js\nfunction ownKeys(object, enumerableOnly) {var keys = keys_default()(object);if (get_own_property_symbols_default.a) {var symbols = get_own_property_symbols_default()(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return get_own_property_descriptor_default()(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(source, true).forEach(function (key) {defineProperty_default()(target, key, source[key]);});} else if (get_own_property_descriptors_default.a) {define_properties_default()(target, get_own_property_descriptors_default()(source));} else {ownKeys(source).forEach(function (key) {define_property_default()(target, key, get_own_property_descriptor_default()(source, key));});}}return target;}var context_tree_ContextTree = /*#__PURE__*/function () {\n  function ContextTree(value) {classCallCheck_default()(this, ContextTree);\n    this.root = createNode(value || {});\n  }createClass_default()(ContextTree, [{ key: \"set\", value: function set(\n\n    path, value) {\n      var parent = this.getParent(path, true);\n      if (!parent) {\n        updateNode(this.root, value, null);\n        return;\n      }\n\n      var key = path[path.length - 1];\n      var children = parent.children;\n      if (children[key]) {\n        updateNode(children[key], value, parent);\n        return;\n      }\n\n      children[key] = createNode(value, parent);\n    }\n\n    // Get the \"best\" node (node or nearest parent) and return its value.\n  }, { key: \"get\", value: function get(path) {\n      path = path || [];\n\n      if (path.length < 1) {\n        return this.root.value;\n      }\n\n      var branch = this.root;\n      var child;\n      var token;\n      for (var i = 0; i < path.length; i++) {\n        token = path[i];\n        child = branch.children;\n        if (!child[token]) {\n          break;\n        }\n        branch = child[token];\n      }\n\n      return branch && branch.protoValue;\n    } }, { key: \"getParent\", value: function getParent(\n\n    path, ensureExists) {\n      if (!path || path.length < 1) {\n        return null;\n      }\n\n      if (path.length < 2) {\n        return this.root;\n      }\n\n      return path.slice(0, -1).reduce(function (branch, token) {\n        if (!branch) {\n          return branch;\n        }\n\n        var children = branch.children;\n\n        if (!children[token] && ensureExists) {\n          children[token] = createNode(null, branch);\n        }\n\n        return children[token];\n      }, this.root);\n    } }]);return ContextTree;}();\n\n\n// =========================\n// Utilities\n// =========================\n\nfunction createNode(value, parent) {\n  return updateNode({ children: {} }, value, parent);\n}\n\nfunction updateNode(node, value, parent) {\n  node.value = value || {};\n  node.protoValue = parent ? _objectSpread({},\n  parent.protoValue, {}, node.value) :\n  node.value;\n\n  keys_default()(node.children).forEach(function (prop) {\n    var child = node.children[prop];\n    node.children[prop] = updateNode(child, child.value, node);\n  });\n\n  return node;\n}\n// CONCATENATED MODULE: ./src/specmap/index.js\n\n\n\n\n\n\n\n\n\nvar HARD_LIMIT = 100;var\n\nspecmap_SpecMap = /*#__PURE__*/function () {\n  function SpecMap(opts) {var _this = this;classCallCheck_default()(this, SpecMap);\n    object_assign_default()(this, {\n      spec: '',\n      debugLevel: 'info',\n      plugins: [],\n      pluginHistory: {},\n      errors: [],\n      mutations: [],\n      promisedPatches: [],\n      state: {},\n      patches: [],\n      context: {},\n      contextTree: new context_tree_ContextTree(),\n      showDebug: false,\n      allPatches: [], // only populated if showDebug is true\n      pluginProp: 'specMap',\n      libMethods: object_assign_default()(create_default()(this), lib, {\n        getInstance: function getInstance() {return _this;} }),\n\n      allowMetaPatches: false },\n    opts);\n\n    // Lib methods bound\n    this.get = this._get.bind(this);\n    this.getContext = this._getContext.bind(this);\n    this.hasRun = this._hasRun.bind(this);\n\n    this.wrappedPlugins = this.plugins.\n    map(this.wrapPlugin.bind(this)).\n    filter(lib.isFunction);\n\n    // Initial patch(s)\n    this.patches.push(lib.add([], this.spec));\n    this.patches.push(lib.context([], this.context));\n    this.updatePatches(this.patches);\n  }createClass_default()(SpecMap, [{ key: \"debug\", value: function debug(\n\n    level) {\n      if (this.debugLevel === level) {var _console;for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}\n        (_console = console).log.apply(_console, args); // eslint-disable-line no-console\n      }\n    } }, { key: \"verbose\", value: function verbose(\n\n    header) {\n      if (this.debugLevel === 'verbose') {var _console2;for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {args[_key2 - 1] = arguments[_key2];}\n        (_console2 = console).log.apply(_console2, [\"[\".concat(header, \"]   \")].concat(args)); // eslint-disable-line no-console\n      }\n    } }, { key: \"wrapPlugin\", value: function wrapPlugin(\n\n    plugin, name) {\n      var pathDiscriminator = this.pathDiscriminator;\n      var ctx = null;\n      var fn;\n\n      if (plugin[this.pluginProp]) {\n        ctx = plugin;\n        fn = plugin[this.pluginProp];\n      } else\n      if (lib.isFunction(plugin)) {\n        fn = plugin;\n      } else\n      if (lib.isObject(plugin)) {\n        fn = createKeyBasedPlugin(plugin);\n      }\n\n      return object_assign_default()(fn.bind(ctx), {\n        pluginName: plugin.name || name,\n        isGenerator: lib.isGenerator(fn) });\n\n\n      // Expected plugin interface: {key: string, plugin: fn*}\n      // This traverses depth-first and immediately applies yielded patches.\n      // This strategy should work well for most plugins (including the built-ins).\n      // We might consider making this (traversing & application) configurable later.\n      function createKeyBasedPlugin(pluginObj) {\n        var isSubPath = function isSubPath(path, tested) {\n          if (!is_array_default()(path)) {\n            return true;\n          }\n\n          return path.every(function (val, i) {\n            return val === tested[i];\n          });\n        };\n\n        return (/*#__PURE__*/regenerator_default.a.mark(function _callee(patches, specmap) {var _marked, refCache, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, patch,\n\n\n\n\n\n\n            traverse;return regenerator_default.a.wrap(function _callee$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:traverse = function _ref(obj, path, patch) {var parentIndex, parent, indexOfFirstProperties, isRootProperties, traversed, _i, _Object$keys, key, val, updatedPath, isObj, objRef, isWithinPathDiscriminator;return regenerator_default.a.wrap(function traverse$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:if (\n                              lib.isObject(obj)) {_context.next = 6;break;}if (!(\n                              pluginObj.key === path[path.length - 1])) {_context.next = 4;break;}_context.next = 4;\n                              return pluginObj.plugin(obj, pluginObj.key, path, specmap);case 4:_context.next = 30;break;case 6:\n\n\n\n                              parentIndex = path.length - 1;\n                              parent = path[parentIndex];\n                              indexOfFirstProperties = path.indexOf('properties');\n                              isRootProperties = parent === 'properties' && parentIndex === indexOfFirstProperties;\n                              traversed = specmap.allowMetaPatches && refCache[obj.$$ref];_i = 0, _Object$keys =\n\n                              keys_default()(obj);case 12:if (!(_i < _Object$keys.length)) {_context.next = 30;break;}key = _Object$keys[_i];\n                              val = obj[key];\n                              updatedPath = path.concat(key);\n                              isObj = lib.isObject(val);\n                              objRef = obj.$$ref;if (\n\n                              traversed) {_context.next = 22;break;}if (!\n                              isObj) {_context.next = 22;break;}\n                              // Only store the ref if it exists\n                              if (specmap.allowMetaPatches && objRef) {\n                                refCache[objRef] = true;\n                              }\n                              return _context.delegateYield(traverse(val, updatedPath, patch), \"t0\", 22);case 22:if (!(\n\n\n\n                              !isRootProperties && key === pluginObj.key)) {_context.next = 27;break;}\n                              isWithinPathDiscriminator = isSubPath(pathDiscriminator, path);if (!(\n                              !pathDiscriminator || isWithinPathDiscriminator)) {_context.next = 27;break;}_context.next = 27;\n                              return pluginObj.plugin(val, key, updatedPath, specmap, patch);case 27:_i++;_context.next = 12;break;case 30:case \"end\":return _context.stop();}}}, _marked);};_marked = /*#__PURE__*/regenerator_default.a.mark(traverse);refCache = {};_iteratorNormalCompletion = true;_didIteratorError = false;_iteratorError = undefined;_context2.prev = 6;_iterator = get_iterator_default()(patches.filter(lib.isAdditiveMutation));case 8:if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {_context2.next = 14;break;}patch = _step.value;return _context2.delegateYield(traverse(patch.value, patch.path, patch), \"t0\", 11);case 11:_iteratorNormalCompletion = true;_context2.next = 8;break;case 14:_context2.next = 20;break;case 16:_context2.prev = 16;_context2.t1 = _context2[\"catch\"](6);_didIteratorError = true;_iteratorError = _context2.t1;case 20:_context2.prev = 20;_context2.prev = 21;if (!_iteratorNormalCompletion && _iterator.return != null) {_iterator.return();}case 23:_context2.prev = 23;if (!_didIteratorError) {_context2.next = 26;break;}throw _iteratorError;case 26:return _context2.finish(23);case 27:return _context2.finish(20);case 28:case \"end\":return _context2.stop();}}}, _callee, null, [[6, 16, 20, 28], [21,, 23, 27]]);}));\n\n\n\n\n\n\n      }\n    } }, { key: \"nextPlugin\", value: function nextPlugin()\n\n    {var _this2 = this;\n      // Array.prototype.find doesn't work in IE 11 :(\n      return find_default()(this.wrappedPlugins, function (plugin) {\n        var mutations = _this2.getMutationsForPlugin(plugin);\n        return mutations.length > 0;\n      });\n    } }, { key: \"nextPromisedPatch\", value: function nextPromisedPatch()\n\n    {\n      if (this.promisedPatches.length > 0) {\n        return promise_default.a.race(this.promisedPatches.map(function (patch) {return patch.value;}));\n      }\n    } }, { key: \"getPluginHistory\", value: function getPluginHistory(\n\n    plugin) {\n      var name = this.getPluginName(plugin);\n      return this.pluginHistory[name] || [];\n    } }, { key: \"getPluginRunCount\", value: function getPluginRunCount(\n\n    plugin) {\n      return this.getPluginHistory(plugin).length;\n    } }, { key: \"getPluginHistoryTip\", value: function getPluginHistoryTip(\n\n    plugin) {\n      var history = this.getPluginHistory(plugin);\n      var val = history && history[history.length - 1];\n      return val || {};\n    } }, { key: \"getPluginMutationIndex\", value: function getPluginMutationIndex(\n\n    plugin) {\n      var mi = this.getPluginHistoryTip(plugin).mutationIndex;\n      return typeof mi !== 'number' ? -1 : mi;\n    } }, { key: \"getPluginName\", value: function getPluginName(\n\n    plugin) {\n      return plugin.pluginName;\n    } }, { key: \"updatePluginHistory\", value: function updatePluginHistory(\n\n    plugin, val) {\n      var name = this.getPluginName(plugin);\n      var history = this.pluginHistory[name] = this.pluginHistory[name] || [];\n      history.push(val);\n    } }, { key: \"updatePatches\", value: function updatePatches(\n\n    patches, plugin) {var _this3 = this;\n      lib.normalizeArray(patches).forEach(function (patch) {\n        if (patch instanceof Error) {\n          _this3.errors.push(patch);\n          return;\n        }\n\n        try {\n          if (!lib.isObject(patch)) {\n            _this3.debug('updatePatches', 'Got a non-object patch', patch);\n            return;\n          }\n\n          if (_this3.showDebug) {\n            _this3.allPatches.push(patch);\n          }\n\n          if (lib.isPromise(patch.value)) {\n            _this3.promisedPatches.push(patch);\n            _this3.promisedPatchThen(patch);\n            return;\n          }\n\n          if (lib.isContextPatch(patch)) {\n            _this3.setContext(patch.path, patch.value);\n            return;\n          }\n\n          if (lib.isMutation(patch)) {\n            _this3.updateMutations(patch);\n            return;\n          }\n        }\n        catch (e) {\n          console.error(e); // eslint-disable-line no-console\n          _this3.errors.push(e);\n        }\n      });\n    } }, { key: \"updateMutations\", value: function updateMutations(\n\n    patch) {\n      if (typeof_default()(patch.value) === 'object' && !is_array_default()(patch.value) && this.allowMetaPatches) {\n        patch.value = object_assign_default()({}, patch.value);\n      }\n\n      var result = lib.applyPatch(this.state, patch, { allowMetaPatches: this.allowMetaPatches });\n      if (result) {\n        this.mutations.push(patch);\n        this.state = result;\n      }\n    } }, { key: \"removePromisedPatch\", value: function removePromisedPatch(\n\n    patch) {\n      var index = this.promisedPatches.indexOf(patch);\n      if (index < 0) {\n        this.debug('Tried to remove a promisedPatch that isn\\'t there!');\n        return;\n      }\n      this.promisedPatches.splice(index, 1);\n    } }, { key: \"promisedPatchThen\", value: function promisedPatchThen(\n\n    patch) {var _this4 = this;\n      var value = patch.value = patch.value.\n      then(function (val) {\n        var promisedPatch = object_assign_default()({}, patch, { value: val });\n        _this4.removePromisedPatch(patch);\n        _this4.updatePatches(promisedPatch);\n      }).\n      catch(function (e) {\n        _this4.removePromisedPatch(patch);\n        _this4.updatePatches(e);\n      });\n      return value;\n    } }, { key: \"getMutations\", value: function getMutations(\n\n    from, to) {\n      from = from || 0;\n      if (typeof to !== 'number') {\n        to = this.mutations.length;\n      }\n      return this.mutations.slice(from, to);\n    } }, { key: \"getCurrentMutations\", value: function getCurrentMutations()\n\n    {\n      return this.getMutationsForPlugin(this.getCurrentPlugin());\n    } }, { key: \"getMutationsForPlugin\", value: function getMutationsForPlugin(\n\n    plugin) {\n      var tip = this.getPluginMutationIndex(plugin);\n      return this.getMutations(tip + 1);\n    } }, { key: \"getCurrentPlugin\", value: function getCurrentPlugin()\n\n    {\n      return this.currentPlugin;\n    } }, { key: \"getPatchesOfType\", value: function getPatchesOfType(\n\n    patches, fn) {\n      return patches.filter(fn);\n    } }, { key: \"getLib\", value: function getLib()\n\n    {\n      return this.libMethods;\n    } }, { key: \"_get\", value: function _get(\n\n    path) {\n      return lib.getIn(this.state, path);\n    } }, { key: \"_getContext\", value: function _getContext(\n\n    path) {\n      return this.contextTree.get(path);\n    } }, { key: \"setContext\", value: function setContext(\n\n    path, value) {\n      return this.contextTree.set(path, value);\n    } }, { key: \"_hasRun\", value: function _hasRun(\n\n    count) {\n      var times = this.getPluginRunCount(this.getCurrentPlugin());\n      return times > (count || 0);\n    } }, { key: \"_clone\", value: function _clone(\n\n    obj) {\n      // For debugging only\n      return JSON.parse(stringify_default()(obj));\n    } }, { key: \"dispatch\", value: function dispatch()\n\n    {var _this5 = this;\n      var that = this;\n      var plugin = this.nextPlugin();\n\n      if (!plugin) {\n        var nextPromise = this.nextPromisedPatch();\n        if (nextPromise) {\n          return nextPromise.\n          then(function () {return _this5.dispatch();}).\n          catch(function () {return _this5.dispatch();});\n        }\n\n        // We're done!\n        var result = { spec: this.state, errors: this.errors };\n        if (this.showDebug) {\n          result.patches = this.allPatches;\n        }\n        return promise_default.a.resolve(result);\n      }\n\n      // Makes sure plugin isn't running an endless loop\n      that.pluginCount = that.pluginCount || {};\n      that.pluginCount[plugin] = (that.pluginCount[plugin] || 0) + 1;\n      if (that.pluginCount[plugin] > HARD_LIMIT) {\n        return promise_default.a.resolve({\n          spec: that.state,\n          errors: that.errors.concat(new Error(\"We've reached a hard limit of \".concat(HARD_LIMIT, \" plugin runs\"))) });\n\n      }\n\n      // A different plugin runs, wait for all promises to resolve, then retry\n      if (plugin !== this.currentPlugin && this.promisedPatches.length) {\n        var promises = this.promisedPatches.map(function (p) {return p.value;});\n\n        // Waits for all to settle instead of Promise.all which stops on rejection\n        return promise_default.a.all(promises.map(function (promise) {\n          return promise.then(Function, Function);\n        })).then(function () {return _this5.dispatch();});\n      }\n\n      // Ok, run the plugin\n      return executePlugin();\n\n      function executePlugin() {\n        that.currentPlugin = plugin;\n        var mutations = that.getCurrentMutations();\n        var lastMutationIndex = that.mutations.length - 1;\n\n        try {\n          if (plugin.isGenerator) {var _iteratorNormalCompletion2 = true;var _didIteratorError2 = false;var _iteratorError2 = undefined;try {\n              for (var _iterator2 = get_iterator_default()(plugin(mutations, that.getLib())), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {var yieldedPatches = _step2.value;\n                updatePatches(yieldedPatches);\n              }} catch (err) {_didIteratorError2 = true;_iteratorError2 = err;} finally {try {if (!_iteratorNormalCompletion2 && _iterator2.return != null) {_iterator2.return();}} finally {if (_didIteratorError2) {throw _iteratorError2;}}}\n          } else\n          {\n            var newPatches = plugin(mutations, that.getLib());\n            updatePatches(newPatches);\n          }\n        }\n        catch (e) {\n          console.error(e); // eslint-disable-line no-console\n          updatePatches([object_assign_default()(create_default()(e), { plugin: plugin })]);\n        } finally\n        {\n          that.updatePluginHistory(plugin, { mutationIndex: lastMutationIndex });\n        }\n\n        return that.dispatch();\n      }\n\n      function updatePatches(patches) {\n        if (patches) {\n          patches = lib.fullyNormalizeArray(patches);\n          that.updatePatches(patches, plugin);\n        }\n      }\n    } }]);return SpecMap;}();\n\n\nfunction mapSpec(opts) {\n  return new specmap_SpecMap(opts).dispatch();\n}\n\nvar plugins = { refs: refs, allOf: all_of, parameters: lib_parameters, properties: lib_properties };\n\n// EXTERNAL MODULE: external \"lodash/isObject\"\nvar isObject_ = __webpack_require__(29);\nvar isObject_default = /*#__PURE__*/__webpack_require__.n(isObject_);\n\n// CONCATENATED MODULE: ./src/helpers.js\n\n\n\nvar toLower = function toLower(str) {return String.prototype.toLowerCase.call(str);};\nvar escapeString = function escapeString(str) {\n  return str.replace(/[^\\w]/gi, '_');\n};\n\n// Spec version detection\nfunction isOAS3(spec) {\n  var oasVersion = spec.openapi;\n  if (!oasVersion) {\n    return false;\n  }\n\n  return startsWith_default()(oasVersion, '3');\n}\n\nfunction isSwagger2(spec) {\n  var swaggerVersion = spec.swagger;\n  if (!swaggerVersion) {\n    return false;\n  }\n\n  return startsWith_default()(swaggerVersion, '2');\n}\n\n// Strategy for determining operationId\nfunction opId(operation, pathName) {var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},v2OperationIdCompatibilityMode = _ref.v2OperationIdCompatibilityMode;\n  if (!operation || typeof_default()(operation) !== 'object') {\n    return null;\n  }\n  var idWithoutWhitespace = (operation.operationId || '').replace(/\\s/g, '');\n  if (idWithoutWhitespace.length) {\n    return escapeString(operation.operationId);\n  }\n  return idFromPathMethod(pathName, method, { v2OperationIdCompatibilityMode: v2OperationIdCompatibilityMode });\n}\n\n\n// Create a generated operationId from pathName + method\nfunction idFromPathMethod(pathName, method) {var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},v2OperationIdCompatibilityMode = _ref2.v2OperationIdCompatibilityMode;\n  if (v2OperationIdCompatibilityMode) {\n    var res = \"\".concat(method.toLowerCase(), \"_\").concat(pathName).\n    replace(/[\\s!@#$%^&*()_+=[{\\]};:<>|./?,\\\\'\"\"-]/g, '_');\n\n    res = res || \"\".concat(pathName.substring(1), \"_\").concat(method);\n\n    return res.\n    replace(/((_){2,})/g, '_').\n    replace(/^(_)*/g, '').\n    replace(/([_])*$/g, '');\n  }\n  return \"\".concat(toLower(method)).concat(escapeString(pathName));\n}\n\nfunction legacyIdFromPathMethod(pathName, method) {\n  return \"\".concat(toLower(method), \"-\").concat(pathName);\n}\n\n// Get the operation, based on operationId ( just return the object, no inheritence )\nfunction getOperationRaw(spec, id) {\n  if (!spec || !spec.paths) {\n    return null;\n  }\n\n\n  return findOperation(spec, function (_ref3) {var pathName = _ref3.pathName,method = _ref3.method,operation = _ref3.operation;\n    if (!operation || typeof_default()(operation) !== 'object') {\n      return false;\n    }\n\n    var rawOperationId = operation.operationId; // straight from the source\n    var operationId = opId(operation, pathName, method);\n    var legacyOperationId = legacyIdFromPathMethod(pathName, method);\n\n    return [operationId, legacyOperationId, rawOperationId].\n    some(function (val) {return val && val === id;});\n  });\n}\n\n// Will stop iterating over the operations and return the operationObj\n// as soon as predicate returns true\nfunction findOperation(spec, predicate) {\n  return eachOperation(spec, predicate, true) || null;\n}\n\n// iterate over each operation, and fire a callback with details\n// `find=true` will stop iterating, when the cb returns truthy\nfunction eachOperation(spec, cb, find) {\n  if (!spec || typeof_default()(spec) !== 'object' || !spec.paths || typeof_default()(spec.paths) !== 'object') {\n    return null;\n  }var\n\n  paths = spec.paths;\n\n  // Iterate over the spec, collecting operations\n  for (var pathName in paths) {\n    for (var method in paths[pathName]) {\n      if (method.toUpperCase() === 'PARAMETERS') {\n        continue;\n      }\n      var operation = paths[pathName][method];\n      if (!operation || typeof_default()(operation) !== 'object') {\n        continue;\n      }\n\n      var operationObj = {\n        spec: spec,\n        pathName: pathName,\n        method: method.toUpperCase(),\n        operation: operation };\n\n      var cbValue = cb(operationObj);\n\n      if (find && cbValue) {\n        return operationObj;\n      }\n    }\n  }\n}\n\n// REVIEW: OAS3: identify normalization steps that need changes\n// ...maybe create `normalizeOAS3`?\n\nfunction normalizeSwagger(parsedSpec) {var\n  spec = parsedSpec.spec;var\n  paths = spec.paths;\n  var map = {};\n\n  if (!paths || spec.$$normalized) {\n    return parsedSpec;\n  }\n\n  for (var pathName in paths) {\n    var path = paths[pathName];\n\n    if (!isObject_default()(path)) {\n      continue;\n    }\n\n    var pathParameters = path.parameters;var _loop = function _loop(\n\n    method) {\n      var operation = path[method];\n      if (!isObject_default()(operation)) {\n        return \"continue\";\n      }\n\n      var oid = opId(operation, pathName, method);\n\n      if (oid) {\n        if (map[oid]) {\n          map[oid].push(operation);\n        } else\n        {\n          map[oid] = [operation];\n        }\n\n        var opList = map[oid];\n        if (opList.length > 1) {\n          opList.forEach(function (o, i) {\n            o.__originalOperationId = o.__originalOperationId || o.operationId;\n            o.operationId = \"\".concat(oid).concat(i + 1);\n          });\n        } else\n        if (typeof operation.operationId !== 'undefined') {\n          // Ensure we always add the normalized operation ID if one already exists\n          // ( potentially different, given that we normalize our IDs)\n          // ... _back_ to the spec. Otherwise, they might not line up\n          var obj = opList[0];\n          obj.__originalOperationId = obj.__originalOperationId || operation.operationId;\n          obj.operationId = oid;\n        }\n      }\n\n      if (method !== 'parameters') {\n        // Add inherited consumes, produces, parameters, securities\n        var inheritsList = [];\n        var toBeInherit = {};\n\n        // Global-levels\n        for (var key in spec) {\n          if (key === 'produces' || key === 'consumes' || key === 'security') {\n            toBeInherit[key] = spec[key];\n            inheritsList.push(toBeInherit);\n          }\n        }\n\n        // Path-levels\n        if (pathParameters) {\n          toBeInherit.parameters = pathParameters;\n          inheritsList.push(toBeInherit);\n        }\n\n        if (inheritsList.length) {\n          for (var _i = 0, _inheritsList = inheritsList; _i < _inheritsList.length; _i++) {var inherits = _inheritsList[_i];\n            for (var inheritName in inherits) {\n              if (!operation[inheritName]) {\n                operation[inheritName] = inherits[inheritName];\n              } else\n              if (inheritName === 'parameters') {var _iteratorNormalCompletion = true;var _didIteratorError = false;var _iteratorError = undefined;try {var _loop2 = function _loop2() {var\n                    param = _step.value;\n                    var exists = operation[inheritName].some(function (opParam) {\n                      return opParam.name && opParam.name === param.name ||\n                      opParam.$ref && opParam.$ref === param.$ref ||\n                      opParam.$$ref && opParam.$$ref === param.$$ref ||\n                      opParam === param;\n                    });\n\n                    if (!exists) {\n                      operation[inheritName].push(param);\n                    }};for (var _iterator = get_iterator_default()(inherits[inheritName]), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {_loop2();\n                  }} catch (err) {_didIteratorError = true;_iteratorError = err;} finally {try {if (!_iteratorNormalCompletion && _iterator.return != null) {_iterator.return();}} finally {if (_didIteratorError) {throw _iteratorError;}}}\n              }\n            }\n          }\n        }\n      }};for (var method in path) {var _ret = _loop(method);if (_ret === \"continue\") continue;\n    }\n  }\n\n  spec.$$normalized = true;\n\n  return parsedSpec;\n}\n// CONCATENATED MODULE: ./src/resolver.js\n\n\n\n\n\nfunction makeFetchJSON(http) {var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};var\n  requestInterceptor = opts.requestInterceptor,responseInterceptor = opts.responseInterceptor;\n  // Set credentials with 'http.withCredentials' value\n  var credentials = http.withCredentials ? 'include' : 'same-origin';\n  return function (docPath) {\n    return http({\n      url: docPath,\n      loadSpec: true,\n      requestInterceptor: requestInterceptor,\n      responseInterceptor: responseInterceptor,\n      headers: {\n        Accept: ACCEPT_HEADER_VALUE_FOR_DOCUMENTS },\n\n      credentials: credentials }).\n\n    then(function (res) {\n      return res.body;\n    });\n  };\n}\n\n// Wipe out the http cache\nfunction resolver_clearCache() {\n  plugins.refs.clearCache();\n}\n\nfunction resolve(obj) {var\n\n  fetch =\n\n\n  obj.fetch,spec = obj.spec,url = obj.url,mode = obj.mode,_obj$allowMetaPatches = obj.allowMetaPatches,allowMetaPatches = _obj$allowMetaPatches === void 0 ? true : _obj$allowMetaPatches,pathDiscriminator = obj.pathDiscriminator,modelPropertyMacro = obj.modelPropertyMacro,parameterMacro = obj.parameterMacro,requestInterceptor = obj.requestInterceptor,responseInterceptor = obj.responseInterceptor,skipNormalization = obj.skipNormalization,useCircularStructures = obj.useCircularStructures;var\n\n  http = obj.http,baseDoc = obj.baseDoc;\n\n  // @TODO Swagger-UI uses baseDoc instead of url, this is to allow both\n  // need to fix and pick one.\n  baseDoc = baseDoc || url;\n\n  // Provide a default fetch implementation\n  // TODO fetch should be removed, and http used instead\n  http = fetch || http || http_http;\n\n  if (!spec) {\n    return makeFetchJSON(http, { requestInterceptor: requestInterceptor, responseInterceptor: responseInterceptor })(baseDoc).then(doResolve);\n  }\n\n  return doResolve(spec);\n\n  function doResolve(_spec) {\n    if (baseDoc) {\n      plugins.refs.docCache[baseDoc] = _spec;\n    }\n\n    // Build a json-fetcher ( ie: give it a URL and get json out )\n    plugins.refs.fetchJSON = makeFetchJSON(http, { requestInterceptor: requestInterceptor, responseInterceptor: responseInterceptor });\n\n    var plugs = [plugins.refs];\n\n    if (typeof parameterMacro === 'function') {\n      plugs.push(plugins.parameters);\n    }\n\n    if (typeof modelPropertyMacro === 'function') {\n      plugs.push(plugins.properties);\n    }\n\n    if (mode !== 'strict') {\n      plugs.push(plugins.allOf);\n    }\n\n    // mapSpec is where the hard work happens, see https://github.com/swagger-api/specmap for more details\n    return mapSpec({\n      spec: _spec,\n      context: { baseDoc: baseDoc },\n      plugins: plugs,\n      allowMetaPatches: allowMetaPatches, // allows adding .meta patches, which include adding `$$ref`s to the spec\n      pathDiscriminator: pathDiscriminator, // for lazy resolution\n      parameterMacro: parameterMacro,\n      modelPropertyMacro: modelPropertyMacro,\n      useCircularStructures: useCircularStructures }).\n    then(skipNormalization ? /*#__PURE__*/function () {var _ref = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(a) {return regenerator_default.a.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:return _context.abrupt(\"return\", a);case 1:case \"end\":return _context.stop();}}}, _callee);}));return function (_x) {return _ref.apply(this, arguments);};}() : normalizeSwagger);\n  }\n}\n// EXTERNAL MODULE: external \"lodash/get\"\nvar get_ = __webpack_require__(16);\nvar get_default = /*#__PURE__*/__webpack_require__.n(get_);\n\n// CONCATENATED MODULE: ./src/subtree-resolver/index.js\nfunction subtree_resolver_ownKeys(object, enumerableOnly) {var keys = keys_default()(object);if (get_own_property_symbols_default.a) {var symbols = get_own_property_symbols_default()(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return get_own_property_descriptor_default()(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function subtree_resolver_objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {subtree_resolver_ownKeys(source, true).forEach(function (key) {defineProperty_default()(target, key, source[key]);});} else if (get_own_property_descriptors_default.a) {define_properties_default()(target, get_own_property_descriptors_default()(source));} else {subtree_resolver_ownKeys(source).forEach(function (key) {define_property_default()(target, key, get_own_property_descriptor_default()(source, key));});}}return target;} // The subtree resolver is a higher-level interface that allows you to\n// get the same result that you would from `Swagger.resolve`, but focuses on\n// a subtree of your object.\n//\n// It makes several assumptions that allow you to think less about what resolve,\n// specmap, and normalizeSwagger are doing: if this is not suitable for you,\n// you can emulate `resolveSubtree`'s behavior by talking to the traditional\n// resolver directly.\n//\n// By providing a top-level `obj` and a `path` to resolve within, the subtree\n// at `path` will be resolved and normalized in the context of your top-level\n// `obj`. You'll get the resolved subtree you're interest in as a return value\n// (or, you can use `returnEntireTree` to get everything back).\n//\n// This is useful for cases where resolving your entire object is unnecessary\n// and/or non-performant; we use this interface for lazily resolving operations\n// and models in Swagger-UI, which allows us to handle larger definitions.\n//\n// It's likely that Swagger-Client will rely entirely on lazy resolving in\n// future versions.\n//\n// TODO: move the remarks above into project documentation\n\n\n\n\n\n\nfunction resolveSubtree(_x, _x2) {return _resolveSubtree.apply(this, arguments);}function _resolveSubtree() {_resolveSubtree = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(obj, path) {var opts,returnEntireTree,baseDoc,requestInterceptor,responseInterceptor,parameterMacro,modelPropertyMacro,useCircularStructures,resolveOptions,_normalizeSwagger,normalized,result,_args = arguments;return regenerator_default.a.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n\n            returnEntireTree =\n\n\n\n\n\n\n            opts.returnEntireTree, baseDoc = opts.baseDoc, requestInterceptor = opts.requestInterceptor, responseInterceptor = opts.responseInterceptor, parameterMacro = opts.parameterMacro, modelPropertyMacro = opts.modelPropertyMacro, useCircularStructures = opts.useCircularStructures;\n\n            resolveOptions = {\n              pathDiscriminator: path,\n              baseDoc: baseDoc,\n              requestInterceptor: requestInterceptor,\n              responseInterceptor: responseInterceptor,\n              parameterMacro: parameterMacro,\n              modelPropertyMacro: modelPropertyMacro,\n              useCircularStructures: useCircularStructures };_normalizeSwagger =\n\n\n            normalizeSwagger({\n              spec: obj }), normalized = _normalizeSwagger.spec;_context.next = 6;return (\n\n\n              resolve(subtree_resolver_objectSpread({},\n              resolveOptions, {\n                spec: normalized,\n                allowMetaPatches: true,\n                skipNormalization: true })));case 6:result = _context.sent;\n\n\n            if (!returnEntireTree && is_array_default()(path) && path.length) {\n              result.spec = get_default()(result.spec, path) || null;\n            }return _context.abrupt(\"return\",\n\n            result);case 9:case \"end\":return _context.stop();}}}, _callee);}));return _resolveSubtree.apply(this, arguments);}\n// EXTERNAL MODULE: external \"lodash/pick\"\nvar pick_ = __webpack_require__(38);\nvar pick_default = /*#__PURE__*/__webpack_require__.n(pick_);\n\n// CONCATENATED MODULE: ./src/interfaces.js\nfunction interfaces_ownKeys(object, enumerableOnly) {var keys = keys_default()(object);if (get_own_property_symbols_default.a) {var symbols = get_own_property_symbols_default()(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return get_own_property_descriptor_default()(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function interfaces_objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {interfaces_ownKeys(source, true).forEach(function (key) {defineProperty_default()(target, key, source[key]);});} else if (get_own_property_descriptors_default.a) {define_properties_default()(target, get_own_property_descriptors_default()(source));} else {interfaces_ownKeys(source).forEach(function (key) {define_property_default()(target, key, get_own_property_descriptor_default()(source, key));});}}return target;}\n\n\nvar nullFn = function nullFn() {return null;};\n\nvar interfaces_normalizeArray = function normalizeArray(arg) {\n  return is_array_default()(arg) ? arg : [arg];\n};\n\n// To allow stubbing of functions\nvar interfaces_self = {\n  mapTagOperations: mapTagOperations,\n  makeExecute: makeExecute\n\n\n  // Make an execute, bound to arguments defined in mapTagOperation's callback (cb)\n};function makeExecute() {var swaggerJs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (_ref) {var pathName = _ref.pathName,method = _ref.method,operationId = _ref.operationId;return function (parameters) {var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return swaggerJs.execute(interfaces_objectSpread({\n        spec: swaggerJs.spec },\n      pick_default()(swaggerJs, 'requestInterceptor', 'responseInterceptor', 'userFetch'), {\n        pathName: pathName,\n        method: method,\n        parameters: parameters,\n        operationId: operationId },\n      opts));\n\n    };};\n}\n\n// Creates an interface with tags+operations = execute\n// The shape\n// { apis: { [tag]: { operations: [operation]: { execute }}}}\n// NOTE: this is mostly for compatibility\nfunction makeApisTagOperationsOperationExecute() {var swaggerJs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  // { apis: tag: operations: execute }\n  var cb = interfaces_self.makeExecute(swaggerJs);\n  var tagOperations = interfaces_self.mapTagOperations({\n    v2OperationIdCompatibilityMode: swaggerJs.v2OperationIdCompatibilityMode,\n    spec: swaggerJs.spec,\n    cb: cb });\n\n\n  var apis = {};\n  for (var tag in tagOperations) {\n    apis[tag] = {\n      operations: {} };\n\n    for (var op in tagOperations[tag]) {\n      apis[tag].operations[op] = { execute: tagOperations[tag][op] };\n    }\n  }\n\n  return { apis: apis };\n}\n\n// .apis[tag][operationId]:ExecuteFunction interface\nfunction makeApisTagOperation() {var swaggerJs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var cb = interfaces_self.makeExecute(swaggerJs);\n  return {\n    apis: interfaces_self.mapTagOperations({\n      v2OperationIdCompatibilityMode: swaggerJs.v2OperationIdCompatibilityMode,\n      spec: swaggerJs.spec,\n      cb: cb }) };\n\n\n}\n\n/**\n   * Iterates over a spec, creating a hash of {[tag]: { [operationId], ... }, ...}\n   * with the value of calling `cb`.\n   *\n   * `spec` is a OAI v2.0 compliant specification object\n   * `cb` is called with ({ spec, operation, path, method })\n   * `defaultTag` will house all non-tagged operations\n   *\n   */\nfunction mapTagOperations(_ref2) {var spec = _ref2.spec,_ref2$cb = _ref2.cb,cb = _ref2$cb === void 0 ? nullFn : _ref2$cb,_ref2$defaultTag = _ref2.defaultTag,defaultTag = _ref2$defaultTag === void 0 ? 'default' : _ref2$defaultTag,v2OperationIdCompatibilityMode = _ref2.v2OperationIdCompatibilityMode;\n  var operationIdCounter = {};\n  var tagOperations = {}; // Will house all tags + operations\n  eachOperation(spec, function (_ref3) {var pathName = _ref3.pathName,method = _ref3.method,operation = _ref3.operation;\n    var tags = operation.tags ? interfaces_normalizeArray(operation.tags) : [defaultTag];\n\n    tags.forEach(function (tag) {\n      if (typeof tag !== 'string') {\n        return;\n      }\n      var tagObj = tagOperations[tag] = tagOperations[tag] || {};\n      var id = opId(operation, pathName, method, { v2OperationIdCompatibilityMode: v2OperationIdCompatibilityMode });\n      var cbResult = cb({ spec: spec, pathName: pathName, method: method, operation: operation, operationId: id });\n\n      if (operationIdCounter[id]) {\n        operationIdCounter[id]++;\n        tagObj[\"\".concat(id).concat(operationIdCounter[id])] = cbResult;\n      } else\n      if (typeof tagObj[id] !== 'undefined') {\n        // Bump counter ( for this operationId )\n        var originalCounterValue = operationIdCounter[id] || 1;\n        operationIdCounter[id] = originalCounterValue + 1;\n        // Append _x to the operationId\n        tagObj[\"\".concat(id).concat(operationIdCounter[id])] = cbResult;\n\n        // Rename the first operationId\n        var temp = tagObj[id];\n        delete tagObj[id];\n        tagObj[\"\".concat(id).concat(originalCounterValue)] = temp;\n      } else\n      {\n        // Assign callback result ( usually a bound function )\n        tagObj[id] = cbResult;\n      }\n    });\n  });\n\n  return tagOperations;\n}\n// EXTERNAL MODULE: external \"@babel/runtime-corejs2/helpers/objectWithoutProperties\"\nvar objectWithoutProperties_ = __webpack_require__(39);\nvar objectWithoutProperties_default = /*#__PURE__*/__webpack_require__.n(objectWithoutProperties_);\n\n// EXTERNAL MODULE: external \"lodash/isPlainObject\"\nvar isPlainObject_ = __webpack_require__(40);\nvar isPlainObject_default = /*#__PURE__*/__webpack_require__.n(isPlainObject_);\n\n// EXTERNAL MODULE: external \"lodash/isArray\"\nvar isArray_ = __webpack_require__(41);\nvar isArray_default = /*#__PURE__*/__webpack_require__.n(isArray_);\n\n// EXTERNAL MODULE: external \"btoa\"\nvar external_btoa_ = __webpack_require__(19);\nvar external_btoa_default = /*#__PURE__*/__webpack_require__.n(external_btoa_);\n\n// EXTERNAL MODULE: external \"cookie\"\nvar external_cookie_ = __webpack_require__(42);\nvar external_cookie_default = /*#__PURE__*/__webpack_require__.n(external_cookie_);\n\n// CONCATENATED MODULE: ./src/execute/swagger2/parameter-builders.js\n// These functions will update the request.\n// They'll be given {req, value, paramter, spec, operation}.\n\n\n/* harmony default export */ var parameter_builders = ({\n  body: bodyBuilder,\n  header: headerBuilder,\n  query: queryBuilder,\n  path: pathBuilder,\n  formData: formDataBuilder\n\n\n\n  // Add the body to the request\n});function bodyBuilder(_ref) {var req = _ref.req,value = _ref.value;\n  req.body = value;\n}\n\n// Add a form data object.\nfunction formDataBuilder(_ref2) {var req = _ref2.req,value = _ref2.value,parameter = _ref2.parameter;\n  if (value || parameter.allowEmptyValue) {\n    req.form = req.form || {};\n    req.form[parameter.name] = {\n      value: value,\n      allowEmptyValue: parameter.allowEmptyValue,\n      collectionFormat: parameter.collectionFormat };\n\n  }\n}\n\n// Add a header to the request\nfunction headerBuilder(_ref3) {var req = _ref3.req,parameter = _ref3.parameter,value = _ref3.value;\n  req.headers = req.headers || {};\n  if (typeof value !== 'undefined') {\n    req.headers[parameter.name] = value;\n  }\n}\n\n// Replace path paramters, with values ( ie: the URL )\nfunction pathBuilder(_ref4) {var req = _ref4.req,value = _ref4.value,parameter = _ref4.parameter;\n  req.url = req.url.split(\"{\".concat(parameter.name, \"}\")).join(encodeURIComponent(value));\n}\n\n// Add a query to the `query` object, which will later be stringified into the URL's search\nfunction queryBuilder(_ref5) {var req = _ref5.req,value = _ref5.value,parameter = _ref5.parameter;\n  req.query = req.query || {};\n\n  if (value === false && parameter.type === 'boolean') {\n    value = 'false';\n  }\n\n  if (value === 0 && ['number', 'integer'].indexOf(parameter.type) > -1) {\n    value = '0';\n  }\n\n  if (value) {\n    req.query[parameter.name] = {\n      collectionFormat: parameter.collectionFormat,\n      value: value };\n\n  } else\n  if (parameter.allowEmptyValue && value !== undefined) {\n    var paramName = parameter.name;\n    req.query[paramName] = req.query[paramName] || {};\n    req.query[paramName].allowEmptyValue = true;\n  }\n}\n// EXTERNAL MODULE: external \"encode-3986\"\nvar external_encode_3986_ = __webpack_require__(49);\n\n// EXTERNAL MODULE: external \"utf8-bytes\"\nvar external_utf8_bytes_ = __webpack_require__(43);\nvar external_utf8_bytes_default = /*#__PURE__*/__webpack_require__.n(external_utf8_bytes_);\n\n// EXTERNAL MODULE: external \"utfstring\"\nvar external_utfstring_ = __webpack_require__(44);\n\n// CONCATENATED MODULE: ./src/execute/oas3/style-serializer.js\n\n\n\n\nvar isRfc3986Reserved = function isRfc3986Reserved(char) {return ':/?#[]@!$&\\'()*+,;='.indexOf(char) > -1;};\nvar isRrc3986Unreserved = function isRrc3986Unreserved(char) {\n  return /^[a-z0-9\\-._~]+$/i.test(char);\n};\n\nfunction encodeDisallowedCharacters(str) {var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},escape = _ref.escape;var parse = arguments.length > 2 ? arguments[2] : undefined;\n  if (typeof str === 'number') {\n    str = str.toString();\n  }\n  if (typeof str !== 'string' || !str.length) {\n    return str;\n  }\n\n  if (!escape) {\n    return str;\n  }\n\n  if (parse) {\n    return JSON.parse(str);\n  }\n\n  return Object(external_utfstring_[\"stringToCharArray\"])(str).map(function (char) {\n    if (isRrc3986Unreserved(char)) {\n      return char;\n    }\n\n    if (isRfc3986Reserved(char) && escape === 'unsafe') {\n      return char;\n    }\n\n    var encoded = (external_utf8_bytes_default()(char) || []).\n    map(function (byte) {return \"0\".concat(byte.toString(16).toUpperCase()).slice(-2);}).\n    map(function (encodedByte) {return \"%\".concat(encodedByte);}).\n    join('');\n\n    return encoded;\n  }).join('');\n}\n\nfunction stylize(config) {var\n  value = config.value;\n\n  if (is_array_default()(value)) {\n    return encodeArray(config);\n  } else\n  if (typeof_default()(value) === 'object') {\n    return encodeObject(config);\n  }\n  return encodePrimitive(config);\n}\n\nfunction encodeArray(_ref2) {var key = _ref2.key,value = _ref2.value,style = _ref2.style,explode = _ref2.explode,escape = _ref2.escape;\n  var valueEncoder = function valueEncoder(str) {return encodeDisallowedCharacters(str, {\n      escape: escape });};\n\n\n  if (style === 'simple') {\n    return value.map(function (val) {return valueEncoder(val);}).join(',');\n  }\n\n  if (style === 'label') {\n    return \".\".concat(value.map(function (val) {return valueEncoder(val);}).join('.'));\n  }\n\n  if (style === 'matrix') {\n    return value.map(function (val) {return valueEncoder(val);}).reduce(function (prev, curr) {\n      if (!prev || explode) {\n        return \"\".concat(prev || '', \";\").concat(key, \"=\").concat(curr);\n      }\n      return \"\".concat(prev, \",\").concat(curr);\n    }, '');\n  }\n\n  if (style === 'form') {\n    var after = explode ? \"&\".concat(key, \"=\") : ',';\n    return value.map(function (val) {return valueEncoder(val);}).join(after);\n  }\n\n  if (style === 'spaceDelimited') {\n    var _after = explode ? \"\".concat(key, \"=\") : '';\n    return value.map(function (val) {return valueEncoder(val);}).join(\" \".concat(_after));\n  }\n\n  if (style === 'pipeDelimited') {\n    var _after2 = explode ? \"\".concat(key, \"=\") : '';\n    return value.map(function (val) {return valueEncoder(val);}).join(\"|\".concat(_after2));\n  }\n}\n\nfunction encodeObject(_ref3) {var key = _ref3.key,value = _ref3.value,style = _ref3.style,explode = _ref3.explode,escape = _ref3.escape;\n  var valueEncoder = function valueEncoder(str) {return encodeDisallowedCharacters(str, {\n      escape: escape });};\n\n\n  var valueKeys = keys_default()(value);\n\n  if (style === 'simple') {\n    return valueKeys.reduce(function (prev, curr) {\n      var val = valueEncoder(value[curr]);\n      var middleChar = explode ? '=' : ',';\n      var prefix = prev ? \"\".concat(prev, \",\") : '';\n\n      return \"\".concat(prefix).concat(curr).concat(middleChar).concat(val);\n    }, '');\n  }\n\n  if (style === 'label') {\n    return valueKeys.reduce(function (prev, curr) {\n      var val = valueEncoder(value[curr]);\n      var middleChar = explode ? '=' : '.';\n      var prefix = prev ? \"\".concat(prev, \".\") : '.';\n\n      return \"\".concat(prefix).concat(curr).concat(middleChar).concat(val);\n    }, '');\n  }\n\n  if (style === 'matrix' && explode) {\n    return valueKeys.reduce(function (prev, curr) {\n      var val = valueEncoder(value[curr]);\n      var prefix = prev ? \"\".concat(prev, \";\") : ';';\n\n      return \"\".concat(prefix).concat(curr, \"=\").concat(val);\n    }, '');\n  }\n\n  if (style === 'matrix') {\n    // no explode\n    return valueKeys.reduce(function (prev, curr) {\n      var val = valueEncoder(value[curr]);\n      var prefix = prev ? \"\".concat(prev, \",\") : \";\".concat(key, \"=\");\n\n      return \"\".concat(prefix).concat(curr, \",\").concat(val);\n    }, '');\n  }\n\n  if (style === 'form') {\n    return valueKeys.reduce(function (prev, curr) {\n      var val = valueEncoder(value[curr]);\n      var prefix = prev ? \"\".concat(prev).concat(explode ? '&' : ',') : '';\n      var separator = explode ? '=' : ',';\n\n      return \"\".concat(prefix).concat(curr).concat(separator).concat(val);\n    }, '');\n  }\n}\n\nfunction encodePrimitive(_ref4) {var key = _ref4.key,value = _ref4.value,style = _ref4.style,escape = _ref4.escape;\n  var valueEncoder = function valueEncoder(str) {return encodeDisallowedCharacters(str, {\n      escape: escape });};\n\n\n  if (style === 'simple') {\n    return valueEncoder(value);\n  }\n\n  if (style === 'label') {\n    return \".\".concat(valueEncoder(value));\n  }\n\n  if (style === 'matrix') {\n    return \";\".concat(key, \"=\").concat(valueEncoder(value));\n  }\n\n  if (style === 'form') {\n    return valueEncoder(value);\n  }\n\n  if (style === 'deepObject') {\n    return valueEncoder(value, {}, true);\n  }\n}\n// CONCATENATED MODULE: ./src/execute/oas3/content-serializer.js\n /*\n                                                                               Serializer that serializes according to a media type instead of OpenAPI's\n                                                                               `style` + `explode` constructs.\n                                                                             */\n\nfunction serialize(value, mediaType) {\n  if (mediaType.includes('application/json')) {\n    if (typeof value === 'string') {\n      // Assume the user has a JSON string\n      return value;\n    }\n    return stringify_default()(value);\n  }\n\n  return value.toString();\n}\n// CONCATENATED MODULE: ./src/execute/oas3/parameter-builders.js\n\n\n\nfunction parameter_builders_path(_ref) {var req = _ref.req,value = _ref.value,parameter = _ref.parameter;var\n  name = parameter.name,style = parameter.style,explode = parameter.explode,content = parameter.content;\n\n  if (content) {\n    var effectiveMediaType = keys_default()(content)[0];\n\n    req.url = req.url.split(\"{\".concat(name, \"}\")).join(\n    encodeDisallowedCharacters(\n    serialize(value, effectiveMediaType),\n    { escape: true }));\n\n\n    return;\n  }\n\n  var styledValue = stylize({\n    key: parameter.name,\n    value: value,\n    style: style || 'simple',\n    explode: explode || false,\n    escape: true });\n\n\n  req.url = req.url.split(\"{\".concat(name, \"}\")).join(styledValue);\n}\n\nfunction parameter_builders_query(_ref2) {var req = _ref2.req,value = _ref2.value,parameter = _ref2.parameter;\n  req.query = req.query || {};\n\n  if (parameter.content) {\n    var effectiveMediaType = keys_default()(parameter.content)[0];\n\n    req.query[parameter.name] = serialize(value, effectiveMediaType);\n    return;\n  }\n\n  if (value === false) {\n    value = 'false';\n  }\n\n  if (value === 0) {\n    value = '0';\n  }\n\n  if (value) {\n    var type = typeof_default()(value);\n\n    if (parameter.style === 'deepObject') {\n      var valueKeys = keys_default()(value);\n      valueKeys.forEach(function (k) {\n        var v = value[k];\n        req.query[\"\".concat(parameter.name, \"[\").concat(k, \"]\")] = {\n          value: stylize({\n            key: k,\n            value: v,\n            style: 'deepObject',\n            escape: parameter.allowReserved ? 'unsafe' : 'reserved' }),\n\n          skipEncoding: true };\n\n      });\n    } else\n    if (\n    type === 'object' &&\n    !is_array_default()(value) && (\n    parameter.style === 'form' || !parameter.style) && (\n    parameter.explode || parameter.explode === undefined))\n    {\n      // form explode needs to be handled here,\n      // since we aren't assigning to `req.query[parameter.name]`\n      // like we usually do.\n      var _valueKeys = keys_default()(value);\n      _valueKeys.forEach(function (k) {\n        var v = value[k];\n        req.query[k] = {\n          value: stylize({\n            key: k,\n            value: v,\n            style: parameter.style || 'form',\n            escape: parameter.allowReserved ? 'unsafe' : 'reserved' }),\n\n          skipEncoding: true };\n\n      });\n    } else\n    {\n      var encodedParamName = encodeURIComponent(parameter.name);\n      req.query[encodedParamName] = {\n        value: stylize({\n          key: encodedParamName,\n          value: value,\n          style: parameter.style || 'form',\n          explode: typeof parameter.explode === 'undefined' ? true : parameter.explode,\n          escape: parameter.allowReserved ? 'unsafe' : 'reserved' }),\n\n        skipEncoding: true };\n\n    }\n  } else\n  if (parameter.allowEmptyValue && value !== undefined) {\n    var paramName = parameter.name;\n    req.query[paramName] = req.query[paramName] || {};\n    req.query[paramName].allowEmptyValue = true;\n  }\n}\n\nvar PARAMETER_HEADER_BLACKLIST = [\n'accept',\n'authorization',\n'content-type'];\n\n\nfunction parameter_builders_header(_ref3) {var req = _ref3.req,parameter = _ref3.parameter,value = _ref3.value;\n  req.headers = req.headers || {};\n\n  if (PARAMETER_HEADER_BLACKLIST.indexOf(parameter.name.toLowerCase()) > -1) {\n    return;\n  }\n\n  if (parameter.content) {\n    var effectiveMediaType = keys_default()(parameter.content)[0];\n\n    req.headers[parameter.name] = serialize(value, effectiveMediaType);\n    return;\n  }\n\n  if (typeof value !== 'undefined') {\n    req.headers[parameter.name] = stylize({\n      key: parameter.name,\n      value: value,\n      style: parameter.style || 'simple',\n      explode: typeof parameter.explode === 'undefined' ? false : parameter.explode,\n      escape: false });\n\n  }\n}\n\nfunction cookie(_ref4) {var req = _ref4.req,parameter = _ref4.parameter,value = _ref4.value;\n  req.headers = req.headers || {};\n  var type = typeof_default()(value);\n\n  if (parameter.content) {\n    var effectiveMediaType = keys_default()(parameter.content)[0];\n\n    req.headers.Cookie = \"\".concat(parameter.name, \"=\").concat(serialize(value, effectiveMediaType));\n    return;\n  }\n\n  if (type !== 'undefined') {\n    var prefix =\n    type === 'object' &&\n    !is_array_default()(value) &&\n    parameter.explode ?\n    '' : \"\".concat(parameter.name, \"=\");\n\n    req.headers.Cookie = prefix + stylize({\n      key: parameter.name,\n      value: value,\n      escape: false,\n      style: parameter.style || 'form',\n      explode: typeof parameter.explode === 'undefined' ? false : parameter.explode });\n\n  }\n}\n// EXTERNAL MODULE: external \"buffer/\"\nvar _ = __webpack_require__(30);\n\n// CONCATENATED MODULE: ./src/execute/oas3/build-request.js\n // This function runs after the common function,\n// `src/execute/index.js#buildRequest`\n\n\n\n\n\n/* harmony default export */ var build_request = (function (options, req) {var\n\n  operation =\n\n\n\n\n  options.operation,requestBody = options.requestBody,securities = options.securities,spec = options.spec,attachContentTypeForEmptyPayload = options.attachContentTypeForEmptyPayload;var\n\n\n  requestContentType =\n  options.requestContentType;\n\n  req = applySecurities({ request: req, securities: securities, operation: operation, spec: spec });\n\n  var requestBodyDef = operation.requestBody || {};\n  var requestBodyMediaTypes = keys_default()(requestBodyDef.content || {});\n  var isExplicitContentTypeValid = requestContentType &&\n  requestBodyMediaTypes.indexOf(requestContentType) > -1;\n\n  // for OAS3: set the Content-Type\n  if (requestBody || attachContentTypeForEmptyPayload) {\n    // does the passed requestContentType appear in the requestBody definition?\n\n    if (requestContentType && isExplicitContentTypeValid) {\n      req.headers['Content-Type'] = requestContentType;\n    } else\n    if (!requestContentType) {\n      var firstMediaType = requestBodyMediaTypes[0];\n      if (firstMediaType) {\n        req.headers['Content-Type'] = firstMediaType;\n        requestContentType = firstMediaType;\n      }\n    }\n  } else\n  if (requestContentType && isExplicitContentTypeValid) {\n    req.headers['Content-Type'] = requestContentType;\n  }\n\n  // for OAS3: add requestBody to request\n  if (requestBody) {\n    if (requestContentType) {\n      if (requestBodyMediaTypes.indexOf(requestContentType) > -1) {\n        // only attach body if the requestBody has a definition for the\n        // contentType that has been explicitly set\n        if (requestContentType === 'application/x-www-form-urlencoded' || requestContentType.indexOf('multipart/') === 0) {\n          if (typeof_default()(requestBody) === 'object') {\n            req.form = {};\n            keys_default()(requestBody).forEach(function (k) {\n              var val = requestBody[k];\n              var newVal;\n\n              var isFile;\n\n              if (typeof File !== 'undefined') {\n                isFile = val instanceof File; // eslint-disable-line no-undef\n              }\n\n              if (typeof Blob !== 'undefined') {\n                isFile = isFile || val instanceof Blob; // eslint-disable-line no-undef\n              }\n\n              if (typeof _[\"Buffer\"] !== 'undefined') {\n                isFile = isFile || _[\"Buffer\"].isBuffer(val);\n              }\n\n              if (typeof_default()(val) === 'object' && !isFile) {\n                if (is_array_default()(val)) {\n                  newVal = val.toString();\n                } else\n                {\n                  newVal = stringify_default()(val);\n                }\n              } else\n              {\n                newVal = val;\n              }\n\n              req.form[k] = {\n                value: newVal };\n\n            });\n          } else\n          {\n            req.form = requestBody;\n          }\n        } else\n        {\n          req.body = requestBody;\n        }\n      }\n    } else\n    {\n      req.body = requestBody;\n    }\n  }\n\n  return req;\n});\n\n// Add security values, to operations - that declare their need on them\n// Adapted from the Swagger2 implementation\nfunction applySecurities(_ref) {var request = _ref.request,_ref$securities = _ref.securities,securities = _ref$securities === void 0 ? {} : _ref$securities,_ref$operation = _ref.operation,operation = _ref$operation === void 0 ? {} : _ref$operation,spec = _ref.spec;\n  var result = assign_default()({}, request);var _securities$authorize =\n  securities.authorized,authorized = _securities$authorize === void 0 ? {} : _securities$authorize;\n  var security = operation.security || spec.security || [];\n  var isAuthorized = authorized && !!keys_default()(authorized).length;\n  var securityDef = get_default()(spec, ['components', 'securitySchemes']) || {};\n\n  result.headers = result.headers || {};\n  result.query = result.query || {};\n\n  if (!keys_default()(securities).length || !isAuthorized || !security ||\n  is_array_default()(operation.security) && !operation.security.length) {\n    return request;\n  }\n\n  security.forEach(function (securityObj, index) {\n    for (var key in securityObj) {\n      var auth = authorized[key];\n      var schema = securityDef[key];\n\n      if (!auth) {\n        continue;\n      }\n\n      var value = auth.value || auth;var\n      type = schema.type;\n\n      if (auth) {\n        if (type === 'apiKey') {\n          if (schema.in === 'query') {\n            result.query[schema.name] = value;\n          }\n          if (schema.in === 'header') {\n            result.headers[schema.name] = value;\n          }\n          if (schema.in === 'cookie') {\n            result.cookies[schema.name] = value;\n          }\n        } else\n        if (type === 'http') {\n          if (schema.scheme === 'basic') {var\n            username = value.username,password = value.password;\n            var encoded = external_btoa_default()(\"\".concat(username, \":\").concat(password));\n            result.headers.Authorization = \"Basic \".concat(encoded);\n          }\n\n          if (schema.scheme === 'bearer') {\n            result.headers.Authorization = \"Bearer \".concat(value);\n          }\n        } else\n        if (type === 'oauth2') {\n          var token = auth.token || {};\n          var tokenName = schema['x-tokenName'] || 'access_token';\n          var tokenValue = token[tokenName];\n          var tokenType = token.token_type;\n\n          if (!tokenType || tokenType.toLowerCase() === 'bearer') {\n            tokenType = 'Bearer';\n          }\n\n          result.headers.Authorization = \"\".concat(tokenType, \" \").concat(tokenValue);\n        }\n      }\n    }\n  });\n\n  return result;\n}\n// CONCATENATED MODULE: ./src/execute/swagger2/build-request.js\n // This function runs after the common function,\n// `src/execute/index.js#buildRequest`\n\n\n\n\n\n\n/* harmony default export */ var swagger2_build_request = (function (options, req) {var\n\n  spec =\n\n\n\n\n  options.spec,operation = options.operation,securities = options.securities,requestContentType = options.requestContentType,attachContentTypeForEmptyPayload = options.attachContentTypeForEmptyPayload;\n  // Add securities, which are applicable\n  req = build_request_applySecurities({ request: req, securities: securities, operation: operation, spec: spec });\n\n  if (req.body || req.form || attachContentTypeForEmptyPayload) {\n    // all following conditionals are Swagger2 only\n    if (requestContentType) {\n      req.headers['Content-Type'] = requestContentType;\n    } else\n    if (is_array_default()(operation.consumes)) {\n      req.headers['Content-Type'] = operation.consumes[0];\n    } else\n    if (is_array_default()(spec.consumes)) {\n      req.headers['Content-Type'] = spec.consumes[0];\n    } else\n    if (operation.parameters && operation.parameters.filter(function (p) {return p.type === 'file';}).length) {\n      req.headers['Content-Type'] = 'multipart/form-data';\n    } else\n    if (operation.parameters && operation.parameters.filter(function (p) {return p.in === 'formData';}).length) {\n      req.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n    }\n  } else\n  if (requestContentType) {\n    var isBodyParamPresent = operation.parameters && operation.parameters.filter(function (p) {return p.in === 'body';}).length > 0;\n    var isFormDataParamPresent = operation.parameters && operation.parameters.filter(function (p) {return p.in === 'formData';}).length > 0;\n    if (isBodyParamPresent || isFormDataParamPresent) {\n      req.headers['Content-Type'] = requestContentType;\n    }\n  }\n\n  return req;\n});\n\n// Add security values, to operations - that declare their need on them\nfunction build_request_applySecurities(_ref) {var request = _ref.request,_ref$securities = _ref.securities,securities = _ref$securities === void 0 ? {} : _ref$securities,_ref$operation = _ref.operation,operation = _ref$operation === void 0 ? {} : _ref$operation,spec = _ref.spec;\n  var result = assign_default()({}, request);var _securities$authorize =\n  securities.authorized,authorized = _securities$authorize === void 0 ? {} : _securities$authorize,_securities$specSecur = securities.specSecurity,specSecurity = _securities$specSecur === void 0 ? [] : _securities$specSecur;\n  var security = operation.security || specSecurity;\n  var isAuthorized = authorized && !!keys_default()(authorized).length;\n  var securityDef = spec.securityDefinitions;\n\n  result.headers = result.headers || {};\n  result.query = result.query || {};\n\n  if (!keys_default()(securities).length || !isAuthorized || !security ||\n  is_array_default()(operation.security) && !operation.security.length) {\n    return request;\n  }\n\n  security.forEach(function (securityObj, index) {\n    for (var key in securityObj) {\n      var auth = authorized[key];\n      if (!auth) {\n        continue;\n      }\n\n      var token = auth.token;\n      var value = auth.value || auth;\n      var schema = securityDef[key];var\n      type = schema.type;\n      var tokenName = schema['x-tokenName'] || 'access_token';\n      var oauthToken = token && token[tokenName];\n      var tokenType = token && token.token_type;\n\n      if (auth) {\n        if (type === 'apiKey') {\n          var inType = schema.in === 'query' ? 'query' : 'headers';\n          result[inType] = result[inType] || {};\n          result[inType][schema.name] = value;\n        } else\n        if (type === 'basic') {\n          if (value.header) {\n            result.headers.authorization = value.header;\n          } else\n          {\n            value.base64 = external_btoa_default()(\"\".concat(value.username, \":\").concat(value.password));\n            result.headers.authorization = \"Basic \".concat(value.base64);\n          }\n        } else\n        if (type === 'oauth2' && oauthToken) {\n          tokenType = !tokenType || tokenType.toLowerCase() === 'bearer' ? 'Bearer' : tokenType;\n          result.headers.authorization = \"\".concat(tokenType, \" \").concat(oauthToken);\n        }\n      }\n    }\n  });\n\n  return result;\n}\n// CONCATENATED MODULE: ./src/execute/index.js\nfunction execute_ownKeys(object, enumerableOnly) {var keys = keys_default()(object);if (get_own_property_symbols_default.a) {var symbols = get_own_property_symbols_default()(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return get_own_property_descriptor_default()(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function execute_objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {execute_ownKeys(source, true).forEach(function (key) {defineProperty_default()(target, key, source[key]);});} else if (get_own_property_descriptors_default.a) {define_properties_default()(target, get_own_property_descriptors_default()(source));} else {execute_ownKeys(source).forEach(function (key) {define_property_default()(target, key, get_own_property_descriptor_default()(source, key));});}}return target;}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar execute_arrayOrEmpty = function arrayOrEmpty(ar) {\n  return is_array_default()(ar) ? ar : [];\n};\n\nvar OperationNotFoundError = createErrorType('OperationNotFoundError', function (message, extra, oriError) {\n  this.originalError = oriError;\n  object_assign_default()(this, extra || {});\n});\n\nvar findParametersWithName = function findParametersWithName(name, parameters) {\n  return parameters.filter(function (p) {return p.name === name;});\n};\n\n// removes parameters that have duplicate 'in' and 'name' properties\nvar execute_deduplicateParameters = function deduplicateParameters(parameters) {\n  var paramsMap = {};\n  parameters.forEach(function (p) {\n    if (!paramsMap[p.in]) {\n      paramsMap[p.in] = {};\n    }\n    paramsMap[p.in][p.name] = p;\n  });\n\n  var dedupedParameters = [];\n  keys_default()(paramsMap).forEach(function (i) {\n    keys_default()(paramsMap[i]).forEach(function (p) {\n      dedupedParameters.push(paramsMap[i][p]);\n    });\n  });\n  return dedupedParameters;\n};\n\n// For stubbing in tests\nvar execute_self = {\n  buildRequest: buildRequest\n\n\n  // Execute request, with the given operationId and parameters\n  // pathName/method or operationId is optional\n};function execute(_ref)\n\n\n\n\n\n\n\n\n\n{var userHttp = _ref.http,fetch = _ref.fetch,spec = _ref.spec,operationId = _ref.operationId,pathName = _ref.pathName,method = _ref.method,parameters = _ref.parameters,securities = _ref.securities,extras = objectWithoutProperties_default()(_ref, [\"http\", \"fetch\", \"spec\", \"operationId\", \"pathName\", \"method\", \"parameters\", \"securities\"]);\n  // Provide default fetch implementation\n  var http = userHttp || fetch || http_http; // Default to _our_ http\n\n  if (pathName && method && !operationId) {\n    operationId = legacyIdFromPathMethod(pathName, method);\n  }\n\n  var request = execute_self.buildRequest(execute_objectSpread({ spec: spec, operationId: operationId, parameters: parameters, securities: securities, http: http }, extras));\n\n  if (request.body && (isPlainObject_default()(request.body) || isArray_default()(request.body))) {\n    request.body = stringify_default()(request.body);\n  }\n\n  // Build request and execute it\n  return http(request);\n}\n\n// Build a request, which can be handled by the `http.js` implementation.\nfunction buildRequest(options) {var\n\n  spec =\n\n\n\n\n\n\n\n\n\n\n\n\n\n  options.spec,operationId = options.operationId,securities = options.securities,requestContentType = options.requestContentType,responseContentType = options.responseContentType,scheme = options.scheme,requestInterceptor = options.requestInterceptor,responseInterceptor = options.responseInterceptor,contextUrl = options.contextUrl,userFetch = options.userFetch,requestBody = options.requestBody,server = options.server,serverVariables = options.serverVariables,http = options.http;var\n\n\n  parameters =\n\n  options.parameters,parameterBuilders = options.parameterBuilders;\n\n  var specIsOAS3 = isOAS3(spec);\n  if (!parameterBuilders) {\n    // user did not provide custom parameter builders\n    if (specIsOAS3) {\n      parameterBuilders = oas3_parameter_builders_namespaceObject;\n    } else\n    {\n      parameterBuilders = parameter_builders;\n    }\n  }\n\n  // Set credentials with 'http.withCredentials' value\n  var credentials = http && http.withCredentials ? 'include' : 'same-origin';\n\n  // Base Template\n  var req = {\n    url: '',\n    credentials: credentials,\n    headers: {},\n    cookies: {} };\n\n\n  if (requestInterceptor) {\n    req.requestInterceptor = requestInterceptor;\n  }\n  if (responseInterceptor) {\n    req.responseInterceptor = responseInterceptor;\n  }\n  if (userFetch) {\n    req.userFetch = userFetch;\n  }\n\n  var operationRaw = getOperationRaw(spec, operationId);\n  if (!operationRaw) {\n    throw new OperationNotFoundError(\"Operation \".concat(operationId, \" not found\"));\n  }var _operationRaw$operati =\n\n  operationRaw.operation,operation = _operationRaw$operati === void 0 ? {} : _operationRaw$operati,method = operationRaw.method,pathName = operationRaw.pathName;\n\n  req.url += execute_baseUrl({ spec: spec, scheme: scheme, contextUrl: contextUrl, server: server, serverVariables: serverVariables, pathName: pathName, method: method });\n\n  // Mostly for testing\n  if (!operationId) {\n    // Not removing req.cookies causes testing issues and would\n    // change our interface, so we're always sure to remove it.\n    // See the same statement lower down in this function for\n    // more context.\n    delete req.cookies;\n    return req;\n  }\n\n  req.url += pathName; // Have not yet replaced the path parameters\n  req.method = \"\".concat(method).toUpperCase();\n\n  parameters = parameters || {};\n  var path = spec.paths[pathName] || {};\n\n  if (responseContentType) {\n    req.headers.accept = responseContentType;\n  }\n\n  var combinedParameters = execute_deduplicateParameters([].\n  concat(execute_arrayOrEmpty(operation.parameters)) // operation parameters\n  .concat(execute_arrayOrEmpty(path.parameters)) // path parameters\n  );\n\n  // REVIEW: OAS3: have any key names or parameter shapes changed?\n  // Any new features that need to be plugged in here?\n\n\n  // Add values to request\n  combinedParameters.forEach(function (parameter) {\n    var builder = parameterBuilders[parameter.in];\n    var value;\n\n    if (parameter.in === 'body' && parameter.schema && parameter.schema.properties) {\n      value = parameters;\n    }\n\n    value = parameter && parameter.name && parameters[parameter.name];\n\n    if (typeof value === 'undefined') {\n      // check for `name-in` formatted key\n      value = parameter && parameter.name && parameters[\"\".concat(parameter.in, \".\").concat(parameter.name)];\n    } else\n    if (findParametersWithName(parameter.name, combinedParameters).length > 1) {\n      // value came from `parameters[parameter.name]`\n      // check to see if this is an ambiguous parameter\n      // eslint-disable-next-line no-console\n      console.warn(\"Parameter '\".concat(parameter.name, \"' is ambiguous because the defined spec has more than one parameter with the name: '\").concat(parameter.name, \"' and the passed-in parameter values did not define an 'in' value.\"));\n    }\n\n    if (value === null) {\n      return;\n    }\n\n    if (typeof parameter.default !== 'undefined' && typeof value === 'undefined') {\n      value = parameter.default;\n    }\n\n    if (typeof value === 'undefined' && parameter.required && !parameter.allowEmptyValue) {\n      throw new Error(\"Required parameter \".concat(parameter.name, \" is not provided\"));\n    }\n\n    if (specIsOAS3 && parameter.schema && parameter.schema.type === 'object' && typeof value === 'string') {\n      try {\n        value = JSON.parse(value);\n      }\n      catch (e) {\n        throw new Error('Could not parse object parameter value string as JSON');\n      }\n    }\n\n    if (builder) {\n      builder({ req: req, parameter: parameter, value: value, operation: operation, spec: spec });\n    }\n  });\n\n  // Do version-specific tasks, then return those results.\n  var versionSpecificOptions = execute_objectSpread({}, options, { operation: operation });\n\n  if (specIsOAS3) {\n    req = build_request(versionSpecificOptions, req);\n  } else\n  {\n    // If not OAS3, then treat as Swagger2.\n    req = swagger2_build_request(versionSpecificOptions, req);\n  }\n\n\n  // If the cookie convenience object exists in our request,\n  // serialize its content and then delete the cookie object.\n  if (req.cookies && keys_default()(req.cookies).length) {\n    var cookieString = keys_default()(req.cookies).reduce(function (prev, cookieName) {\n      var cookieValue = req.cookies[cookieName];\n      var prefix = prev ? '&' : '';\n      var stringified = external_cookie_default.a.serialize(cookieName, cookieValue);\n      return prev + prefix + stringified;\n    }, '');\n    req.headers.Cookie = cookieString;\n  }\n\n  if (req.cookies) {\n    // even if no cookies were defined, we need to remove\n    // the cookies key from our request, or many many legacy\n    // tests will break.\n    delete req.cookies;\n  }\n\n  // Will add the query object into the URL, if it exists\n  // ... will also create a FormData instance, if multipart/form-data (eg: a file)\n  mergeInQueryOrForm(req);\n\n  return req;\n}\n\nvar stripNonAlpha = function stripNonAlpha(str) {return str ? str.replace(/\\W/g, '') : null;};\n\nfunction execute_baseUrl(obj) {\n  var specIsOAS3 = isOAS3(obj.spec);\n\n  return specIsOAS3 ? oas3BaseUrl(obj) : swagger2BaseUrl(obj);\n}\n\nfunction oas3BaseUrl(_ref2) {var spec = _ref2.spec,pathName = _ref2.pathName,method = _ref2.method,server = _ref2.server,contextUrl = _ref2.contextUrl,_ref2$serverVariables = _ref2.serverVariables,serverVariables = _ref2$serverVariables === void 0 ? {} : _ref2$serverVariables;\n  var servers =\n  get_default()(spec, ['paths', pathName, (method || '').toLowerCase(), 'servers']) ||\n  get_default()(spec, ['paths', pathName, 'servers']) ||\n  get_default()(spec, ['servers']);\n\n  var selectedServerUrl = '';\n  var selectedServerObj = null;\n\n  if (server && servers && servers.length) {\n    var serverUrls = servers.map(function (srv) {return srv.url;});\n\n    if (serverUrls.indexOf(server) > -1) {\n      selectedServerUrl = server;\n      selectedServerObj = servers[serverUrls.indexOf(server)];\n    }\n  }\n\n  if (!selectedServerUrl && servers && servers.length) {\n    // default to the first server if we don't have one by now\n    selectedServerUrl = servers[0].url;\n    selectedServerObj = servers[0];\n  }\n\n  if (selectedServerUrl.indexOf('{') > -1) {\n    // do variable substitution\n    var varNames = getVariableTemplateNames(selectedServerUrl);\n    varNames.forEach(function (vari) {\n      if (selectedServerObj.variables && selectedServerObj.variables[vari]) {\n        // variable is defined in server\n        var variableDefinition = selectedServerObj.variables[vari];\n        var variableValue = serverVariables[vari] || variableDefinition.default;\n\n        var re = new RegExp(\"{\".concat(vari, \"}\"), 'g');\n        selectedServerUrl = selectedServerUrl.replace(re, variableValue);\n      }\n    });\n  }\n\n  return buildOas3UrlWithContext(selectedServerUrl, contextUrl);\n}\n\nfunction buildOas3UrlWithContext() {var ourUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';var contextUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var parsedUrl = external_url_default.a.parse(ourUrl);\n  var parsedContextUrl = external_url_default.a.parse(contextUrl);\n\n  var computedScheme = stripNonAlpha(parsedUrl.protocol) || stripNonAlpha(parsedContextUrl.protocol) || '';\n  var computedHost = parsedUrl.host || parsedContextUrl.host;\n  var computedPath = parsedUrl.pathname || '';\n  var res;\n\n  if (computedScheme && computedHost) {\n    res = \"\".concat(computedScheme, \"://\").concat(computedHost + computedPath);\n\n    // If last character is '/', trim it off\n  } else\n  {\n    res = computedPath;\n  }\n\n  return res[res.length - 1] === '/' ? res.slice(0, -1) : res;\n}\n\nfunction getVariableTemplateNames(str) {\n  var results = [];\n  var re = /{([^}]+)}/g;\n  var text;\n\n  // eslint-disable-next-line no-cond-assign\n  while (text = re.exec(str)) {\n    results.push(text[1]);\n  }\n  return results;\n}\n\n// Compose the baseUrl ( scheme + host + basePath )\nfunction swagger2BaseUrl(_ref3) {var spec = _ref3.spec,scheme = _ref3.scheme,_ref3$contextUrl = _ref3.contextUrl,contextUrl = _ref3$contextUrl === void 0 ? '' : _ref3$contextUrl;\n  var parsedContextUrl = external_url_default.a.parse(contextUrl);\n  var firstSchemeInSpec = is_array_default()(spec.schemes) ? spec.schemes[0] : null;\n\n  var computedScheme = scheme || firstSchemeInSpec || stripNonAlpha(parsedContextUrl.protocol) || 'http';\n  var computedHost = spec.host || parsedContextUrl.host || '';\n  var computedPath = spec.basePath || '';\n  var res;\n\n  if (computedScheme && computedHost) {\n    // we have what we need for an absolute URL\n    res = \"\".concat(computedScheme, \"://\").concat(computedHost + computedPath);\n  } else\n  {\n    // if not, a relative URL will have to do\n    res = computedPath;\n  }\n\n  // If last character is '/', trim it off\n  return res[res.length - 1] === '/' ? res.slice(0, -1) : res;\n}\n// CONCATENATED MODULE: ./src/index.js\nfunction src_ownKeys(object, enumerableOnly) {var keys = keys_default()(object);if (get_own_property_symbols_default.a) {var symbols = get_own_property_symbols_default()(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return get_own_property_descriptor_default()(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function src_objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {src_ownKeys(source, true).forEach(function (key) {defineProperty_default()(target, key, source[key]);});} else if (get_own_property_descriptors_default.a) {define_properties_default()(target, get_own_property_descriptors_default()(source));} else {src_ownKeys(source).forEach(function (key) {define_property_default()(target, key, get_own_property_descriptor_default()(source, key));});}}return target;}\n\n\n\n\n\n\n\n\n\n\nSwagger.http = http_http;\nSwagger.makeHttp = makeHttp.bind(null, Swagger.http);\nSwagger.resolve = resolve;\nSwagger.resolveSubtree = resolveSubtree;\nSwagger.execute = execute;\nSwagger.serializeRes = serializeRes;\nSwagger.serializeHeaders = serializeHeaders;\nSwagger.clearCache = resolver_clearCache;\nSwagger.makeApisTagOperation = makeApisTagOperation;\nSwagger.buildRequest = buildRequest;\nSwagger.helpers = { opId: opId };\n\nfunction Swagger(url) {var _this = this;var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // Allow url as a separate argument\n  if (typeof url === 'string') {\n    opts.url = url;\n  } else\n  {\n    opts = url;\n  }\n\n  if (!(this instanceof Swagger)) {\n    return new Swagger(opts);\n  }\n\n  assign_default()(this, opts);\n\n  var prom = this.resolve().\n  then(function () {\n    if (!_this.disableInterfaces) {\n      assign_default()(_this, Swagger.makeApisTagOperation(_this));\n    }\n    return _this;\n  });\n\n  // Expose this instance on the promise that gets returned\n  prom.client = this;\n  return prom;\n}\n\nSwagger.prototype = {\n\n  http: http_http,\n\n  execute: function execute(argHash) {\n    this.applyDefaults();\n\n    return Swagger.execute(src_objectSpread({\n      spec: this.spec,\n      http: this.http,\n      securities: { authorized: this.authorizations },\n      contextUrl: typeof this.url === 'string' ? this.url : undefined },\n    argHash));\n\n  },\n\n  resolve: function resolve() {var _this2 = this;\n    return Swagger.resolve({\n      spec: this.spec,\n      url: this.url,\n      allowMetaPatches: this.allowMetaPatches,\n      useCircularStructures: this.useCircularStructures,\n      requestInterceptor: this.requestInterceptor || null,\n      responseInterceptor: this.responseInterceptor || null }).\n    then(function (obj) {\n      _this2.originalSpec = _this2.spec;\n      _this2.spec = obj.spec;\n      _this2.errors = obj.errors;\n      return _this2;\n    });\n  } };\n\n\nSwagger.prototype.applyDefaults = function () {\n  var spec = this.spec;\n  var specUrl = this.url;\n  // TODO: OAS3: support servers here\n  if (specUrl && startsWith_default()(specUrl, 'http')) {\n    var parsed = external_url_default.a.parse(specUrl);\n    if (!spec.host) {\n      spec.host = parsed.host;\n    }\n    if (!spec.schemes) {\n      spec.schemes = [parsed.protocol.replace(':', '')];\n    }\n    if (!spec.basePath) {\n      spec.basePath = '/';\n    }\n  }\n};\n\n/* harmony default export */ var src = __webpack_exports__[\"default\"] = (Swagger);\n\n/***/ })\n/******/ ])[\"default\"];\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}
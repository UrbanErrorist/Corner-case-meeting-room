{"ast":null,"code":"import _slicedToArray from\"/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import List from\"@material-ui/core/List\";import ListItem from\"@material-ui/core/ListItem\";import{ListItemText,Paper}from\"@material-ui/core\";import axios from\"axios\";import{reactLocalStorage}from\"reactjs-localstorage\";import Typography from\"@material-ui/core/Typography\";import Box from\"@material-ui/core/Box\";import Button from\"@material-ui/core/Button\";var useStyles=makeStyles(function(theme){return{listPaper:{width:'100%',padding:'0 2%',cursor:'pointer'},roomTitle:{float:'left',margin:'5px'},roomSr:{float:'left',margin:'5px',marginRight:'20px'},numDays:{float:'right',margin:'0px 10% 0 0',transform:'translateY(-10%)',textAlign:'center',cursor:'pointer'},numDaysH3:{marginBottom:'5px'}};});function pad(num,size){var s=num+\"\";while(s.length<size){s=\"0\"+s;}return s;}function formatDate(d){return\"\"+pad(d.getFullYear(),4)+\"-\"+pad(d.getMonth()+1,2)+\"-\"+pad(d.getDate(),2);}function RowComponent(props){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),confirm=_React$useState2[0],setConfirm=_React$useState2[1];var ampmFrom=' AM',ampmTo=' AM';var from=parseInt(props.timeslot.time_from.split(':')[0]),to=parseInt(props.timeslot.time_to.split(':')[0]);if(from>12){from-=12;ampmFrom=' PM';}if(to>12){to-=12;ampmTo=' PM';}var handleConfirm=function handleConfirm(){setConfirm(true);};var handleBook=function handleBook(){axios.post(baseUrl+'/bookings',{date:formatDate(props.date),time_slot:props.timeslot.id},{headers:{'Authorization':'token '+reactLocalStorage.get('token')}}).then(function(){props.setDel(!props.del);}).catch(function(){});};return React.createElement(ListItem,null,React.createElement(Paper,{className:classes.listPaper,onClick:!confirm?handleConfirm:undefined},React.createElement(ListItemText,{className:classes.roomSr},React.createElement(\"h3\",null,props.sr)),React.createElement(ListItemText,{className:classes.roomTitle},React.createElement(\"h3\",null,from+':'+props.timeslot.time_from.split(':')[1]+ampmFrom)),React.createElement(Box,{color:\"text.secondary\",className:classes.roomTitle,style:{marginTop:'12px'}},React.createElement(\"h3\",null,\"to\")),React.createElement(ListItemText,{className:classes.roomTitle},React.createElement(\"h3\",null,to+':'+props.timeslot.time_to.split(':')[1]+ampmTo)),confirm&&React.createElement(\"div\",null,React.createElement(ListItem,null,React.createElement(Typography,{component:\"div\",style:{width:'100%',display:'block'}},React.createElement(Box,{color:\"text.secondary\",style:{marginTop:'0',fontWeight:'bold'}},\"Are you sure you want to book room \",props.room,\" on \",formatDate(props.date),\" from \",from+':'+props.timeslot.time_from.split(':')[1]+ampmFrom,\" to \",to+':'+props.timeslot.time_to.split(':')[1]+ampmTo,\" ?\"))),React.createElement(ListItemText,null,React.createElement(Button,{variant:\"outlined\",color:\"primary\",onClick:handleBook,style:{float:'right'}},\"YES\"),React.createElement(Button,{variant:\"outlined\",color:\"secondary\",onClick:function onClick(){setConfirm(false);},style:{float:'right',margin:'0 10px 10px 10px'}},\"NO\")))));}var baseUrl=\"\".concat(process.env.REACT_APP_HOST_BASE_URL);export default function TimeSlotsBooking(props){var rows=props.rows;return React.createElement(React.Fragment,null,React.createElement(List,null,rows.time_slots.map(function(row){var a=true;for(var j in row.bookings){var then=new Date(row.bookings[j].date);if(props.date&&then.getDate()===props.date.getDate()&&then.getMonth()===props.date.getMonth())a=false;}if(a)return React.createElement(RowComponent,{key:row.id,date:props.date,room:props.rows.name,timeslot:row,setDel:props.setDel,del:props.del});return null;}),!rows.time_slots.length&&React.createElement(Typography,{color:\"textSecondary\",style:{textAlign:'center'}},\"No timeslots available!\")));}","map":{"version":3,"sources":["/Users/blackhat/TV Shows/Meeting Room/src/frontend/src/components/customer/book/time-slots.component.jsx"],"names":["React","makeStyles","List","ListItem","ListItemText","Paper","axios","reactLocalStorage","Typography","Box","Button","useStyles","theme","listPaper","width","padding","cursor","roomTitle","float","margin","roomSr","marginRight","numDays","transform","textAlign","numDaysH3","marginBottom","pad","num","size","s","length","formatDate","d","getFullYear","getMonth","getDate","RowComponent","props","classes","useState","confirm","setConfirm","ampmFrom","ampmTo","from","parseInt","timeslot","time_from","split","to","time_to","handleConfirm","handleBook","post","baseUrl","date","time_slot","id","headers","get","then","setDel","del","catch","undefined","sr","marginTop","display","fontWeight","room","process","env","REACT_APP_HOST_BASE_URL","TimeSlotsBooking","rows","time_slots","map","row","a","j","bookings","Date","name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport {ListItemText, Paper} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport {reactLocalStorage} from \"reactjs-localstorage\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\n\nconst useStyles = makeStyles(theme => ({\n    listPaper: {\n        width: '100%',\n        padding: '0 2%',\n        cursor: 'pointer'\n    },\n    roomTitle: {\n        float: 'left',\n        margin: '5px'\n    },\n    roomSr: {\n        float: 'left',\n        margin: '5px',\n        marginRight: '20px'\n    },\n    numDays: {\n        float: 'right',\n        margin: '0px 10% 0 0',\n        transform: 'translateY(-10%)',\n        textAlign: 'center',\n        cursor: 'pointer'\n    },\n    numDaysH3: {\n        marginBottom: '5px'\n    }\n}));\n\nfunction pad(num, size) {\n    let s = num + \"\";\n    while (s.length < size) s = \"0\" + s;\n    return s;\n}\n\n\nfunction formatDate(d) {\n    return \"\" + pad(d.getFullYear(), 4) + \"-\" + pad(d.getMonth() + 1, 2) + \"-\" + pad(d.getDate(), 2);\n}\n\nfunction RowComponent(props) {\n    const classes = useStyles();\n    const [confirm, setConfirm] = React.useState(false);\n    let ampmFrom = ' AM', ampmTo = ' AM';\n    let from = parseInt(props.timeslot.time_from.split(':')[0]), to = parseInt(props.timeslot.time_to.split(':')[0]);\n    if (from > 12) {\n        from -= 12;\n        ampmFrom = ' PM';\n    }\n    if (to > 12) {\n        to -= 12;\n        ampmTo = ' PM';\n    }\n\n    const handleConfirm = () => {\n        setConfirm(true);\n    };\n\n    const handleBook = () => {\n        axios.post(baseUrl + '/bookings', {\n            date: formatDate(props.date),\n            time_slot: props.timeslot.id,\n        }, {headers: {'Authorization': 'token ' + reactLocalStorage.get('token')}}).then(() => {\n            props.setDel(!props.del);\n        }).catch(() => {\n        })\n    };\n\n    return (\n        <ListItem>\n            <Paper className={classes.listPaper} onClick={!confirm ? handleConfirm : undefined}>\n                <ListItemText className={classes.roomSr}>\n                    <h3>{props.sr}</h3>\n                </ListItemText>\n                <ListItemText className={classes.roomTitle}>\n                    <h3>{from + ':' + props.timeslot.time_from.split(':')[1] + ampmFrom}</h3>\n                </ListItemText>\n                <Box color=\"text.secondary\" className={classes.roomTitle} style={{marginTop: '12px'}}><h3>to</h3></Box>\n                <ListItemText className={classes.roomTitle}>\n                    <h3>{to + ':' + props.timeslot.time_to.split(':')[1] + ampmTo}</h3>\n                </ListItemText>\n                {confirm && <div><ListItem>\n                    <Typography component=\"div\" style={{width: '100%', display: 'block'}}>\n                        <Box color=\"text.secondary\" style={{marginTop: '0', fontWeight: 'bold'}}>\n                            Are you sure you want to book\n                            room {props.room} on {formatDate(props.date)} from {from + ':' + props.timeslot.time_from.split(':')[1] + ampmFrom} to {to + ':' + props.timeslot.time_to.split(':')[1] + ampmTo} ?\n                        </Box>\n                    </Typography>\n                </ListItem>\n                    <ListItemText>\n                        <Button variant=\"outlined\" color=\"primary\" onClick={handleBook}\n                                style={{float: 'right'}}>YES</Button>\n                        <Button variant=\"outlined\" color=\"secondary\" onClick={() => {\n                            setConfirm(false);\n                        }} style={{float: 'right', margin: '0 10px 10px 10px'}}>NO</Button>\n                    </ListItemText>\n                </div>}\n            </Paper>\n        </ListItem>\n    )\n}\n\nconst baseUrl = `${process.env.REACT_APP_HOST_BASE_URL}`;\n\nexport default function TimeSlotsBooking(props) {\n    const rows = props.rows;\n    return (\n        <React.Fragment>\n            <List>\n                {rows.time_slots.map(row => {\n                    let a = true;\n                    for (let j in row.bookings) {\n                        let then = new Date(row.bookings[j].date);\n                        if (props.date && then.getDate() === props.date.getDate() && then.getMonth() === props.date.getMonth())\n                            a = false;\n                    }\n                    if (a)\n                        return (\n                            <RowComponent key={row.id} date={props.date} room={props.rows.name} timeslot={row}\n                                          setDel={props.setDel}\n                                          del={props.del}/>)\n                    return null\n                })}\n                {!rows.time_slots.length &&\n                <Typography color=\"textSecondary\" style={{textAlign: 'center'}}>No timeslots available!</Typography>}\n            </List>\n        </React.Fragment>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}
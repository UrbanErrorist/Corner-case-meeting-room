{"ast":null,"code":"// Call dispose callback on each cache purge\n\"use strict\";\n\nvar callable = require(\"es5-ext/object/valid-callable\"),\n    forEach = require(\"es5-ext/object/for-each\"),\n    extensions = require(\"../lib/registered-extensions\"),\n    apply = Function.prototype.apply;\n\nextensions.dispose = function (dispose, conf, options) {\n  var del;\n  callable(dispose);\n\n  if (options.async && extensions.async || options.promise && extensions.promise) {\n    conf.on(\"deleteasync\", del = function (id, resultArray) {\n      apply.call(dispose, null, resultArray);\n    });\n    conf.on(\"clearasync\", function (cache) {\n      forEach(cache, function (result, id) {\n        del(id, result);\n      });\n    });\n    return;\n  }\n\n  conf.on(\"delete\", del = function (id, result) {\n    dispose(result);\n  });\n  conf.on(\"clear\", function (cache) {\n    forEach(cache, function (result, id) {\n      del(id, result);\n    });\n  });\n};","map":{"version":3,"sources":["/Users/blackhat/Desktop/testingRoom/src/frontend/node_modules/memoizee/ext/dispose.js"],"names":["callable","require","forEach","extensions","apply","Function","prototype","dispose","conf","options","del","async","promise","on","id","resultArray","call","cache","result"],"mappings":"AAAA;AAEA;;AAEA,IAAIA,QAAQ,GAAKC,OAAO,CAAC,+BAAD,CAAxB;AAAA,IACIC,OAAO,GAAMD,OAAO,CAAC,yBAAD,CADxB;AAAA,IAEIE,UAAU,GAAGF,OAAO,CAAC,8BAAD,CAFxB;AAAA,IAIIG,KAAK,GAAGC,QAAQ,CAACC,SAAT,CAAmBF,KAJ/B;;AAMAD,UAAU,CAACI,OAAX,GAAqB,UAAUA,OAAV,EAAmBC,IAAnB,EAAyBC,OAAzB,EAAkC;AACtD,MAAIC,GAAJ;AACAV,EAAAA,QAAQ,CAACO,OAAD,CAAR;;AACA,MAAKE,OAAO,CAACE,KAAR,IAAiBR,UAAU,CAACQ,KAA7B,IAAwCF,OAAO,CAACG,OAAR,IAAmBT,UAAU,CAACS,OAA1E,EAAoF;AACnFJ,IAAAA,IAAI,CAACK,EAAL,CAAQ,aAAR,EAAuBH,GAAG,GAAG,UAAUI,EAAV,EAAcC,WAAd,EAA2B;AACvDX,MAAAA,KAAK,CAACY,IAAN,CAAWT,OAAX,EAAoB,IAApB,EAA0BQ,WAA1B;AACA,KAFD;AAGAP,IAAAA,IAAI,CAACK,EAAL,CAAQ,YAAR,EAAsB,UAAUI,KAAV,EAAiB;AACtCf,MAAAA,OAAO,CAACe,KAAD,EAAQ,UAAUC,MAAV,EAAkBJ,EAAlB,EAAsB;AACvCJ,QAAAA,GAAG,CAACI,EAAD,EAAKI,MAAL,CAAH;AACA,OAFS,CAAP;AAGA,KAJD;AAKA;AACA;;AACDV,EAAAA,IAAI,CAACK,EAAL,CAAQ,QAAR,EAAkBH,GAAG,GAAG,UAAUI,EAAV,EAAcI,MAAd,EAAsB;AAC9CX,IAAAA,OAAO,CAACW,MAAD,CAAP;AACA,GAFA;AAGAV,EAAAA,IAAI,CAACK,EAAL,CAAQ,OAAR,EAAiB,UAAUI,KAAV,EAAiB;AACjCf,IAAAA,OAAO,CAACe,KAAD,EAAQ,UAAUC,MAAV,EAAkBJ,EAAlB,EAAsB;AACtCJ,MAAAA,GAAG,CAACI,EAAD,EAAKI,MAAL,CAAH;AACA,KAFQ,CAAP;AAGA,GAJD;AAKA,CAtBD","sourcesContent":["// Call dispose callback on each cache purge\n\n\"use strict\";\n\nvar callable   = require(\"es5-ext/object/valid-callable\")\n  , forEach    = require(\"es5-ext/object/for-each\")\n  , extensions = require(\"../lib/registered-extensions\")\n\n  , apply = Function.prototype.apply;\n\nextensions.dispose = function (dispose, conf, options) {\n\tvar del;\n\tcallable(dispose);\n\tif ((options.async && extensions.async) || (options.promise && extensions.promise)) {\n\t\tconf.on(\"deleteasync\", del = function (id, resultArray) {\n\t\t\tapply.call(dispose, null, resultArray);\n\t\t});\n\t\tconf.on(\"clearasync\", function (cache) {\n\t\t\tforEach(cache, function (result, id) {\n del(id, result);\n});\n\t\t});\n\t\treturn;\n\t}\n\tconf.on(\"delete\", del = function (id, result) {\n dispose(result);\n});\n\tconf.on(\"clear\", function (cache) {\n\t\tforEach(cache, function (result, id) {\n del(id, result);\n});\n\t});\n};\n"]},"metadata":{},"sourceType":"script"}
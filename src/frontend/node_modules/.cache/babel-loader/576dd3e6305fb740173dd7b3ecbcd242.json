{"ast":null,"code":"var _jsxFileName = \"/Users/blackhat/Desktop/testingRoom/src/frontend/src/components/room-manager/rooms/timeslots/time-slots-modal.component.jsx\";\nimport 'date-fns';\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Button from \"@material-ui/core/Button\";\nimport { FormGroup, FormHelperText, Paper } from \"@material-ui/core\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport axios from \"axios\";\nimport { reactLocalStorage } from \"reactjs-localstorage\";\nimport QueryBuilderIcon from \"@material-ui/icons/QueryBuilder\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { KeyboardTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport TimeSlots from \"./time-slots.component\";\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(3, 5, 4),\n    width: '35%'\n  },\n  closeBtn: {\n    float: 'right',\n    padding: '0'\n  },\n  timeslotsIcon: {\n    float: 'right',\n    margin: '33px 0px 0 ',\n    transform: 'translateY(-50%)',\n    cursor: 'pointer'\n  }\n}));\nconst baseUrl = `${process.env.REACT_APP_HOST_BASE_URL}`;\nexport default function TimeSlotsModal(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const [from, setFrom] = React.useState(new Date('2014-08-18T10:00:00'));\n  const [to, setTo] = React.useState(new Date('2014-08-18T18:00:00'));\n  const [errorText, setErrorText] = React.useState('');\n  const [del, setDel] = React.useState(false);\n  const [rows, setRows] = React.useState([]);\n\n  const handleSubmit = () => {\n    console.log(from.toTimeString().split(' '));\n    axios.post(baseUrl + '/timeslots', {\n      time_from: from.toTimeString().split(' ')[0],\n      time_to: to.toTimeString().split(' ')[0],\n      room_id: props.roomId\n    }, {\n      headers: {\n        'Authorization': 'token ' + reactLocalStorage.get('token')\n      }\n    }).then(() => {\n      setDel(!del);\n      props.setDel(!props.del);\n    }).catch(e => {\n      let err = '';\n      let data = e.response.data;\n\n      for (let d in data) for (let i in data[d]) err += data[d][i];\n\n      setErrorText(err);\n    });\n  };\n\n  useEffect(() => {\n    axios.get(baseUrl + '/timeslots?room_id=' + props.roomId, {\n      headers: {\n        'Authorization': 'token ' + reactLocalStorage.get('token')\n      }\n    }).then(res => {\n      setRows(res.data);\n    });\n  }, [del]);\n\n  const handleFromChange = e => {\n    setFrom(e);\n  };\n\n  const handleToChange = e => {\n    setTo(e);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    className: classes.timeslotsIcon,\n    onClick: handleOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(QueryBuilderIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), React.createElement(Modal, {\n    \"aria-labelledby\": \"transition-modal-title\",\n    \"aria-describedby\": \"transition-modal-description\",\n    className: classes.modal,\n    open: open,\n    onClose: handleClose,\n    closeAfterTransition: true,\n    BackdropComponent: Backdrop,\n    BackdropProps: {\n      timeout: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(Fade, {\n    in: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    className: classes.closeBtn,\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(CloseIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), React.createElement(\"h1\", {\n    id: \"transition-modal-title\",\n    style: {\n      textAlign: 'center',\n      marginBottom: '5px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Manage TimeSlots\"), React.createElement(Typography, {\n    color: \"textSecondary\",\n    style: {\n      textAlign: 'center',\n      marginBottom: '30px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"for \", props.roomName, \" room \"), rows.map((row, ind) => {\n    return React.createElement(TimeSlots, {\n      key: row.id,\n      rows: [{\n        sr: ind + 1,\n        id: row.id,\n        time_from: row.time_from,\n        time_to: row.time_to\n      }],\n      del: del,\n      setDel: setDel,\n      delP: props.del,\n      setDelP: props.setDel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    });\n  }), React.createElement(FormGroup, {\n    style: {\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(MuiPickersUtilsProvider, {\n    utils: DateFnsUtils,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(KeyboardTimePicker, {\n    margin: \"normal\",\n    id: \"time-picker\",\n    label: \"Time From\",\n    value: from,\n    onChange: handleFromChange,\n    KeyboardButtonProps: {\n      'aria-label': 'change time'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }), React.createElement(KeyboardTimePicker, {\n    margin: \"normal\",\n    id: \"time-picker\",\n    label: \"Time To\",\n    value: to,\n    onChange: handleToChange,\n    KeyboardButtonProps: {\n      'aria-label': 'change time'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  })), React.createElement(FormHelperText, {\n    error: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, errorText), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"contained\",\n    style: {\n      width: '50%'\n    },\n    color: \"primary\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"Add Slot\"))))));\n}","map":{"version":3,"sources":["/Users/blackhat/Desktop/testingRoom/src/frontend/src/components/room-manager/rooms/timeslots/time-slots-modal.component.jsx"],"names":["React","useEffect","makeStyles","Modal","Backdrop","Fade","Button","FormGroup","FormHelperText","Paper","CloseIcon","IconButton","axios","reactLocalStorage","QueryBuilderIcon","Typography","KeyboardTimePicker","MuiPickersUtilsProvider","DateFnsUtils","TimeSlots","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","boxShadow","shadows","padding","spacing","width","closeBtn","float","timeslotsIcon","margin","transform","cursor","baseUrl","process","env","REACT_APP_HOST_BASE_URL","TimeSlotsModal","props","classes","open","setOpen","useState","handleOpen","handleClose","from","setFrom","Date","to","setTo","errorText","setErrorText","del","setDel","rows","setRows","handleSubmit","console","log","toTimeString","split","post","time_from","time_to","room_id","roomId","headers","get","then","catch","e","err","data","response","d","i","res","handleFromChange","handleToChange","timeout","textAlign","marginBottom","roomName","map","row","ind","id","sr"],"mappings":"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","sourcesContent":["import 'date-fns';\nimport React, {useEffect} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Button from \"@material-ui/core/Button\";\nimport {FormGroup, FormHelperText, Paper} from \"@material-ui/core\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport axios from \"axios\";\nimport {reactLocalStorage} from \"reactjs-localstorage\";\nimport QueryBuilderIcon from \"@material-ui/icons/QueryBuilder\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {KeyboardTimePicker, MuiPickersUtilsProvider,} from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport TimeSlots from \"./time-slots.component\";\n\nconst useStyles = makeStyles(theme => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    paper: {\n        backgroundColor: theme.palette.background.paper,\n        boxShadow: theme.shadows[5],\n        padding: theme.spacing(3, 5, 4),\n        width: '35%',\n    },\n    closeBtn: {\n        float: 'right',\n        padding: '0'\n    },\n    timeslotsIcon: {\n        float: 'right',\n        margin: '33px 0px 0 ',\n        transform: 'translateY(-50%)',\n        cursor: 'pointer'\n    },\n}));\n\nconst baseUrl = `${process.env.REACT_APP_HOST_BASE_URL}`;\n\nexport default function TimeSlotsModal(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const [from, setFrom] = React.useState(new Date('2014-08-18T10:00:00'));\n    const [to, setTo] = React.useState(new Date('2014-08-18T18:00:00'));\n    const [errorText, setErrorText] = React.useState('');\n    const [del, setDel] = React.useState(false);\n    const [rows, setRows] = React.useState([]);\n\n    const handleSubmit = () => {\n        console.log(from.toTimeString().split(' '));\n        axios.post(baseUrl + '/timeslots', {\n            time_from: from.toTimeString().split(' ')[0],\n            time_to: to.toTimeString().split(' ')[0],\n            room_id: props.roomId\n        }, {headers: {'Authorization': 'token ' + reactLocalStorage.get('token')}}).then(() => {\n            setDel(!del);\n            props.setDel(!props.del);\n        }).catch(e => {\n            let err = '';\n            let data = e.response.data;\n            for (let d in data)\n                for (let i in data[d])\n                    err += data[d][i];\n            setErrorText(err);\n        })\n    };\n\n    useEffect(() => {\n        axios.get(baseUrl + '/timeslots?room_id=' + props.roomId, {headers: {'Authorization': 'token ' + reactLocalStorage.get('token')}}).then((res) => {\n            setRows(res.data);\n        })\n    }, [del]);\n\n    const handleFromChange = (e) => {\n        setFrom(e);\n    };\n\n    const handleToChange = (e) => {\n        setTo(e);\n    };\n\n    return (\n        <div>\n            <IconButton\n                className={classes.timeslotsIcon}\n                onClick={handleOpen}\n            >\n                <QueryBuilderIcon/>\n            </IconButton>\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                className={classes.modal}\n                open={open}\n                onClose={handleClose}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={open}>\n                    <Paper className={classes.paper}>\n                        <IconButton className={classes.closeBtn} onClick={handleClose}>\n                            <CloseIcon/>\n                        </IconButton>\n                        <h1 id=\"transition-modal-title\" style={{textAlign: 'center', marginBottom: '5px'}}>Manage\n                            TimeSlots</h1>\n                        <Typography color='textSecondary' style={{\n                            textAlign: 'center',\n                            marginBottom: '30px'\n                        }}>for {props.roomName} room </Typography>\n\n                        {rows.map((row, ind) => {\n                            return (\n                                <TimeSlots key={row.id} rows={[{\n                                    sr: ind + 1,\n                                    id: row.id,\n                                    time_from: row.time_from,\n                                    time_to: row.time_to\n                                }]} del={del} setDel={setDel} delP={props.del} setDelP={props.setDel}/>\n                            )\n                        })}\n\n\n                        <FormGroup style={{alignItems: 'center'}}>\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                                <KeyboardTimePicker\n                                    margin=\"normal\"\n                                    id=\"time-picker\"\n                                    label=\"Time From\"\n                                    value={from}\n                                    onChange={handleFromChange}\n                                    KeyboardButtonProps={{\n                                        'aria-label': 'change time',\n                                    }}\n                                />\n                                <KeyboardTimePicker\n                                    margin=\"normal\"\n                                    id=\"time-picker\"\n                                    label=\"Time To\"\n                                    value={to}\n                                    onChange={handleToChange}\n                                    KeyboardButtonProps={{\n                                        'aria-label': 'change time',\n                                    }}\n                                />\n                            </MuiPickersUtilsProvider>\n                            <FormHelperText error>{errorText}</FormHelperText><br/>\n                            <Button variant=\"contained\" style={{width: '50%'}} color=\"primary\" onClick={handleSubmit}>\n                                Add Slot\n                            </Button>\n                        </FormGroup>\n                    </Paper>\n                </Fade>\n            </Modal>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}
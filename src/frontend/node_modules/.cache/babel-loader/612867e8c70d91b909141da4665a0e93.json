{"ast":null,"code":"import _slicedToArray from\"/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Typography from'@material-ui/core/Typography';import IconButton from'@material-ui/core/IconButton';import MenuIcon from'@material-ui/icons/Menu';import AccountCircle from'@material-ui/icons/AccountCircle';import MenuItem from'@material-ui/core/MenuItem';import Menu from'@material-ui/core/Menu';import{reactLocalStorage}from'reactjs-localstorage';import Button from\"@material-ui/core/Button\";// noinspection ES6CheckImport\nimport{useHistory}from\"react-router-dom\";import clsx from\"clsx\";import ChevronLeftIcon from\"@material-ui/icons/ChevronLeft\";import Divider from\"@material-ui/core/Divider\";import List from\"@material-ui/core/List\";import Drawer from\"@material-ui/core/Drawer\";import ListItem from\"@material-ui/core/ListItem\";import ListItemIcon from\"@material-ui/core/ListItemIcon\";import DashboardIcon from\"@material-ui/icons/Dashboard\";import ListItemText from\"@material-ui/core/ListItemText\";import ListSubheader from\"@material-ui/core/ListSubheader\";import AddIcon from'@material-ui/icons/Add';import ExitToAppIcon from'@material-ui/icons/ExitToApp';import EditIcon from'@material-ui/icons/Edit';var drawerWidth=340;var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},menuButton:{marginRight:theme.spacing(2)},toolbar:{paddingRight:24// keep right padding when drawer closed\n},toolbarIcon:_objectSpread({display:'flex',alignItems:'center',justifyContent:'flex-end',padding:'0 8px'},theme.mixins.toolbar),appBar:{position:'absolute',zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create(['width','margin'],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},appBarShift:{marginLeft:drawerWidth,width:\"calc(100% - \".concat(drawerWidth,\"px)\"),transition:theme.transitions.create(['width','margin'],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},menuButtonHidden:{display:'none'},title:{flexGrow:1},drawerPaper:{position:'absolute',whiteSpace:'nowrap',width:drawerWidth,transition:theme.transitions.create('width',{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},drawerPaperClose:_defineProperty({overflowX:'hidden',transition:theme.transitions.create('width',{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),width:theme.spacing(7)},theme.breakpoints.up('sm'),{width:theme.spacing(9)})};});export default function MenuAppBar(props){var classes=useStyles();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var _React$useState3=React.useState(props.auth===true),_React$useState4=_slicedToArray(_React$useState3,2),open=_React$useState4[0],setOpen=_React$useState4[1];var openMenu=Boolean(anchorEl);var history=useHistory();var handleMenu=function handleMenu(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var handleLogout=function handleLogout(){props.setAuth(false);reactLocalStorage.remove('token');reactLocalStorage.remove('role');handleClose();};var handleGoToLogin=function handleGoToLogin(){props.history.push('/login');};var handleGoToHome=function handleGoToHome(){props.history.replace('/');};var handleDrawerOpen=function handleDrawerOpen(){setOpen(true);};var handleDrawerClose=function handleDrawerClose(){setOpen(false);};return React.createElement(\"div\",{className:classes.root},React.createElement(AppBar,{className:clsx(classes.appBar,open&&classes.appBarShift)},React.createElement(Toolbar,{className:classes.toolbar},props.auth&&React.createElement(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"open drawer\",onClick:handleDrawerOpen,className:clsx(classes.menuButton,open&&classes.menuButtonHidden)},React.createElement(MenuIcon,null)),React.createElement(Typography,{variant:\"h6\",className:classes.title,onClick:handleGoToHome},props.title),props.auth&&React.createElement(\"div\",null,React.createElement(IconButton,{\"aria-label\":\"account of current user\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:handleMenu,color:\"inherit\"},React.createElement(AccountCircle,null)),React.createElement(Menu,{id:\"menu-appbar\",anchorEl:anchorEl,anchorOrigin:{vertical:'top',horizontal:'right'},keepMounted:true,transformOrigin:{vertical:'top',horizontal:'right'},open:openMenu,onClose:handleClose},React.createElement(MenuItem,{onClick:function onClick(){props.history.push('/profile');handleClose();}},\"Profile\"),React.createElement(MenuItem,{onClick:handleLogout},\"Logout\"))),!props.auth&&React.createElement(Button,{color:\"inherit\",onClick:handleGoToLogin},\"Login\"))),props.auth&&React.createElement(Drawer,{position:\"absolute\",variant:\"permanent\",classes:{paper:clsx(classes.drawerPaper,!open&&classes.drawerPaperClose)},open:open},React.createElement(\"div\",{className:classes.toolbarIcon},React.createElement(IconButton,{onClick:handleDrawerClose},React.createElement(ChevronLeftIcon,null))),React.createElement(Divider,null),React.createElement(List,null,props.role==='customer'&&React.createElement(\"div\",null,React.createElement(ListItem,{button:true,onClick:function onClick(){history.push('/');}},React.createElement(ListItemIcon,null,React.createElement(DashboardIcon,null)),React.createElement(ListItemText,{primary:\"Customer Dashboard\"})),React.createElement(ListItem,{button:true,onClick:function onClick(){history.push('/book');}},React.createElement(ListItemIcon,null,React.createElement(AddIcon,null)),React.createElement(ListItemText,{primary:\"Book a new room\"}))),props.role==='roomManager'&&React.createElement(\"div\",null,React.createElement(ListItem,{button:true,onClick:function onClick(){history.push('/');}},React.createElement(ListItemIcon,null,React.createElement(DashboardIcon,null)),React.createElement(ListItemText,{primary:\"Room Manager Dashboard\"})),React.createElement(ListItem,{button:true,onClick:function onClick(){history.push('/rooms');}},React.createElement(ListItemIcon,null,React.createElement(EditIcon,null)),React.createElement(ListItemText,{primary:\"Manage Rooms and TimeSlots\"})))),React.createElement(Divider,null),React.createElement(List,null,React.createElement(\"div\",null,React.createElement(ListSubheader,{inset:true},\"Account\"),React.createElement(ListItem,{button:true,onClick:function onClick(){props.history.push('/profile');}},React.createElement(ListItemIcon,null,React.createElement(AccountCircle,null)),React.createElement(ListItemText,{primary:\"Profile\"})),React.createElement(ListItem,{button:true,onClick:handleLogout},React.createElement(ListItemIcon,null,React.createElement(ExitToAppIcon,null)),React.createElement(ListItemText,{primary:\"Logout\"}))))));}","map":{"version":3,"sources":["/Users/blackhat/TV Shows/Meeting Room/src/frontend/src/components/app-bar/app-bar.component.jsx"],"names":["React","makeStyles","AppBar","Toolbar","Typography","IconButton","MenuIcon","AccountCircle","MenuItem","Menu","reactLocalStorage","Button","useHistory","clsx","ChevronLeftIcon","Divider","List","Drawer","ListItem","ListItemIcon","DashboardIcon","ListItemText","ListSubheader","AddIcon","ExitToAppIcon","EditIcon","drawerWidth","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","toolbar","paddingRight","toolbarIcon","display","alignItems","justifyContent","padding","mixins","appBar","position","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButtonHidden","title","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","MenuAppBar","props","classes","useState","anchorEl","setAnchorEl","auth","open","setOpen","openMenu","Boolean","history","handleMenu","event","currentTarget","handleClose","handleLogout","setAuth","remove","handleGoToLogin","push","handleGoToHome","replace","handleDrawerOpen","handleDrawerClose","vertical","horizontal","paper","role"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport {reactLocalStorage} from 'reactjs-localstorage'\nimport Button from \"@material-ui/core/Button\";\n// noinspection ES6CheckImport\nimport {useHistory} from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport AddIcon from '@material-ui/icons/Add';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst drawerWidth = 340;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    toolbar: {\n        paddingRight: 24, // keep right padding when drawer closed\n    },\n    toolbarIcon: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        padding: '0 8px',\n        ...theme.mixins.toolbar,\n    },\n    appBar: {\n        position: 'absolute',\n        zIndex: theme.zIndex.drawer + 1,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    appBarShift: {\n        marginLeft: drawerWidth,\n        width: `calc(100% - ${drawerWidth}px)`,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    menuButtonHidden: {\n        display: 'none',\n    },\n    title: {\n        flexGrow: 1,\n    },\n    drawerPaper: {\n        position: 'absolute',\n        whiteSpace: 'nowrap',\n        width: drawerWidth,\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    drawerPaperClose: {\n        overflowX: 'hidden',\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        width: theme.spacing(7),\n        [theme.breakpoints.up('sm')]: {\n            width: theme.spacing(9),\n        },\n    },\n}));\n\nexport default function MenuAppBar(props) {\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [open, setOpen] = React.useState(props.auth===true);\n    const openMenu = Boolean(anchorEl);\n    const history = useHistory();\n\n\n    const handleMenu = event => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const handleLogout = () => {\n        props.setAuth(false);\n        reactLocalStorage.remove('token');\n        reactLocalStorage.remove('role');\n        handleClose();\n    };\n\n    const handleGoToLogin = () => {\n        props.history.push('/login')\n    };\n\n    const handleGoToHome = () => {\n        props.history.replace('/');\n    };\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <div className={classes.root}>\n            <AppBar className={clsx(classes.appBar, open && classes.appBarShift)}>\n                <Toolbar className={classes.toolbar}>\n                    {props.auth && <IconButton\n                        edge=\"start\"\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\n                    >\n                        <MenuIcon/>\n                    </IconButton>}\n                    <Typography variant=\"h6\" className={classes.title} onClick={handleGoToHome}>\n                        {props.title}\n                    </Typography>\n                    {props.auth && (\n                        <div>\n                            <IconButton\n                                aria-label=\"account of current user\"\n                                aria-controls=\"menu-appbar\"\n                                aria-haspopup=\"true\"\n                                onClick={handleMenu}\n                                color=\"inherit\"\n                            >\n                                <AccountCircle/>\n                            </IconButton>\n                            <Menu\n                                id=\"menu-appbar\"\n                                anchorEl={anchorEl}\n                                anchorOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'right',\n                                }}\n                                keepMounted\n                                transformOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'right',\n                                }}\n                                open={openMenu}\n                                onClose={handleClose}\n                            >\n                                <MenuItem onClick={() => {\n                                    props.history.push('/profile');\n                                    handleClose()\n                                }}>Profile</MenuItem>\n                                <MenuItem onClick={handleLogout}>Logout</MenuItem>\n                            </Menu>\n                        </div>\n                    )}\n                    {!props.auth && <Button color=\"inherit\" onClick={handleGoToLogin}>Login</Button>}\n                </Toolbar>\n            </AppBar>\n            {props.auth && <Drawer\n                position=\"absolute\"\n                variant=\"permanent\"\n                classes={{\n                    paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n                }}\n                open={open}\n            >\n                <div className={classes.toolbarIcon}>\n                    <IconButton onClick={handleDrawerClose}>\n                        <ChevronLeftIcon/>\n                    </IconButton>\n                </div>\n                <Divider/>\n                <List>\n                    {props.role === 'customer' && <div>\n                        <ListItem button onClick={() => {\n                            history.push('/')\n                        }}>\n                            <ListItemIcon>\n                                <DashboardIcon/>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Customer Dashboard\"/>\n                        </ListItem>\n                        <ListItem button onClick={() => {\n                            history.push('/book')\n                        }}>\n                            <ListItemIcon>\n                                <AddIcon/>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Book a new room\"/>\n                        </ListItem>\n                    </div>}\n                    {props.role === 'roomManager' && <div>\n                        <ListItem button onClick={() => {\n                            history.push('/')\n                        }}>\n                            <ListItemIcon>\n                                <DashboardIcon/>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Room Manager Dashboard\"/>\n                        </ListItem>\n                        <ListItem button onClick={() => {\n                            history.push('/rooms')\n                        }}>\n                            <ListItemIcon>\n                                <EditIcon/>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Manage Rooms and TimeSlots\"/>\n                        </ListItem>\n                    </div>}\n                </List>\n                <Divider/>\n                <List>\n                    <div>\n                        <ListSubheader inset>Account</ListSubheader>\n                        <ListItem button onClick={() => {\n                            props.history.push('/profile')\n                        }}>\n                            <ListItemIcon>\n                                <AccountCircle/>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Profile\"/>\n                        </ListItem>\n                        <ListItem button onClick={handleLogout}>\n                            <ListItemIcon>\n                                <ExitToAppIcon/>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Logout\"/>\n                        </ListItem>\n                    </div>\n                </List>\n            </Drawer>}\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}
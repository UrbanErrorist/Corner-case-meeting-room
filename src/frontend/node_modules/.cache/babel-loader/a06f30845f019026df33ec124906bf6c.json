{"ast":null,"code":"'use strict';\n/**\n * Local dependencies\n */\n\nvar has = require('./common/utils').has;\n\nvar unescapeMd = require('./common/utils').unescapeMd;\n\nvar replaceEntities = require('./common/utils').replaceEntities;\n\nvar escapeHtml = require('./common/utils').escapeHtml;\n/**\n * Renderer rules cache\n */\n\n\nvar rules = {};\n/**\n * Blockquotes\n */\n\nrules.blockquote_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<blockquote>\\n';\n};\n\nrules.blockquote_close = function (tokens, idx\n/*, options, env */\n) {\n  return '</blockquote>' + getBreak(tokens, idx);\n};\n/**\n * Code\n */\n\n\nrules.code = function (tokens, idx\n/*, options, env */\n) {\n  if (tokens[idx].block) {\n    return '<pre><code>' + escapeHtml(tokens[idx].content) + '</code></pre>' + getBreak(tokens, idx);\n  }\n\n  return '<code>' + escapeHtml(tokens[idx].content) + '</code>';\n};\n/**\n * Fenced code blocks\n */\n\n\nrules.fence = function (tokens, idx, options, env, instance) {\n  var token = tokens[idx];\n  var langClass = '';\n  var langPrefix = options.langPrefix;\n  var langName = '',\n      fences,\n      fenceName;\n  var highlighted;\n\n  if (token.params) {\n    //\n    // ```foo bar\n    //\n    // Try custom renderer \"foo\" first. That will simplify overwrite\n    // for diagrams, latex, and any other fenced block with custom look\n    //\n    fences = token.params.split(/\\s+/g);\n    fenceName = fences.join(' ');\n\n    if (has(instance.rules.fence_custom, fences[0])) {\n      return instance.rules.fence_custom[fences[0]](tokens, idx, options, env, instance);\n    }\n\n    langName = escapeHtml(replaceEntities(unescapeMd(fenceName)));\n    langClass = ' class=\"' + langPrefix + langName + '\"';\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight.apply(options.highlight, [token.content].concat(fences)) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  return '<pre><code' + langClass + '>' + highlighted + '</code></pre>' + getBreak(tokens, idx);\n};\n\nrules.fence_custom = {};\n/**\n * Headings\n */\n\nrules.heading_open = function (tokens, idx\n/*, options, env */\n) {\n  return '<h' + tokens[idx].hLevel + '>';\n};\n\nrules.heading_close = function (tokens, idx\n/*, options, env */\n) {\n  return '</h' + tokens[idx].hLevel + '>\\n';\n};\n/**\n * Horizontal rules\n */\n\n\nrules.hr = function (tokens, idx, options\n/*, env */\n) {\n  return (options.xhtmlOut ? '<hr />' : '<hr>') + getBreak(tokens, idx);\n};\n/**\n * Bullets\n */\n\n\nrules.bullet_list_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<ul>\\n';\n};\n\nrules.bullet_list_close = function (tokens, idx\n/*, options, env */\n) {\n  return '</ul>' + getBreak(tokens, idx);\n};\n/**\n * List items\n */\n\n\nrules.list_item_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<li>';\n};\n\nrules.list_item_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</li>\\n';\n};\n/**\n * Ordered list items\n */\n\n\nrules.ordered_list_open = function (tokens, idx\n/*, options, env */\n) {\n  var token = tokens[idx];\n  var order = token.order > 1 ? ' start=\"' + token.order + '\"' : '';\n  return '<ol' + order + '>\\n';\n};\n\nrules.ordered_list_close = function (tokens, idx\n/*, options, env */\n) {\n  return '</ol>' + getBreak(tokens, idx);\n};\n/**\n * Paragraphs\n */\n\n\nrules.paragraph_open = function (tokens, idx\n/*, options, env */\n) {\n  return tokens[idx].tight ? '' : '<p>';\n};\n\nrules.paragraph_close = function (tokens, idx\n/*, options, env */\n) {\n  var addBreak = !(tokens[idx].tight && idx && tokens[idx - 1].type === 'inline' && !tokens[idx - 1].content);\n  return (tokens[idx].tight ? '' : '</p>') + (addBreak ? getBreak(tokens, idx) : '');\n};\n/**\n * Links\n */\n\n\nrules.link_open = function (tokens, idx, options\n/* env */\n) {\n  var title = tokens[idx].title ? ' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"' : '';\n  var target = options.linkTarget ? ' target=\"' + options.linkTarget + '\"' : '';\n  return '<a href=\"' + escapeHtml(tokens[idx].href) + '\"' + title + target + '>';\n};\n\nrules.link_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</a>';\n};\n/**\n * Images\n */\n\n\nrules.image = function (tokens, idx, options\n/*, env */\n) {\n  var src = ' src=\"' + escapeHtml(tokens[idx].src) + '\"';\n  var title = tokens[idx].title ? ' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"' : '';\n  var alt = ' alt=\"' + (tokens[idx].alt ? escapeHtml(replaceEntities(unescapeMd(tokens[idx].alt))) : '') + '\"';\n  var suffix = options.xhtmlOut ? ' /' : '';\n  return '<img' + src + alt + title + suffix + '>';\n};\n/**\n * Tables\n */\n\n\nrules.table_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<table>\\n';\n};\n\nrules.table_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</table>\\n';\n};\n\nrules.thead_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<thead>\\n';\n};\n\nrules.thead_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</thead>\\n';\n};\n\nrules.tbody_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<tbody>\\n';\n};\n\nrules.tbody_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</tbody>\\n';\n};\n\nrules.tr_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<tr>';\n};\n\nrules.tr_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</tr>\\n';\n};\n\nrules.th_open = function (tokens, idx\n/*, options, env */\n) {\n  var token = tokens[idx];\n  return '<th' + (token.align ? ' style=\"text-align:' + token.align + '\"' : '') + '>';\n};\n\nrules.th_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</th>';\n};\n\nrules.td_open = function (tokens, idx\n/*, options, env */\n) {\n  var token = tokens[idx];\n  return '<td' + (token.align ? ' style=\"text-align:' + token.align + '\"' : '') + '>';\n};\n\nrules.td_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</td>';\n};\n/**\n * Bold\n */\n\n\nrules.strong_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<strong>';\n};\n\nrules.strong_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</strong>';\n};\n/**\n * Italicize\n */\n\n\nrules.em_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<em>';\n};\n\nrules.em_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</em>';\n};\n/**\n * Strikethrough\n */\n\n\nrules.del_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<del>';\n};\n\nrules.del_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</del>';\n};\n/**\n * Insert\n */\n\n\nrules.ins_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<ins>';\n};\n\nrules.ins_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</ins>';\n};\n/**\n * Highlight\n */\n\n\nrules.mark_open = function ()\n/* tokens, idx, options, env */\n{\n  return '<mark>';\n};\n\nrules.mark_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</mark>';\n};\n/**\n * Super- and sub-script\n */\n\n\nrules.sub = function (tokens, idx\n/*, options, env */\n) {\n  return '<sub>' + escapeHtml(tokens[idx].content) + '</sub>';\n};\n\nrules.sup = function (tokens, idx\n/*, options, env */\n) {\n  return '<sup>' + escapeHtml(tokens[idx].content) + '</sup>';\n};\n/**\n * Breaks\n */\n\n\nrules.hardbreak = function (tokens, idx, options\n/*, env */\n) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\n\nrules.softbreak = function (tokens, idx, options\n/*, env */\n) {\n  return options.breaks ? options.xhtmlOut ? '<br />\\n' : '<br>\\n' : '\\n';\n};\n/**\n * Text\n */\n\n\nrules.text = function (tokens, idx\n/*, options, env */\n) {\n  return escapeHtml(tokens[idx].content);\n};\n/**\n * Content\n */\n\n\nrules.htmlblock = function (tokens, idx\n/*, options, env */\n) {\n  return tokens[idx].content;\n};\n\nrules.htmltag = function (tokens, idx\n/*, options, env */\n) {\n  return tokens[idx].content;\n};\n/**\n * Abbreviations, initialism\n */\n\n\nrules.abbr_open = function (tokens, idx\n/*, options, env */\n) {\n  return '<abbr title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\">';\n};\n\nrules.abbr_close = function ()\n/* tokens, idx, options, env */\n{\n  return '</abbr>';\n};\n/**\n * Footnotes\n */\n\n\nrules.footnote_ref = function (tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n\n  return '<sup class=\"footnote-ref\"><a href=\"#fn' + n + '\" id=\"' + id + '\">[' + n + ']</a></sup>';\n};\n\nrules.footnote_block_open = function (tokens, idx, options) {\n  var hr = options.xhtmlOut ? '<hr class=\"footnotes-sep\" />\\n' : '<hr class=\"footnotes-sep\">\\n';\n  return hr + '<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n';\n};\n\nrules.footnote_block_close = function () {\n  return '</ol>\\n</section>\\n';\n};\n\nrules.footnote_open = function (tokens, idx) {\n  var id = Number(tokens[idx].id + 1).toString();\n  return '<li id=\"fn' + id + '\"  class=\"footnote-item\">';\n};\n\nrules.footnote_close = function () {\n  return '</li>\\n';\n};\n\nrules.footnote_anchor = function (tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n\n  return ' <a href=\"#' + id + '\" class=\"footnote-backref\">↩</a>';\n};\n/**\n * Definition lists\n */\n\n\nrules.dl_open = function () {\n  return '<dl>\\n';\n};\n\nrules.dt_open = function () {\n  return '<dt>';\n};\n\nrules.dd_open = function () {\n  return '<dd>';\n};\n\nrules.dl_close = function () {\n  return '</dl>\\n';\n};\n\nrules.dt_close = function () {\n  return '</dt>\\n';\n};\n\nrules.dd_close = function () {\n  return '</dd>\\n';\n};\n/**\n * Helper functions\n */\n\n\nfunction nextToken(tokens, idx) {\n  if (++idx >= tokens.length - 2) {\n    return idx;\n  }\n\n  if (tokens[idx].type === 'paragraph_open' && tokens[idx].tight && tokens[idx + 1].type === 'inline' && tokens[idx + 1].content.length === 0 && tokens[idx + 2].type === 'paragraph_close' && tokens[idx + 2].tight) {\n    return nextToken(tokens, idx + 2);\n  }\n\n  return idx;\n}\n/**\n * Check to see if `\\n` is needed before the next token.\n *\n * @param  {Array} `tokens`\n * @param  {Number} `idx`\n * @return {String} Empty string or newline\n * @api private\n */\n\n\nvar getBreak = rules.getBreak = function getBreak(tokens, idx) {\n  idx = nextToken(tokens, idx);\n\n  if (idx < tokens.length && tokens[idx].type === 'list_item_close') {\n    return '';\n  }\n\n  return '\\n';\n};\n/**\n * Expose `rules`\n */\n\n\nmodule.exports = rules;","map":{"version":3,"sources":["/Users/blackhat/Desktop/testingRoom/src/frontend/node_modules/remarkable/lib/rules.js"],"names":["has","require","unescapeMd","replaceEntities","escapeHtml","rules","blockquote_open","blockquote_close","tokens","idx","getBreak","code","block","content","fence","options","env","instance","token","langClass","langPrefix","langName","fences","fenceName","highlighted","params","split","join","fence_custom","highlight","apply","concat","heading_open","hLevel","heading_close","hr","xhtmlOut","bullet_list_open","bullet_list_close","list_item_open","list_item_close","ordered_list_open","order","ordered_list_close","paragraph_open","tight","paragraph_close","addBreak","type","link_open","title","target","linkTarget","href","link_close","image","src","alt","suffix","table_open","table_close","thead_open","thead_close","tbody_open","tbody_close","tr_open","tr_close","th_open","align","th_close","td_open","td_close","strong_open","strong_close","em_open","em_close","del_open","del_close","ins_open","ins_close","mark_open","mark_close","sub","sup","hardbreak","softbreak","breaks","text","htmlblock","htmltag","abbr_open","abbr_close","footnote_ref","n","Number","id","toString","subId","footnote_block_open","footnote_block_close","footnote_open","footnote_close","footnote_anchor","dl_open","dt_open","dd_open","dl_close","dt_close","dd_close","nextToken","length","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\n/**\n * Local dependencies\n */\n\nvar has             = require('./common/utils').has;\nvar unescapeMd      = require('./common/utils').unescapeMd;\nvar replaceEntities = require('./common/utils').replaceEntities;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n/**\n * Renderer rules cache\n */\n\nvar rules = {};\n\n/**\n * Blockquotes\n */\n\nrules.blockquote_open = function(/* tokens, idx, options, env */) {\n  return '<blockquote>\\n';\n};\n\nrules.blockquote_close = function(tokens, idx /*, options, env */) {\n  return '</blockquote>' + getBreak(tokens, idx);\n};\n\n/**\n * Code\n */\n\nrules.code = function(tokens, idx /*, options, env */) {\n  if (tokens[idx].block) {\n    return '<pre><code>' + escapeHtml(tokens[idx].content) + '</code></pre>' + getBreak(tokens, idx);\n  }\n  return '<code>' + escapeHtml(tokens[idx].content) + '</code>';\n};\n\n/**\n * Fenced code blocks\n */\n\nrules.fence = function(tokens, idx, options, env, instance) {\n  var token = tokens[idx];\n  var langClass = '';\n  var langPrefix = options.langPrefix;\n  var langName = '', fences, fenceName;\n  var highlighted;\n\n  if (token.params) {\n\n    //\n    // ```foo bar\n    //\n    // Try custom renderer \"foo\" first. That will simplify overwrite\n    // for diagrams, latex, and any other fenced block with custom look\n    //\n\n    fences = token.params.split(/\\s+/g);\n    fenceName = fences.join(' ');\n\n    if (has(instance.rules.fence_custom, fences[0])) {\n      return instance.rules.fence_custom[fences[0]](tokens, idx, options, env, instance);\n    }\n\n    langName = escapeHtml(replaceEntities(unescapeMd(fenceName)));\n    langClass = ' class=\"' + langPrefix + langName + '\"';\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight.apply(options.highlight, [ token.content ].concat(fences))\n      || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  return '<pre><code' + langClass + '>'\n        + highlighted\n        + '</code></pre>'\n        + getBreak(tokens, idx);\n};\n\nrules.fence_custom = {};\n\n/**\n * Headings\n */\n\nrules.heading_open = function(tokens, idx /*, options, env */) {\n  return '<h' + tokens[idx].hLevel + '>';\n};\nrules.heading_close = function(tokens, idx /*, options, env */) {\n  return '</h' + tokens[idx].hLevel + '>\\n';\n};\n\n/**\n * Horizontal rules\n */\n\nrules.hr = function(tokens, idx, options /*, env */) {\n  return (options.xhtmlOut ? '<hr />' : '<hr>') + getBreak(tokens, idx);\n};\n\n/**\n * Bullets\n */\n\nrules.bullet_list_open = function(/* tokens, idx, options, env */) {\n  return '<ul>\\n';\n};\nrules.bullet_list_close = function(tokens, idx /*, options, env */) {\n  return '</ul>' + getBreak(tokens, idx);\n};\n\n/**\n * List items\n */\n\nrules.list_item_open = function(/* tokens, idx, options, env */) {\n  return '<li>';\n};\nrules.list_item_close = function(/* tokens, idx, options, env */) {\n  return '</li>\\n';\n};\n\n/**\n * Ordered list items\n */\n\nrules.ordered_list_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  var order = token.order > 1 ? ' start=\"' + token.order + '\"' : '';\n  return '<ol' + order + '>\\n';\n};\nrules.ordered_list_close = function(tokens, idx /*, options, env */) {\n  return '</ol>' + getBreak(tokens, idx);\n};\n\n/**\n * Paragraphs\n */\n\nrules.paragraph_open = function(tokens, idx /*, options, env */) {\n  return tokens[idx].tight ? '' : '<p>';\n};\nrules.paragraph_close = function(tokens, idx /*, options, env */) {\n  var addBreak = !(tokens[idx].tight && idx && tokens[idx - 1].type === 'inline' && !tokens[idx - 1].content);\n  return (tokens[idx].tight ? '' : '</p>') + (addBreak ? getBreak(tokens, idx) : '');\n};\n\n/**\n * Links\n */\n\nrules.link_open = function(tokens, idx, options /* env */) {\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var target = options.linkTarget ? (' target=\"' + options.linkTarget + '\"') : '';\n  return '<a href=\"' + escapeHtml(tokens[idx].href) + '\"' + title + target + '>';\n};\nrules.link_close = function(/* tokens, idx, options, env */) {\n  return '</a>';\n};\n\n/**\n * Images\n */\n\nrules.image = function(tokens, idx, options /*, env */) {\n  var src = ' src=\"' + escapeHtml(tokens[idx].src) + '\"';\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var alt = ' alt=\"' + (tokens[idx].alt ? escapeHtml(replaceEntities(unescapeMd(tokens[idx].alt))) : '') + '\"';\n  var suffix = options.xhtmlOut ? ' /' : '';\n  return '<img' + src + alt + title + suffix + '>';\n};\n\n/**\n * Tables\n */\n\nrules.table_open = function(/* tokens, idx, options, env */) {\n  return '<table>\\n';\n};\nrules.table_close = function(/* tokens, idx, options, env */) {\n  return '</table>\\n';\n};\nrules.thead_open = function(/* tokens, idx, options, env */) {\n  return '<thead>\\n';\n};\nrules.thead_close = function(/* tokens, idx, options, env */) {\n  return '</thead>\\n';\n};\nrules.tbody_open = function(/* tokens, idx, options, env */) {\n  return '<tbody>\\n';\n};\nrules.tbody_close = function(/* tokens, idx, options, env */) {\n  return '</tbody>\\n';\n};\nrules.tr_open = function(/* tokens, idx, options, env */) {\n  return '<tr>';\n};\nrules.tr_close = function(/* tokens, idx, options, env */) {\n  return '</tr>\\n';\n};\nrules.th_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<th'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.th_close = function(/* tokens, idx, options, env */) {\n  return '</th>';\n};\nrules.td_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<td'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.td_close = function(/* tokens, idx, options, env */) {\n  return '</td>';\n};\n\n/**\n * Bold\n */\n\nrules.strong_open = function(/* tokens, idx, options, env */) {\n  return '<strong>';\n};\nrules.strong_close = function(/* tokens, idx, options, env */) {\n  return '</strong>';\n};\n\n/**\n * Italicize\n */\n\nrules.em_open = function(/* tokens, idx, options, env */) {\n  return '<em>';\n};\nrules.em_close = function(/* tokens, idx, options, env */) {\n  return '</em>';\n};\n\n/**\n * Strikethrough\n */\n\nrules.del_open = function(/* tokens, idx, options, env */) {\n  return '<del>';\n};\nrules.del_close = function(/* tokens, idx, options, env */) {\n  return '</del>';\n};\n\n/**\n * Insert\n */\n\nrules.ins_open = function(/* tokens, idx, options, env */) {\n  return '<ins>';\n};\nrules.ins_close = function(/* tokens, idx, options, env */) {\n  return '</ins>';\n};\n\n/**\n * Highlight\n */\n\nrules.mark_open = function(/* tokens, idx, options, env */) {\n  return '<mark>';\n};\nrules.mark_close = function(/* tokens, idx, options, env */) {\n  return '</mark>';\n};\n\n/**\n * Super- and sub-script\n */\n\nrules.sub = function(tokens, idx /*, options, env */) {\n  return '<sub>' + escapeHtml(tokens[idx].content) + '</sub>';\n};\nrules.sup = function(tokens, idx /*, options, env */) {\n  return '<sup>' + escapeHtml(tokens[idx].content) + '</sup>';\n};\n\n/**\n * Breaks\n */\n\nrules.hardbreak = function(tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\nrules.softbreak = function(tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n/**\n * Text\n */\n\nrules.text = function(tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n/**\n * Content\n */\n\nrules.htmlblock = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\nrules.htmltag = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n/**\n * Abbreviations, initialism\n */\n\nrules.abbr_open = function(tokens, idx /*, options, env */) {\n  return '<abbr title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\">';\n};\nrules.abbr_close = function(/* tokens, idx, options, env */) {\n  return '</abbr>';\n};\n\n/**\n * Footnotes\n */\n\nrules.footnote_ref = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return '<sup class=\"footnote-ref\"><a href=\"#fn' + n + '\" id=\"' + id + '\">[' + n + ']</a></sup>';\n};\nrules.footnote_block_open = function(tokens, idx, options) {\n  var hr = options.xhtmlOut\n    ? '<hr class=\"footnotes-sep\" />\\n'\n    : '<hr class=\"footnotes-sep\">\\n';\n  return hr + '<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n';\n};\nrules.footnote_block_close = function() {\n  return '</ol>\\n</section>\\n';\n};\nrules.footnote_open = function(tokens, idx) {\n  var id = Number(tokens[idx].id + 1).toString();\n  return '<li id=\"fn' + id + '\"  class=\"footnote-item\">';\n};\nrules.footnote_close = function() {\n  return '</li>\\n';\n};\nrules.footnote_anchor = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return ' <a href=\"#' + id + '\" class=\"footnote-backref\">↩</a>';\n};\n\n/**\n * Definition lists\n */\n\nrules.dl_open = function() {\n  return '<dl>\\n';\n};\nrules.dt_open = function() {\n  return '<dt>';\n};\nrules.dd_open = function() {\n  return '<dd>';\n};\nrules.dl_close = function() {\n  return '</dl>\\n';\n};\nrules.dt_close = function() {\n  return '</dt>\\n';\n};\nrules.dd_close = function() {\n  return '</dd>\\n';\n};\n\n/**\n * Helper functions\n */\n\nfunction nextToken(tokens, idx) {\n  if (++idx >= tokens.length - 2) {\n    return idx;\n  }\n  if ((tokens[idx].type === 'paragraph_open' && tokens[idx].tight) &&\n      (tokens[idx + 1].type === 'inline' && tokens[idx + 1].content.length === 0) &&\n      (tokens[idx + 2].type === 'paragraph_close' && tokens[idx + 2].tight)) {\n    return nextToken(tokens, idx + 2);\n  }\n  return idx;\n}\n\n/**\n * Check to see if `\\n` is needed before the next token.\n *\n * @param  {Array} `tokens`\n * @param  {Number} `idx`\n * @return {String} Empty string or newline\n * @api private\n */\n\nvar getBreak = rules.getBreak = function getBreak(tokens, idx) {\n  idx = nextToken(tokens, idx);\n  if (idx < tokens.length && tokens[idx].type === 'list_item_close') {\n    return '';\n  }\n  return '\\n';\n};\n\n/**\n * Expose `rules`\n */\n\nmodule.exports = rules;\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import _slicedToArray from\"/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import AppBar from\"@material-ui/core/AppBar\";import Toolbar from\"@material-ui/core/Toolbar\";import Typography from\"@material-ui/core/Typography\";import IconButton from\"@material-ui/core/IconButton\";import MenuIcon from\"@material-ui/icons/Menu\";import AccountCircle from\"@material-ui/icons/AccountCircle\";import MenuItem from\"@material-ui/core/MenuItem\";import Menu from\"@material-ui/core/Menu\";import{reactLocalStorage}from\"reactjs-localstorage\";import Button from\"@material-ui/core/Button\";// noinspection ES6CheckImport\nimport{useHistory}from\"react-router-dom\";import clsx from\"clsx\";import ChevronLeftIcon from\"@material-ui/icons/ChevronLeft\";import Divider from\"@material-ui/core/Divider\";import List from\"@material-ui/core/List\";import Drawer from\"@material-ui/core/Drawer\";import ListItem from\"@material-ui/core/ListItem\";import ListItemIcon from\"@material-ui/core/ListItemIcon\";import DashboardIcon from\"@material-ui/icons/Dashboard\";import ListItemText from\"@material-ui/core/ListItemText\";import ListSubheader from\"@material-ui/core/ListSubheader\";import AddIcon from\"@material-ui/icons/Add\";import ExitToAppIcon from\"@material-ui/icons/ExitToApp\";import EditIcon from\"@material-ui/icons/Edit\";import{green}from\"@material-ui/core/colors\";var drawerWidth=340;var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},menuButton:{marginRight:theme.spacing(2)},toolbar:{paddingRight:24// keep right padding when drawer closed\n},toolbarIcon:_objectSpread({display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\",padding:\"0 8px\"},theme.mixins.toolbar),appBar:{position:\"absolute\",zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},appBarShift:{marginLeft:drawerWidth,width:\"calc(100% - \".concat(drawerWidth,\"px)\"),transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},menuButtonHidden:{display:\"none\"},title:{flexGrow:1},drawerPaper:{position:\"absolute\",whiteSpace:\"nowrap\",width:drawerWidth,transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},drawerPaperClose:_defineProperty({overflowX:\"hidden\",transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),width:theme.spacing(7)},theme.breakpoints.up(\"sm\"),{width:theme.spacing(9)})};});export default function MenuAppBar(props){var classes=useStyles();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var _React$useState3=React.useState(props.auth===true),_React$useState4=_slicedToArray(_React$useState3,2),open=_React$useState4[0],setOpen=_React$useState4[1];var openMenu=Boolean(anchorEl);var history=useHistory();var handleMenu=function handleMenu(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var handleLogout=function handleLogout(){props.setAuth(false);reactLocalStorage.remove(\"token\");reactLocalStorage.remove(\"role\");handleClose();};var handleGoToLogin=function handleGoToLogin(){props.history.push(\"/login\");};var handleGoToHome=function handleGoToHome(){props.history.replace(\"/\");};var handleDrawerOpen=function handleDrawerOpen(){setOpen(true);};var handleDrawerClose=function handleDrawerClose(){setOpen(false);};return React.createElement(\"div\",{className:classes.root},React.createElement(AppBar,{className:clsx(classes.appBar,open&&classes.appBarShift),id:\"menubar\"},React.createElement(Toolbar,{className:classes.toolbar},props.auth&&React.createElement(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"open drawer\",onClick:handleDrawerOpen,className:clsx(classes.menuButton,open&&classes.menuButtonHidden)},React.createElement(MenuIcon,null)),React.createElement(Typography,{variant:\"h6\",className:classes.title,onClick:handleGoToHome},props.title),props.auth&&React.createElement(\"div\",null,React.createElement(IconButton,{\"aria-label\":\"account of current user\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:handleMenu,color:\"inherit\"},React.createElement(AccountCircle,null)),React.createElement(Menu,{id:\"menu-appbar\",anchorEl:anchorEl,anchorOrigin:{vertical:\"top\",horizontal:\"right\"},keepMounted:true,transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:openMenu,onClose:handleClose},React.createElement(MenuItem,{onClick:function onClick(){props.history.push(\"/profile\");handleClose();}},\"Profile\"),React.createElement(MenuItem,{onClick:handleLogout},\"Logout\"))),!props.auth&&React.createElement(Button,{color:\"inherit\",onClick:handleGoToLogin},\"Login\"))),props.auth&&React.createElement(Drawer,{position:\"absolute\",variant:\"permanent\",classes:{paper:clsx(classes.drawerPaper,!open&&classes.drawerPaperClose)},open:open},React.createElement(\"div\",{className:classes.toolbarIcon},React.createElement(IconButton,{onClick:handleDrawerClose},React.createElement(ChevronLeftIcon,null))),React.createElement(Divider,null),React.createElement(List,null,props.role===\"customer\"&&React.createElement(\"div\",null,React.createElement(ListItem,{button:true,onClick:function onClick(){history.push(\"/\");}},React.createElement(ListItemIcon,null,React.createElement(DashboardIcon,null)),React.createElement(ListItemText,{primary:\"Customer Dashboard\"})),React.createElement(ListItem,{button:true,onClick:function onClick(){history.push(\"/book\");}},React.createElement(ListItemIcon,null,React.createElement(AddIcon,null)),React.createElement(ListItemText,{primary:\"Book a new room\"}))),props.role===\"roomManager\"&&React.createElement(\"div\",null,React.createElement(ListItem,{button:true,onClick:function onClick(){history.push(\"/\");}},React.createElement(ListItemIcon,null,React.createElement(DashboardIcon,null)),React.createElement(ListItemText,{primary:\"Room Manager Dashboard\"})),React.createElement(ListItem,{button:true,onClick:function onClick(){history.push(\"/rooms\");}},React.createElement(ListItemIcon,null,React.createElement(EditIcon,null)),React.createElement(ListItemText,{primary:\"Manage Rooms and TimeSlots\"})))),React.createElement(Divider,null),React.createElement(List,null,React.createElement(\"div\",null,React.createElement(ListSubheader,{inset:true},\"Account\"),React.createElement(ListItem,{button:true,onClick:function onClick(){props.history.push(\"/profile\");}},React.createElement(ListItemIcon,null,React.createElement(AccountCircle,null)),React.createElement(ListItemText,{primary:\"Profile\"})),React.createElement(ListItem,{button:true,onClick:handleLogout},React.createElement(ListItemIcon,null,React.createElement(ExitToAppIcon,null)),React.createElement(ListItemText,{primary:\"Logout\"}))))));}","map":{"version":3,"sources":["/Users/blackhat/TV Shows/Meeting Room/src/frontend/src/components/app-bar/app-bar.component.jsx"],"names":["React","makeStyles","AppBar","Toolbar","Typography","IconButton","MenuIcon","AccountCircle","MenuItem","Menu","reactLocalStorage","Button","useHistory","clsx","ChevronLeftIcon","Divider","List","Drawer","ListItem","ListItemIcon","DashboardIcon","ListItemText","ListSubheader","AddIcon","ExitToAppIcon","EditIcon","green","drawerWidth","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","toolbar","paddingRight","toolbarIcon","display","alignItems","justifyContent","padding","mixins","appBar","position","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButtonHidden","title","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","MenuAppBar","props","classes","useState","anchorEl","setAnchorEl","auth","open","setOpen","openMenu","Boolean","history","handleMenu","event","currentTarget","handleClose","handleLogout","setAuth","remove","handleGoToLogin","push","handleGoToHome","replace","handleDrawerOpen","handleDrawerClose","vertical","horizontal","paper","role"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { reactLocalStorage } from \"reactjs-localstorage\";\nimport Button from \"@material-ui/core/Button\";\n// noinspection ES6CheckImport\nimport { useHistory } from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { green } from \"@material-ui/core/colors\";\n\nconst drawerWidth = 340;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    position: \"absolute\",\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: \"absolute\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n}));\n\nexport default function MenuAppBar(props) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [open, setOpen] = React.useState(props.auth === true);\n  const openMenu = Boolean(anchorEl);\n  const history = useHistory();\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogout = () => {\n    props.setAuth(false);\n    reactLocalStorage.remove(\"token\");\n    reactLocalStorage.remove(\"role\");\n    handleClose();\n  };\n\n  const handleGoToLogin = () => {\n    props.history.push(\"/login\");\n  };\n\n  const handleGoToHome = () => {\n    props.history.replace(\"/\");\n  };\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar\n        className={clsx(classes.appBar, open && classes.appBarShift)}\n        id=\"menubar\"\n      >\n        <Toolbar className={classes.toolbar}>\n          {props.auth && (\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              onClick={handleDrawerOpen}\n              className={clsx(\n                classes.menuButton,\n                open && classes.menuButtonHidden\n              )}\n            >\n              <MenuIcon />\n            </IconButton>\n          )}\n          <Typography\n            variant=\"h6\"\n            className={classes.title}\n            onClick={handleGoToHome}\n          >\n            {props.title}\n          </Typography>\n          {props.auth && (\n            <div>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                open={openMenu}\n                onClose={handleClose}\n              >\n                <MenuItem\n                  onClick={() => {\n                    props.history.push(\"/profile\");\n                    handleClose();\n                  }}\n                >\n                  Profile\n                </MenuItem>\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\n              </Menu>\n            </div>\n          )}\n          {!props.auth && (\n            <Button color=\"inherit\" onClick={handleGoToLogin}>\n              Login\n            </Button>\n          )}\n        </Toolbar>\n      </AppBar>\n      {props.auth && (\n        <Drawer\n          position=\"absolute\"\n          variant=\"permanent\"\n          classes={{\n            paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n          }}\n          open={open}\n        >\n          <div className={classes.toolbarIcon}>\n            <IconButton onClick={handleDrawerClose}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </div>\n          <Divider />\n          <List>\n            {props.role === \"customer\" && (\n              <div>\n                <ListItem\n                  button\n                  onClick={() => {\n                    history.push(\"/\");\n                  }}\n                >\n                  <ListItemIcon>\n                    <DashboardIcon />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Customer Dashboard\" />\n                </ListItem>\n                <ListItem\n                  button\n                  onClick={() => {\n                    history.push(\"/book\");\n                  }}\n                >\n                  <ListItemIcon>\n                    <AddIcon />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Book a new room\" />\n                </ListItem>\n              </div>\n            )}\n            {props.role === \"roomManager\" && (\n              <div>\n                <ListItem\n                  button\n                  onClick={() => {\n                    history.push(\"/\");\n                  }}\n                >\n                  <ListItemIcon>\n                    <DashboardIcon />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Room Manager Dashboard\" />\n                </ListItem>\n                <ListItem\n                  button\n                  onClick={() => {\n                    history.push(\"/rooms\");\n                  }}\n                >\n                  <ListItemIcon>\n                    <EditIcon />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Manage Rooms and TimeSlots\" />\n                </ListItem>\n              </div>\n            )}\n          </List>\n          <Divider />\n          <List>\n            <div>\n              <ListSubheader inset>Account</ListSubheader>\n              <ListItem\n                button\n                onClick={() => {\n                  props.history.push(\"/profile\");\n                }}\n              >\n                <ListItemIcon>\n                  <AccountCircle />\n                </ListItemIcon>\n                <ListItemText primary=\"Profile\" />\n              </ListItem>\n              <ListItem button onClick={handleLogout}>\n                <ListItemIcon>\n                  <ExitToAppIcon />\n                </ListItemIcon>\n                <ListItemText primary=\"Logout\" />\n              </ListItem>\n            </div>\n          </List>\n        </Drawer>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
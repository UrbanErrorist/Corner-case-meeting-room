{"ast":null,"code":"/* eslint no-eq-null: 0, eqeqeq: 0, no-unused-vars: 0 */\n\"use strict\";\n\nvar customError = require(\"es5-ext/error/custom\"),\n    defineLength = require(\"es5-ext/function/_define-length\"),\n    d = require(\"d\"),\n    ee = require(\"event-emitter\").methods,\n    resolveResolve = require(\"./resolve-resolve\"),\n    resolveNormalize = require(\"./resolve-normalize\");\n\nvar apply = Function.prototype.apply,\n    call = Function.prototype.call,\n    create = Object.create,\n    defineProperties = Object.defineProperties,\n    on = ee.on,\n    emit = ee.emit;\n\nmodule.exports = function (original, length, options) {\n  var cache = create(null),\n      conf,\n      memLength,\n      get,\n      set,\n      del,\n      clear,\n      extDel,\n      extGet,\n      extHas,\n      normalizer,\n      getListeners,\n      setListeners,\n      deleteListeners,\n      memoized,\n      resolve;\n  if (length !== false) memLength = length;else if (isNaN(original.length)) memLength = 1;else memLength = original.length;\n\n  if (options.normalizer) {\n    normalizer = resolveNormalize(options.normalizer);\n    get = normalizer.get;\n    set = normalizer.set;\n    del = normalizer.delete;\n    clear = normalizer.clear;\n  }\n\n  if (options.resolvers != null) resolve = resolveResolve(options.resolvers);\n\n  if (get) {\n    memoized = defineLength(function (arg) {\n      var id,\n          result,\n          args = arguments;\n      if (resolve) args = resolve(args);\n      id = get(args);\n\n      if (id !== null) {\n        if (hasOwnProperty.call(cache, id)) {\n          if (getListeners) conf.emit(\"get\", id, args, this);\n          return cache[id];\n        }\n      }\n\n      if (args.length === 1) result = call.call(original, this, args[0]);else result = apply.call(original, this, args);\n\n      if (id === null) {\n        id = get(args);\n        if (id !== null) throw customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n        id = set(args);\n      } else if (hasOwnProperty.call(cache, id)) {\n        throw customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n      }\n\n      cache[id] = result;\n      if (setListeners) conf.emit(\"set\", id, null, result);\n      return result;\n    }, memLength);\n  } else if (length === 0) {\n    memoized = function () {\n      var result;\n\n      if (hasOwnProperty.call(cache, \"data\")) {\n        if (getListeners) conf.emit(\"get\", \"data\", arguments, this);\n        return cache.data;\n      }\n\n      if (arguments.length) result = apply.call(original, this, arguments);else result = call.call(original, this);\n\n      if (hasOwnProperty.call(cache, \"data\")) {\n        throw customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n      }\n\n      cache.data = result;\n      if (setListeners) conf.emit(\"set\", \"data\", null, result);\n      return result;\n    };\n  } else {\n    memoized = function (arg) {\n      var result,\n          args = arguments,\n          id;\n      if (resolve) args = resolve(arguments);\n      id = String(args[0]);\n\n      if (hasOwnProperty.call(cache, id)) {\n        if (getListeners) conf.emit(\"get\", id, args, this);\n        return cache[id];\n      }\n\n      if (args.length === 1) result = call.call(original, this, args[0]);else result = apply.call(original, this, args);\n\n      if (hasOwnProperty.call(cache, id)) {\n        throw customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n      }\n\n      cache[id] = result;\n      if (setListeners) conf.emit(\"set\", id, null, result);\n      return result;\n    };\n  }\n\n  conf = {\n    original: original,\n    memoized: memoized,\n    profileName: options.profileName,\n    get: function (args) {\n      if (resolve) args = resolve(args);\n      if (get) return get(args);\n      return String(args[0]);\n    },\n    has: function (id) {\n      return hasOwnProperty.call(cache, id);\n    },\n    delete: function (id) {\n      var result;\n      if (!hasOwnProperty.call(cache, id)) return;\n      if (del) del(id);\n      result = cache[id];\n      delete cache[id];\n      if (deleteListeners) conf.emit(\"delete\", id, result);\n    },\n    clear: function () {\n      var oldCache = cache;\n      if (clear) clear();\n      cache = create(null);\n      conf.emit(\"clear\", oldCache);\n    },\n    on: function (type, listener) {\n      if (type === \"get\") getListeners = true;else if (type === \"set\") setListeners = true;else if (type === \"delete\") deleteListeners = true;\n      return on.call(this, type, listener);\n    },\n    emit: emit,\n    updateEnv: function () {\n      original = conf.original;\n    }\n  };\n\n  if (get) {\n    extDel = defineLength(function (arg) {\n      var id,\n          args = arguments;\n      if (resolve) args = resolve(args);\n      id = get(args);\n      if (id === null) return;\n      conf.delete(id);\n    }, memLength);\n  } else if (length === 0) {\n    extDel = function () {\n      return conf.delete(\"data\");\n    };\n  } else {\n    extDel = function (arg) {\n      if (resolve) arg = resolve(arguments)[0];\n      return conf.delete(arg);\n    };\n  }\n\n  extGet = defineLength(function () {\n    var id,\n        args = arguments;\n    if (length === 0) return cache.data;\n    if (resolve) args = resolve(args);\n    if (get) id = get(args);else id = String(args[0]);\n    return cache[id];\n  });\n  extHas = defineLength(function () {\n    var id,\n        args = arguments;\n    if (length === 0) return conf.has(\"data\");\n    if (resolve) args = resolve(args);\n    if (get) id = get(args);else id = String(args[0]);\n    if (id === null) return false;\n    return conf.has(id);\n  });\n  defineProperties(memoized, {\n    __memoized__: d(true),\n    delete: d(extDel),\n    clear: d(conf.clear),\n    _get: d(extGet),\n    _has: d(extHas)\n  });\n  return conf;\n};","map":{"version":3,"sources":["/Users/blackhat/TV Shows/Meeting Room/src/frontend/node_modules/memoizee/lib/configure-map.js"],"names":["customError","require","defineLength","d","ee","methods","resolveResolve","resolveNormalize","apply","Function","prototype","call","create","Object","defineProperties","on","emit","module","exports","original","length","options","cache","conf","memLength","get","set","del","clear","extDel","extGet","extHas","normalizer","getListeners","setListeners","deleteListeners","memoized","resolve","isNaN","delete","resolvers","arg","id","result","args","arguments","hasOwnProperty","data","String","profileName","has","oldCache","type","listener","updateEnv","__memoized__","_get","_has"],"mappings":"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","sourcesContent":["/* eslint no-eq-null: 0, eqeqeq: 0, no-unused-vars: 0 */\n\n\"use strict\";\n\nvar customError      = require(\"es5-ext/error/custom\")\n  , defineLength     = require(\"es5-ext/function/_define-length\")\n  , d                = require(\"d\")\n  , ee               = require(\"event-emitter\").methods\n  , resolveResolve   = require(\"./resolve-resolve\")\n  , resolveNormalize = require(\"./resolve-normalize\");\n\nvar apply = Function.prototype.apply\n  , call = Function.prototype.call\n  , create = Object.create\n  , defineProperties = Object.defineProperties\n  , on = ee.on\n  , emit = ee.emit;\n\nmodule.exports = function (original, length, options) {\n\tvar cache = create(null)\n\t  , conf\n\t  , memLength\n\t  , get\n\t  , set\n\t  , del\n\t  , clear\n\t  , extDel\n\t  , extGet\n\t  , extHas\n\t  , normalizer\n\t  , getListeners\n\t  , setListeners\n\t  , deleteListeners\n\t  , memoized\n\t  , resolve;\n\tif (length !== false) memLength = length;\n\telse if (isNaN(original.length)) memLength = 1;\n\telse memLength = original.length;\n\n\tif (options.normalizer) {\n\t\tnormalizer = resolveNormalize(options.normalizer);\n\t\tget = normalizer.get;\n\t\tset = normalizer.set;\n\t\tdel = normalizer.delete;\n\t\tclear = normalizer.clear;\n\t}\n\tif (options.resolvers != null) resolve = resolveResolve(options.resolvers);\n\n\tif (get) {\n\t\tmemoized = defineLength(function (arg) {\n\t\t\tvar id, result, args = arguments;\n\t\t\tif (resolve) args = resolve(args);\n\t\t\tid = get(args);\n\t\t\tif (id !== null) {\n\t\t\t\tif (hasOwnProperty.call(cache, id)) {\n\t\t\t\t\tif (getListeners) conf.emit(\"get\", id, args, this);\n\t\t\t\t\treturn cache[id];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (args.length === 1) result = call.call(original, this, args[0]);\n\t\t\telse result = apply.call(original, this, args);\n\t\t\tif (id === null) {\n\t\t\t\tid = get(args);\n\t\t\t\tif (id !== null) throw customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n\t\t\t\tid = set(args);\n\t\t\t} else if (hasOwnProperty.call(cache, id)) {\n\t\t\t\tthrow customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n\t\t\t}\n\t\t\tcache[id] = result;\n\t\t\tif (setListeners) conf.emit(\"set\", id, null, result);\n\t\t\treturn result;\n\t\t}, memLength);\n\t} else if (length === 0) {\n\t\tmemoized = function () {\n\t\t\tvar result;\n\t\t\tif (hasOwnProperty.call(cache, \"data\")) {\n\t\t\t\tif (getListeners) conf.emit(\"get\", \"data\", arguments, this);\n\t\t\t\treturn cache.data;\n\t\t\t}\n\t\t\tif (arguments.length) result = apply.call(original, this, arguments);\n\t\t\telse result = call.call(original, this);\n\t\t\tif (hasOwnProperty.call(cache, \"data\")) {\n\t\t\t\tthrow customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n\t\t\t}\n\t\t\tcache.data = result;\n\t\t\tif (setListeners) conf.emit(\"set\", \"data\", null, result);\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\tmemoized = function (arg) {\n\t\t\tvar result, args = arguments, id;\n\t\t\tif (resolve) args = resolve(arguments);\n\t\t\tid = String(args[0]);\n\t\t\tif (hasOwnProperty.call(cache, id)) {\n\t\t\t\tif (getListeners) conf.emit(\"get\", id, args, this);\n\t\t\t\treturn cache[id];\n\t\t\t}\n\t\t\tif (args.length === 1) result = call.call(original, this, args[0]);\n\t\t\telse result = apply.call(original, this, args);\n\t\t\tif (hasOwnProperty.call(cache, id)) {\n\t\t\t\tthrow customError(\"Circular invocation\", \"CIRCULAR_INVOCATION\");\n\t\t\t}\n\t\t\tcache[id] = result;\n\t\t\tif (setListeners) conf.emit(\"set\", id, null, result);\n\t\t\treturn result;\n\t\t};\n\t}\n\tconf = {\n\t\toriginal: original,\n\t\tmemoized: memoized,\n\t\tprofileName: options.profileName,\n\t\tget: function (args) {\n\t\t\tif (resolve) args = resolve(args);\n\t\t\tif (get) return get(args);\n\t\t\treturn String(args[0]);\n\t\t},\n\t\thas: function (id) { return hasOwnProperty.call(cache, id); },\n\t\tdelete: function (id) {\n\t\t\tvar result;\n\t\t\tif (!hasOwnProperty.call(cache, id)) return;\n\t\t\tif (del) del(id);\n\t\t\tresult = cache[id];\n\t\t\tdelete cache[id];\n\t\t\tif (deleteListeners) conf.emit(\"delete\", id, result);\n\t\t},\n\t\tclear: function () {\n\t\t\tvar oldCache = cache;\n\t\t\tif (clear) clear();\n\t\t\tcache = create(null);\n\t\t\tconf.emit(\"clear\", oldCache);\n\t\t},\n\t\ton: function (type, listener) {\n\t\t\tif (type === \"get\") getListeners = true;\n\t\t\telse if (type === \"set\") setListeners = true;\n\t\t\telse if (type === \"delete\") deleteListeners = true;\n\t\t\treturn on.call(this, type, listener);\n\t\t},\n\t\temit: emit,\n\t\tupdateEnv: function () { original = conf.original; }\n\t};\n\tif (get) {\n\t\textDel = defineLength(function (arg) {\n\t\t\tvar id, args = arguments;\n\t\t\tif (resolve) args = resolve(args);\n\t\t\tid = get(args);\n\t\t\tif (id === null) return;\n\t\t\tconf.delete(id);\n\t\t}, memLength);\n\t} else if (length === 0) {\n\t\textDel = function () { return conf.delete(\"data\"); };\n\t} else {\n\t\textDel = function (arg) {\n\t\t\tif (resolve) arg = resolve(arguments)[0];\n\t\t\treturn conf.delete(arg);\n\t\t};\n\t}\n\textGet = defineLength(function () {\n\t\tvar id, args = arguments;\n\t\tif (length === 0) return cache.data;\n\t\tif (resolve) args = resolve(args);\n\t\tif (get) id = get(args);\n\t\telse id = String(args[0]);\n\t\treturn cache[id];\n\t});\n\textHas = defineLength(function () {\n\t\tvar id, args = arguments;\n\t\tif (length === 0) return conf.has(\"data\");\n\t\tif (resolve) args = resolve(args);\n\t\tif (get) id = get(args);\n\t\telse id = String(args[0]);\n\t\tif (id === null) return false;\n\t\treturn conf.has(id);\n\t});\n\tdefineProperties(memoized, {\n\t\t__memoized__: d(true),\n\t\tdelete: d(extDel),\n\t\tclear: d(conf.clear),\n\t\t_get: d(extGet),\n\t\t_has: d(extHas)\n\t});\n\treturn conf;\n};\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"var _jsxFileName = \"/Users/blackhat/TV Shows/Meeting Room/src/frontend/src/App.js\";\nimport React, { useEffect } from 'react';\nimport './App.css'; // noinspection ES6CheckImport\n\nimport { Route, Switch, useHistory, useLocation, withRouter } from \"react-router-dom\";\nimport { reactLocalStorage } from 'reactjs-localstorage';\nimport SignupComponent from \"./components/signup/signup.component\";\nimport Login from \"./components/login/login.component\";\nimport MenuAppBar from \"./components/app-bar/app-bar.component\";\nimport Dashboard from \"./components/room-manager/dashboard.components\";\nimport CustomerDashboard from \"./components/customer/customer-dashboard.component\";\nimport Book from \"./components/customer/book/book.component\";\nimport ManageRooms from \"./components/room-manager/rooms/manage-rooms-page.components\";\nimport HomeComponent from \"./components/home.component\";\nimport ManageProfile from \"./components/profile/manage-profile-page.component.jsx\";\nimport ApiDoc from \"./components/api-doc/api-doc\";\nimport \"./components/home.css\";\n\nfunction App() {\n  const [auth, setAuth] = React.useState(false);\n  const [role, setRole] = React.useState();\n  const [title, setTitle] = React.useState('Room Slot Booking');\n  const history = useHistory();\n  const location = useLocation();\n  useEffect(() => {\n    if (reactLocalStorage.get('token')) setAuth(true);else setAuth(false);\n    setRole(reactLocalStorage.get('role'));\n    if (location.pathname === '/book' && reactLocalStorage.get('token') === null) history.replace('/');\n\n    if (location.pathname === '/rooms' && reactLocalStorage.get('token') === null) {\n      console.log(reactLocalStorage.get('token'));\n      history.replace('/');\n    }\n\n    if (location.pathname === '/admin') window.location.replace('/admin/');\n    if (location.pathname === '/api') setTitle('API Documentation');else {\n      if (role === 'customer') setTitle('Customer Dashboard');else if (role === 'roomManager') setTitle('Room Manager Dashboard');else setTitle('Room Slot Booking');\n    } // eslint-disable-next-line\n  }, [auth, location.pathname, role]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(MenuAppBar, {\n    title: title,\n    auth: auth,\n    role: role,\n    setAuth: setAuth,\n    history: history,\n    className: \"menubar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(SignupComponent, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, auth && React.createElement(ManageProfile, {\n    history: history,\n    setAuth: setAuth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), !auth && location.pathname === '/profile' && history.replace('/')), React.createElement(Route, {\n    path: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(Login, {\n    auth: auth,\n    setAuth: setAuth,\n    setRole: setRole,\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/book\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, auth && React.createElement(Book, {\n    auth: auth,\n    setAuth: setAuth,\n    setRole: setRole,\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/rooms\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, auth && React.createElement(ManageRooms, {\n    auth: auth,\n    setAuth: setAuth,\n    setRole: setRole,\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/api\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(ApiDoc, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, role === \"roomManager\" && React.createElement(Dashboard, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), role === \"customer\" && React.createElement(CustomerDashboard, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), !(role === \"roomManager\") && !(role === \"customer\") && React.createElement(HomeComponent, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }))));\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/blackhat/TV Shows/Meeting Room/src/frontend/src/App.js"],"names":["React","useEffect","Route","Switch","useHistory","useLocation","withRouter","reactLocalStorage","SignupComponent","Login","MenuAppBar","Dashboard","CustomerDashboard","Book","ManageRooms","HomeComponent","ManageProfile","ApiDoc","App","auth","setAuth","useState","role","setRole","title","setTitle","history","location","get","pathname","replace","console","log","window"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\nimport './App.css';\n// noinspection ES6CheckImport\nimport {Route, Switch, useHistory, useLocation, withRouter} from \"react-router-dom\";\nimport {reactLocalStorage} from 'reactjs-localstorage'\n\n\nimport SignupComponent from \"./components/signup/signup.component\";\nimport Login from \"./components/login/login.component\";\nimport MenuAppBar from \"./components/app-bar/app-bar.component\";\nimport Dashboard from \"./components/room-manager/dashboard.components\";\nimport CustomerDashboard from \"./components/customer/customer-dashboard.component\";\nimport Book from \"./components/customer/book/book.component\";\nimport ManageRooms from \"./components/room-manager/rooms/manage-rooms-page.components\";\nimport HomeComponent from \"./components/home.component\";\nimport ManageProfile from \"./components/profile/manage-profile-page.component.jsx\";\nimport ApiDoc from \"./components/api-doc/api-doc\";\nimport \"./components/home.css\";\n\n\nfunction App() {\n    const [auth, setAuth] = React.useState(false);\n    const [role, setRole] = React.useState();\n    const [title, setTitle] = React.useState('Room Slot Booking');\n    const history = useHistory();\n    const location = useLocation();\n\n\n    useEffect(() => {\n        if (reactLocalStorage.get('token'))\n            setAuth(true);\n        else\n            setAuth(false);\n\n        setRole(reactLocalStorage.get('role'));\n\n        if (location.pathname === '/book' && reactLocalStorage.get('token') === null)\n            history.replace('/');\n\n        if (location.pathname === '/rooms' && reactLocalStorage.get('token') === null) {\n            console.log(reactLocalStorage.get('token'));\n            history.replace('/');\n        }\n\n        if(location.pathname === '/admin')\n            window.location.replace('/admin/');\n\n        if (location.pathname === '/api')\n            setTitle('API Documentation');\n        else {\n            if (role === 'customer')\n                setTitle('Customer Dashboard');\n            else if (role === 'roomManager')\n                setTitle('Room Manager Dashboard');\n            else\n                setTitle('Room Slot Booking')\n        }\n        // eslint-disable-next-line\n    }, [auth, location.pathname, role]);\n\n    return (\n        <div>\n        \n            <MenuAppBar title={title} auth={auth} role={role} setAuth={setAuth} history={history} className=\"menubar\"/>\n            \n            <Switch>\n                <Route path=\"/signup\">\n                    <SignupComponent history={history}/>\n                </Route>\n                <Route path=\"/profile\">\n                    {auth && <ManageProfile history={history} setAuth={setAuth}/>}\n                    {!auth && location.pathname === '/profile' && history.replace('/')}\n                </Route>\n                <Route path=\"/login\">\n                    <Login auth={auth} setAuth={setAuth} setRole={setRole} history={history}/>\n                </Route>\n                <Route path=\"/book\">\n                    {auth && <Book auth={auth} setAuth={setAuth} setRole={setRole} history={history}/>}\n                </Route>\n                <Route path=\"/rooms\">\n                    {auth && <ManageRooms auth={auth} setAuth={setAuth} setRole={setRole} history={history}/>}\n                </Route>\n                <Route path=\"/api\">\n                    <ApiDoc/>\n                </Route>\n                <Route path=\"/\">\n                    {(role === \"roomManager\") && <Dashboard history={history}/>}\n                    {(role === \"customer\") && <CustomerDashboard history={history}/>}\n                    {!(role === \"roomManager\") && !(role === \"customer\") &&\n                    <HomeComponent history={history}/>\n                    }\n                </Route>\n            </Switch>\n        </div>\n    );\n}\n\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}
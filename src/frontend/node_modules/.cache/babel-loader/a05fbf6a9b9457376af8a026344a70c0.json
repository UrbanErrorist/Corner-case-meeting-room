{"ast":null,"code":"'use strict';\n\nvar toPosInt = require('es5-ext/number/to-pos-integer'),\n    create = Object.create,\n    hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (limit) {\n  var size = 0,\n      base = 1,\n      queue = create(null),\n      map = create(null),\n      index = 0,\n      del;\n  limit = toPosInt(limit);\n  return {\n    hit: function (id) {\n      var oldIndex = map[id],\n          nuIndex = ++index;\n      queue[nuIndex] = id;\n      map[id] = nuIndex;\n\n      if (!oldIndex) {\n        ++size;\n        if (size <= limit) return;\n        id = queue[base];\n        del(id);\n        return id;\n      }\n\n      delete queue[oldIndex];\n      if (base !== oldIndex) return;\n\n      while (!hasOwnProperty.call(queue, ++base)) continue; //jslint: skip\n\n    },\n    delete: del = function (id) {\n      var oldIndex = map[id];\n      if (!oldIndex) return;\n      delete queue[oldIndex];\n      delete map[id];\n      --size;\n      if (base !== oldIndex) return;\n\n      if (!size) {\n        index = 0;\n        base = 1;\n        return;\n      }\n\n      while (!hasOwnProperty.call(queue, ++base)) continue; //jslint: skip\n\n    },\n    clear: function () {\n      size = 0;\n      base = 1;\n      queue = create(null);\n      map = create(null);\n      index = 0;\n    }\n  };\n};","map":{"version":3,"sources":["/Users/blackhat/Desktop/testingRoom/src/frontend/node_modules/lru-queue/index.js"],"names":["toPosInt","require","create","Object","hasOwnProperty","prototype","module","exports","limit","size","base","queue","map","index","del","hit","id","oldIndex","nuIndex","call","delete","clear"],"mappings":"AAAA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,+BAAD,CAAtB;AAAA,IAEIC,MAAM,GAAGC,MAAM,CAACD,MAFpB;AAAA,IAE4BE,cAAc,GAAGD,MAAM,CAACE,SAAP,CAAiBD,cAF9D;;AAIAE,MAAM,CAACC,OAAP,GAAiB,UAAUC,KAAV,EAAiB;AACjC,MAAIC,IAAI,GAAG,CAAX;AAAA,MAAcC,IAAI,GAAG,CAArB;AAAA,MAAwBC,KAAK,GAAGT,MAAM,CAAC,IAAD,CAAtC;AAAA,MAA8CU,GAAG,GAAGV,MAAM,CAAC,IAAD,CAA1D;AAAA,MAAkEW,KAAK,GAAG,CAA1E;AAAA,MAA6EC,GAA7E;AACAN,EAAAA,KAAK,GAAGR,QAAQ,CAACQ,KAAD,CAAhB;AACA,SAAO;AACNO,IAAAA,GAAG,EAAE,UAAUC,EAAV,EAAc;AAClB,UAAIC,QAAQ,GAAGL,GAAG,CAACI,EAAD,CAAlB;AAAA,UAAwBE,OAAO,GAAG,EAAEL,KAApC;AACAF,MAAAA,KAAK,CAACO,OAAD,CAAL,GAAiBF,EAAjB;AACAJ,MAAAA,GAAG,CAACI,EAAD,CAAH,GAAUE,OAAV;;AACA,UAAI,CAACD,QAAL,EAAe;AACd,UAAER,IAAF;AACA,YAAIA,IAAI,IAAID,KAAZ,EAAmB;AACnBQ,QAAAA,EAAE,GAAGL,KAAK,CAACD,IAAD,CAAV;AACAI,QAAAA,GAAG,CAACE,EAAD,CAAH;AACA,eAAOA,EAAP;AACA;;AACD,aAAOL,KAAK,CAACM,QAAD,CAAZ;AACA,UAAIP,IAAI,KAAKO,QAAb,EAAuB;;AACvB,aAAO,CAACb,cAAc,CAACe,IAAf,CAAoBR,KAApB,EAA2B,EAAED,IAA7B,CAAR,EAA4C,SAb1B,CAaoC;;AACtD,KAfK;AAgBNU,IAAAA,MAAM,EAAEN,GAAG,GAAG,UAAUE,EAAV,EAAc;AAC3B,UAAIC,QAAQ,GAAGL,GAAG,CAACI,EAAD,CAAlB;AACA,UAAI,CAACC,QAAL,EAAe;AACf,aAAON,KAAK,CAACM,QAAD,CAAZ;AACA,aAAOL,GAAG,CAACI,EAAD,CAAV;AACA,QAAEP,IAAF;AACA,UAAIC,IAAI,KAAKO,QAAb,EAAuB;;AACvB,UAAI,CAACR,IAAL,EAAW;AACVI,QAAAA,KAAK,GAAG,CAAR;AACAH,QAAAA,IAAI,GAAG,CAAP;AACA;AACA;;AACD,aAAO,CAACN,cAAc,CAACe,IAAf,CAAoBR,KAApB,EAA2B,EAAED,IAA7B,CAAR,EAA4C,SAZjB,CAY2B;;AACtD,KA7BK;AA8BNW,IAAAA,KAAK,EAAE,YAAY;AAClBZ,MAAAA,IAAI,GAAG,CAAP;AACAC,MAAAA,IAAI,GAAG,CAAP;AACAC,MAAAA,KAAK,GAAGT,MAAM,CAAC,IAAD,CAAd;AACAU,MAAAA,GAAG,GAAGV,MAAM,CAAC,IAAD,CAAZ;AACAW,MAAAA,KAAK,GAAG,CAAR;AACA;AApCK,GAAP;AAsCA,CAzCD","sourcesContent":["'use strict';\n\nvar toPosInt = require('es5-ext/number/to-pos-integer')\n\n  , create = Object.create, hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (limit) {\n\tvar size = 0, base = 1, queue = create(null), map = create(null), index = 0, del;\n\tlimit = toPosInt(limit);\n\treturn {\n\t\thit: function (id) {\n\t\t\tvar oldIndex = map[id], nuIndex = ++index;\n\t\t\tqueue[nuIndex] = id;\n\t\t\tmap[id] = nuIndex;\n\t\t\tif (!oldIndex) {\n\t\t\t\t++size;\n\t\t\t\tif (size <= limit) return;\n\t\t\t\tid = queue[base];\n\t\t\t\tdel(id);\n\t\t\t\treturn id;\n\t\t\t}\n\t\t\tdelete queue[oldIndex];\n\t\t\tif (base !== oldIndex) return;\n\t\t\twhile (!hasOwnProperty.call(queue, ++base)) continue; //jslint: skip\n\t\t},\n\t\tdelete: del = function (id) {\n\t\t\tvar oldIndex = map[id];\n\t\t\tif (!oldIndex) return;\n\t\t\tdelete queue[oldIndex];\n\t\t\tdelete map[id];\n\t\t\t--size;\n\t\t\tif (base !== oldIndex) return;\n\t\t\tif (!size) {\n\t\t\t\tindex = 0;\n\t\t\t\tbase = 1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twhile (!hasOwnProperty.call(queue, ++base)) continue; //jslint: skip\n\t\t},\n\t\tclear: function () {\n\t\t\tsize = 0;\n\t\t\tbase = 1;\n\t\t\tqueue = create(null);\n\t\t\tmap = create(null);\n\t\t\tindex = 0;\n\t\t}\n\t};\n};\n"]},"metadata":{},"sourceType":"script"}